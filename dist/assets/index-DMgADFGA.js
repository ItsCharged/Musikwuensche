function YA(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function QA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qm={exports:{}},au={};var V0;function KA(){if(V0)return au;V0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return au.Fragment=e,au.jsx=n,au.jsxs=n,au}var k0;function XA(){return k0||(k0=1,Qm.exports=KA()),Qm.exports}var P=XA(),Km={exports:{}},xe={};var P0;function $A(){if(P0)return xe;P0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function te(C,Y,ne){this.props=C,this.context=Y,this.refs=z,this.updater=ne||F}te.prototype.isReactComponent={},te.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},te.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function se(){}se.prototype=te.prototype;function ie(C,Y,ne){this.props=C,this.context=Y,this.refs=z,this.updater=ne||F}var ce=ie.prototype=new se;ce.constructor=ie,G(ce,te.prototype),ce.isPureReactComponent=!0;var ge=Array.isArray;function he(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(C,Y,ne){var oe=ne.ref;return{$$typeof:i,type:C,key:Y,ref:oe!==void 0?oe:null,props:ne}}function V(C,Y){return I(C.type,Y,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function L(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ne){return Y[ne]})}var x=/\/+/g;function ae(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):Y.toString(36)}function _e(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(he,he):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function j(C,Y,ne,oe,pe){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var Ne=!1;if(C===null)Ne=!0;else switch(ve){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(C.$$typeof){case i:case e:Ne=!0;break;case b:return Ne=C._init,j(Ne(C._payload),Y,ne,oe,pe)}}if(Ne)return pe=pe(C),Ne=oe===""?"."+ae(C,0):oe,ge(pe)?(ne="",Ne!=null&&(ne=Ne.replace(x,"$&/")+"/"),j(pe,Y,ne,"",function(Ue){return Ue})):pe!=null&&(D(pe)&&(pe=V(pe,ne+(pe.key==null||C&&C.key===pe.key?"":(""+pe.key).replace(x,"$&/")+"/")+Ne)),Y.push(pe)),1;Ne=0;var Ie=oe===""?".":oe+":";if(ge(C))for(var Ye=0;Ye<C.length;Ye++)oe=C[Ye],ve=Ie+ae(oe,Ye),Ne+=j(oe,Y,ne,ve,pe);else if(Ye=O(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(oe=C.next()).done;)oe=oe.value,ve=Ie+ae(oe,Ye++),Ne+=j(oe,Y,ne,ve,pe);else if(ve==="object"){if(typeof C.then=="function")return j(_e(C),Y,ne,oe,pe);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function re(C,Y,ne){if(C==null)return C;var oe=[],pe=0;return j(C,oe,"","",function(ve){return Y.call(ne,ve,pe++)}),oe}function me(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(ne){(C._status===0||C._status===-1)&&(C._status=1,C._result=ne)},function(ne){(C._status===0||C._status===-1)&&(C._status=2,C._result=ne)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ce={map:re,forEach:function(C,Y,ne){re(C,function(){Y.apply(this,arguments)},ne)},count:function(C){var Y=0;return re(C,function(){Y++}),Y},toArray:function(C){return re(C,function(Y){return Y})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return xe.Activity=E,xe.Children=Ce,xe.Component=te,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ie,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},xe.cache=function(C){return function(){return C.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(C,Y,ne){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=G({},C.props),pe=C.key;if(Y!=null)for(ve in Y.key!==void 0&&(pe=""+Y.key),Y)!A.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(oe[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ne;else if(1<ve){for(var Ne=Array(ve),Ie=0;Ie<ve;Ie++)Ne[Ie]=arguments[Ie+2];oe.children=Ne}return I(C.type,pe,oe)},xe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},xe.createElement=function(C,Y,ne){var oe,pe={},ve=null;if(Y!=null)for(oe in Y.key!==void 0&&(ve=""+Y.key),Y)A.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=Y[oe]);var Ne=arguments.length-2;if(Ne===1)pe.children=ne;else if(1<Ne){for(var Ie=Array(Ne),Ye=0;Ye<Ne;Ye++)Ie[Ye]=arguments[Ye+2];pe.children=Ie}if(C&&C.defaultProps)for(oe in Ne=C.defaultProps,Ne)pe[oe]===void 0&&(pe[oe]=Ne[oe]);return I(C,ve,pe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(C){return{$$typeof:m,render:C}},xe.isValidElement=D,xe.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:me}},xe.memo=function(C,Y){return{$$typeof:p,type:C,compare:Y===void 0?null:Y}},xe.startTransition=function(C){var Y=R.T,ne={};R.T=ne;try{var oe=C(),pe=R.S;pe!==null&&pe(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(he,be)}catch(ve){be(ve)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),R.T=Y}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(C){return R.H.use(C)},xe.useActionState=function(C,Y,ne){return R.H.useActionState(C,Y,ne)},xe.useCallback=function(C,Y){return R.H.useCallback(C,Y)},xe.useContext=function(C){return R.H.useContext(C)},xe.useDebugValue=function(){},xe.useDeferredValue=function(C,Y){return R.H.useDeferredValue(C,Y)},xe.useEffect=function(C,Y){return R.H.useEffect(C,Y)},xe.useEffectEvent=function(C){return R.H.useEffectEvent(C)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(C,Y,ne){return R.H.useImperativeHandle(C,Y,ne)},xe.useInsertionEffect=function(C,Y){return R.H.useInsertionEffect(C,Y)},xe.useLayoutEffect=function(C,Y){return R.H.useLayoutEffect(C,Y)},xe.useMemo=function(C,Y){return R.H.useMemo(C,Y)},xe.useOptimistic=function(C,Y){return R.H.useOptimistic(C,Y)},xe.useReducer=function(C,Y,ne){return R.H.useReducer(C,Y,ne)},xe.useRef=function(C){return R.H.useRef(C)},xe.useState=function(C){return R.H.useState(C)},xe.useSyncExternalStore=function(C,Y,ne){return R.H.useSyncExternalStore(C,Y,ne)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.3",xe}var L0;function ep(){return L0||(L0=1,Km.exports=$A()),Km.exports}var M=ep();const In=QA(M),WA=YA({__proto__:null,default:In},[M]);var Xm={exports:{}},ou={},$m={exports:{}},Wm={};var U0;function JA(){return U0||(U0=1,(function(i){function e(j,re){var me=j.length;j.push(re);e:for(;0<me;){var be=me-1>>>1,Ce=j[be];if(0<o(Ce,re))j[be]=re,j[me]=Ce,me=be;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var re=j[0],me=j.pop();if(me!==re){j[0]=me;e:for(var be=0,Ce=j.length,C=Ce>>>1;be<C;){var Y=2*(be+1)-1,ne=j[Y],oe=Y+1,pe=j[oe];if(0>o(ne,me))oe<Ce&&0>o(pe,ne)?(j[be]=pe,j[oe]=me,be=oe):(j[be]=ne,j[Y]=me,be=Y);else if(oe<Ce&&0>o(pe,me))j[be]=pe,j[oe]=me,be=oe;else break e}}return re}function o(j,re){var me=j.sortIndex-re.sortIndex;return me!==0?me:j.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,E=null,w=3,O=!1,F=!1,G=!1,z=!1,te=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ce(j){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=j)s(p),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(p)}}function ge(j){if(G=!1,ce(j),!F)if(n(g)!==null)F=!0,he||(he=!0,L());else{var re=n(p);re!==null&&_e(ge,re.startTime-j)}}var he=!1,R=-1,A=5,I=-1;function V(){return z?!0:!(i.unstable_now()-I<A)}function D(){if(z=!1,he){var j=i.unstable_now();I=j;var re=!0;try{e:{F=!1,G&&(G=!1,se(R),R=-1),O=!0;var me=w;try{t:{for(ce(j),E=n(g);E!==null&&!(E.expirationTime>j&&V());){var be=E.callback;if(typeof be=="function"){E.callback=null,w=E.priorityLevel;var Ce=be(E.expirationTime<=j);if(j=i.unstable_now(),typeof Ce=="function"){E.callback=Ce,ce(j),re=!0;break t}E===n(g)&&s(g),ce(j)}else s(g);E=n(g)}if(E!==null)re=!0;else{var C=n(p);C!==null&&_e(ge,C.startTime-j),re=!1}}break e}finally{E=null,w=me,O=!1}re=void 0}}finally{re?L():he=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ae=x.port2;x.port1.onmessage=D,L=function(){ae.postMessage(null)}}else L=function(){te(D,0)};function _e(j,re){R=te(function(){j(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(j){j.callback=null},i.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(j){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var me=w;w=re;try{return j()}finally{w=me}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(j,re){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var me=w;w=j;try{return re()}finally{w=me}},i.unstable_scheduleCallback=function(j,re,me){var be=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,j){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=me+Ce,j={id:b++,callback:re,priorityLevel:j,startTime:me,expirationTime:Ce,sortIndex:-1},me>be?(j.sortIndex=me,e(p,j),n(g)===null&&j===n(p)&&(G?(se(R),R=-1):G=!0,_e(ge,me-be))):(j.sortIndex=Ce,e(g,j),F||O||(F=!0,he||(he=!0,L()))),j},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(j){var re=w;return function(){var me=w;w=re;try{return j.apply(this,arguments)}finally{w=me}}}})(Wm)),Wm}var z0;function ZA(){return z0||(z0=1,$m.exports=JA()),$m.exports}var Jm={exports:{}},pn={};var j0;function eR(){if(j0)return pn;j0=1;var i=ep();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,b)},pn.flushSync=function(g){var p=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=b,s.d.f()}},pn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},pn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},pn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:O}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:w,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},pn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,E=m(b,p.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},pn.requestFormReset=function(g){s.d.r(g)},pn.unstable_batchedUpdates=function(g,p){return g(p)},pn.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},pn.useFormStatus=function(){return h.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var B0;function WE(){if(B0)return Jm.exports;B0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jm.exports=eR(),Jm.exports}var q0;function tR(){if(q0)return ou;q0=1;var i=ZA(),e=ep(),n=WE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case te:return"Profiler";case z:return"StrictMode";case ge:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:ae(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return ae(t(r))}catch{}}return null}var _e=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},be=[],Ce=-1;function C(t){return{current:t}}function Y(t){0>Ce||(t.current=be[Ce],be[Ce]=null,Ce--)}function ne(t,r){Ce++,be[Ce]=t.current,t.current=r}var oe=C(null),pe=C(null),ve=C(null),Ne=C(null);function Ie(t,r){switch(ne(ve,r),ne(pe,t),ne(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?i0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=i0(r),t=r0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),ne(oe,t)}function Ye(){Y(oe),Y(pe),Y(ve)}function Ue(t){t.memoizedState!==null&&ne(Ne,t);var r=oe.current,a=r0(r,t.type);r!==a&&(ne(pe,t),ne(oe,a))}function ai(t){pe.current===t&&(Y(oe),Y(pe)),Ne.current===t&&(Y(Ne),nu._currentValue=me)}var tn,Hn;function Dt(t){if(tn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);tn=r&&r[1]||"",Hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+t+Hn}var oi=!1;function Nn(t,r){if(!t||oi)return"";oi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(X){var Q=X}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(X){Q=X}t.call(Z.prototype)}}else{try{throw Error()}catch(X){Q=X}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),H=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{oi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dt(a):""}function Hr(t,r){switch(t.tag){case 26:case 27:case 5:return Dt(t.type);case 16:return Dt("Lazy");case 13:return t.child!==r&&r!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Nn(t.type,!1);case 11:return Nn(t.type.render,!1);case 1:return Nn(t.type,!0);case 31:return Dt("Activity");default:return""}}function Fr(t){try{var r="",a=null;do r+=Hr(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,it=i.unstable_scheduleCallback,Fn=i.unstable_cancelCallback,Gr=i.unstable_shouldYield,$s=i.unstable_requestPaint,Kt=i.unstable_now,hr=i.unstable_getCurrentPriorityLevel,Ws=i.unstable_ImmediatePriority,li=i.unstable_UserBlockingPriority,Tn=i.unstable_NormalPriority,fr=i.unstable_LowPriority,Js=i.unstable_IdlePriority,Gn=i.log,Zs=i.unstable_setDisableYieldValue,Yn=null,Ht=null;function fn(t){if(typeof Gn=="function"&&Zs(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var mt=Math.clz32?Math.clz32:ja,za=Math.log,dr=Math.LN2;function ja(t){return t>>>=0,t===0?32:31-(za(t)/dr|0)|0}var ui=256,mr=262144,ke=4194304;function gt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=gt(l):(v&=T,v!==0?f=gt(v):a||(a=T&~t,a!==0&&(f=gt(a))))):(T=l&~d,T!==0?f=gt(T):v!==0?f=gt(v):a||(a=l&~t,a!==0&&(f=gt(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Nt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function dn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var t=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),t}function wt(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Mn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function St(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-mt(a),Z=1<<$;T[$]=0,N[$]=-1;var Q=H[$];if(Q!==null)for(H[$]=null,$=0;$<Q.length;$++){var X=Q[$];X!==null&&(X.lane&=-536870913)}a&=~Z}l!==0&&mn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function mn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-mt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function gn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function wn(t,r){var a=r&-r;return a=(a&42)!==0?1:Qn(a),(a&(t.suspendedLanes|r))!==0?0:a}function Qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kn(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:C0(t.type))}function nn(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var An=Math.random().toString(36).slice(2),Mt="__reactFiber$"+An,$t="__reactProps$"+An,Li="__reactContainer$"+An,Ba="__reactEvents$"+An,Zf="__reactListeners$"+An,sc="__reactHandles$"+An,ac="__reactResources$"+An,Ui="__reactMarker$"+An;function qa(t){delete t[Mt],delete t[$t],delete t[Ba],delete t[Zf],delete t[sc]}function zi(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Li]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h0(t);t!==null;){if(a=t[Mt])return a;t=h0(t)}return r}t=a,a=t.parentNode}return null}function ci(t){if(t=t[Mt]||t[Li]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Xn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ji(t){var r=t[ac];return r||(r=t[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(t){t[Ui]=!0}var ul=new Set,cl={};function Bi(t,r){qi(t,r),qi(t+"Capture",r)}function qi(t,r){for(cl[t]=r,t=0;t<r.length;t++)ul.add(r[t])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function oc(t){return dt.call(dl,t)?!0:dt.call(fl,t)?!1:hl.test(t)?dl[t]=!0:(fl[t]=!0,!1)}function Ha(t,r,a){if(oc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function $n(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ml(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Yr(t)?"checked":"value";t._valueTracker=ml(t,r,""+t[r])}}function ea(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ta=/[\n"\\]/g;function On(t){return t.replace(ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(t,r,a,l,f,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Wt(r)):t.value!==""+Wt(r)&&(t.value=""+Wt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?gl(t,v,Wt(r)):a!=null?gl(t,v,Wt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function lc(t,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+Wt(a):"",r=r!=null?""+Wt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function gl(t,r,a){r==="number"&&Hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function uc(t,r,a){if(r!=null&&(r=""+Wt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Wt(a):""}function Kr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(_e(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Wt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function Vn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||cc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function yl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&pl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&pl(t,d,r[d])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(t){return Xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Si(){}var vl=null;function hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $r=null,Fi=null;function na(t){var r=ci(t);if(r&&(t=r.stateNode)){var a=t[$t]||null;e:switch(t=r.stateNode,r.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[$t]||null;if(!f)throw Error(s(90));Fa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&ea(l)}break e;case"textarea":uc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Qr(t,!!a.multiple,r,!1)}}}var Qa=!1;function Wr(t,r,a){if(Qa)return t(r,a);Qa=!0;try{var l=t(r);return l}finally{if(Qa=!1,($r!==null||Fi!==null)&&(rh(),$r&&(r=$r,t=Fi,Fi=$r=null,na(r),t)))for(r=0;r<t.length;r++)na(t[r])}}function Ai(t,r){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(fi)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ia=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ia=!1}var Gi=null,_l=null,ra=null;function bl(){if(ra)return ra;var t,r=_l,a=r.length,l,f="value"in Gi?Gi.value:Gi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return ra=f.slice(t,1<l?1-l:void 0)}function sa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function gr(){return!0}function Ri(){return!1}function rn(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gr:Ri,this.isPropagationStopped=Ri,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),r}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=rn(pr),Jr=E({},pr,{view:0,detail:0}),El=rn(Jr),Zr,Ka,Qi,Xa=E({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(Zr=t.screenX-Qi.screenX,Ka=t.screenY-Qi.screenY):Ka=Zr=0,Qi=t),Zr)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Tl=rn(Xa),aa=E({},Xa,{dataTransfer:0}),fc=rn(aa),dc=E({},Jr,{relatedTarget:0}),oa=rn(dc),wl=E({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=rn(wl),$a=E({},pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gc=rn($a),pc=E({},pr,{data:0}),Ki=rn(pc),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=_c[t])?!!r[t]:!1}function es(){return bc}var Rn=E({},Jr,{key:function(t){if(t.key){var r=yc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ec=rn(Rn),Tc=E({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=rn(Tc),c=E({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),y=rn(c),_=E({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=rn(_),B=E({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=rn(B),le=E({},pr,{newState:0,oldState:0}),Me=rn(le),At=[9,13,27,32],$e=fi&&"CompositionEvent"in window,yt=null;fi&&"documentMode"in document&&(yt=document.documentMode);var di=fi&&"TextEvent"in window&&!yt,Xi=fi&&(!$e||yt&&8<yt&&11>=yt),Ci=" ",Ii=!1;function la(t,r){switch(t){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function p1(t,r){switch(t){case"compositionend":return Wa(r);case"keypress":return r.which!==32?null:(Ii=!0,Ci);case"textInput":return t=r.data,t===Ci&&Ii?null:t;default:return null}}function y1(t,r){if(Ja)return t==="compositionend"||!$e&&la(t,r)?(t=bl(),ra=_l=Gi=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xi&&r.locale!=="ko"?null:r.data;default:return null}}var v1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!v1[t.type]:r==="textarea"}function gy(t,r,a,l){$r?Fi?Fi.push(l):Fi=[l]:$r=l,r=hh(r,"onChange"),0<r.length&&(a=new Yi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Sl=null,Al=null;function _1(t){W_(t,0)}function wc(t){var r=Xn(t);if(ea(r))return t}function py(t,r){if(t==="change")return r}var yy=!1;if(fi){var ed;if(fi){var td="oninput"in document;if(!td){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),td=typeof vy.oninput=="function"}ed=td}else ed=!1;yy=ed&&(!document.documentMode||9<document.documentMode)}function _y(){Sl&&(Sl.detachEvent("onpropertychange",by),Al=Sl=null)}function by(t){if(t.propertyName==="value"&&wc(Al)){var r=[];gy(r,Al,t,hi(t)),Wr(_1,r)}}function b1(t,r,a){t==="focusin"?(_y(),Sl=r,Al=a,Sl.attachEvent("onpropertychange",by)):t==="focusout"&&_y()}function E1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wc(Al)}function T1(t,r){if(t==="click")return wc(r)}function w1(t,r){if(t==="input"||t==="change")return wc(r)}function S1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Wn=typeof Object.is=="function"?Object.is:S1;function Rl(t,r){if(Wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dt.call(r,f)||!Wn(t[f],r[f]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ty(t,r){var a=Ey(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ey(a)}}function wy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?wy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Hi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Hi(t.document)}return r}function nd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var A1=fi&&"documentMode"in document&&11>=document.documentMode,Za=null,id=null,Cl=null,rd=!1;function Ay(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rd||Za==null||Za!==Hi(l)||(l=Za,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Rl(Cl,l)||(Cl=l,l=hh(id,"onSelect"),0<l.length&&(r=new Yi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Za)))}function ua(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var eo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},sd={},Ry={};fi&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ca(t){if(sd[t])return sd[t];if(!eo[t])return t;var r=eo[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ry)return sd[t]=r[a];return t}var Cy=ca("animationend"),Iy=ca("animationiteration"),xy=ca("animationstart"),R1=ca("transitionrun"),C1=ca("transitionstart"),I1=ca("transitioncancel"),Dy=ca("transitionend"),Ny=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function xi(t,r){Ny.set(t,r),Bi(r,[t])}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mi=[],to=0,od=0;function Ac(){for(var t=to,r=od=to=0;r<t;){var a=mi[r];mi[r++]=null;var l=mi[r];mi[r++]=null;var f=mi[r];mi[r++]=null;var d=mi[r];if(mi[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&My(a,f,d)}}function Rc(t,r,a,l){mi[to++]=t,mi[to++]=r,mi[to++]=a,mi[to++]=l,od|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ld(t,r,a,l){return Rc(t,r,a,l),Cc(t)}function ha(t,r){return Rc(t,null,null,r),Cc(t)}function My(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Cc(t){if(50<Xl)throw Xl=0,ym=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var no={};function x1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,r,a,l){return new x1(t,r,a,l)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,r){var a=t.alternate;return a===null?(a=Jn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Oy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ic(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")ud(t)&&(v=1);else if(typeof t=="string")v=VA(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Jn(31,a,r,f),t.elementType=I,t.lanes=d,t;case G:return fa(a.children,f,d,r);case z:v=8,f|=24;break;case te:return t=Jn(12,a,r,f|2),t.elementType=te,t.lanes=d,t;case ge:return t=Jn(13,a,r,f),t.elementType=ge,t.lanes=d,t;case he:return t=Jn(19,a,r,f),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:v=10;break e;case se:v=9;break e;case ce:v=11;break e;case R:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Jn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function fa(t,r,a,l){return t=Jn(7,t,l,r),t.lanes=a,t}function cd(t,r,a){return t=Jn(6,t,null,r),t.lanes=a,t}function Vy(t){var r=Jn(18,null,null,0);return r.stateNode=t,r}function hd(t,r,a){return r=Jn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ky=new WeakMap;function gi(t,r){if(typeof t=="object"&&t!==null){var a=ky.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Fr(r)},ky.set(t,r),r)}return{value:t,source:r,stack:Fr(r)}}var io=[],ro=0,xc=null,Il=0,pi=[],yi=0,ts=null,$i=1,Wi="";function _r(t,r){io[ro++]=Il,io[ro++]=xc,xc=t,Il=r}function Py(t,r,a){pi[yi++]=$i,pi[yi++]=Wi,pi[yi++]=ts,ts=t;var l=$i;t=Wi;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,$i=1<<32-mt(r)+f|a<<f|l,Wi=d+t}else $i=1<<d|a<<f|l,Wi=t}function fd(t){t.return!==null&&(_r(t,1),Py(t,1,0))}function dd(t){for(;t===xc;)xc=io[--ro],io[ro]=null,Il=io[--ro],io[ro]=null;for(;t===ts;)ts=pi[--yi],pi[yi]=null,Wi=pi[--yi],pi[yi]=null,$i=pi[--yi],pi[yi]=null}function Ly(t,r){pi[yi++]=$i,pi[yi++]=Wi,pi[yi++]=ts,$i=r.id,Wi=r.overflow,ts=t}var sn=null,ct=null,Fe=!1,ns=null,vi=!1,md=Error(s(519));function is(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(gi(r,t)),md}function Uy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[$t]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Le(Wl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),lc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||t0(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||is(t,!0)}function zy(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:sn=sn.return}}function so(t){if(t!==sn)return!1;if(!Fe)return zy(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mm(t.type,t.memoizedProps)),a=!a),a&&ct&&is(t),zy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=c0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=c0(t)}else r===27?(r=ct,ys(t.type)?(t=Lm,Lm=null,ct=t):ct=r):ct=sn?bi(t.stateNode.nextSibling):null;return!0}function da(){ct=sn=null,Fe=!1}function gd(){var t=ns;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),ns=null),t}function xl(t){ns===null?ns=[t]:ns.push(t)}var pd=C(null),ma=null,br=null;function rs(t,r,a){ne(pd,r._currentValue),r._currentValue=a}function Er(t){t._currentValue=pd.current,Y(pd)}function yd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function vd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var N=0;N<r.length;N++)if(T.context===r[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),yd(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ao(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;Wn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ne.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(nu):t=[nu])}f=f.return}t!==null&&vd(r,t,a,l),r.flags|=262144}function Dc(t){for(t=t.firstContext;t!==null;){if(!Wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){ma=t,br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return jy(ma,t)}function Nc(t,r){return ma===null&&ga(t),jy(t,r)}function jy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},br===null){if(t===null)throw Error(s(308));br=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else br=br.next=r;return a}var D1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},N1=i.unstable_scheduleCallback,M1=i.unstable_NormalPriority,kt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new D1,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&N1(M1,function(){t.controller.abort()})}var Nl=null,bd=0,oo=0,lo=null;function O1(t,r){if(Nl===null){var a=Nl=[];bd=0,oo=wm(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,r.then(By,By),r}function By(){if(--bd===0&&Nl!==null){lo!==null&&(lo.status="fulfilled");var t=Nl;Nl=null,oo=0,lo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function V1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var qy=j.S;j.S=function(t,r){A_=Kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&O1(t,r),qy!==null&&qy(t,r)};var pa=C(null);function Ed(){var t=pa.current;return t!==null?t:lt.pooledCache}function Mc(t,r){r===null?ne(pa,pa.current):ne(pa,r.pool)}function Hy(){var t=Ed();return t===null?null:{parent:kt._currentValue,pool:t}}var uo=Error(s(460)),Td=Error(s(474)),Oc=Error(s(542)),Vc={then:function(){}};function Fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Si,Si),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qy(t),t;default:if(typeof r.status=="string")r.then(Si,Si);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Qy(t),t}throw va=r,uo}}function ya(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,uo):a}}var va=null;function Yy(){if(va===null)throw Error(s(459));var t=va;return va=null,t}function Qy(t){if(t===uo||t===Oc)throw Error(s(483))}var co=null,Ml=0;function kc(t){var r=Ml;return Ml+=1,co===null&&(co=[]),Gy(co,t,r)}function Ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Pc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ky(t){function r(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=vr(U,k),U.index=0,U.sibling=null,U}function d(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,q,J){return k===null||k.tag!==6?(k=cd(q,U.mode,J),k.return=U,k):(k=f(k,q),k.return=U,k)}function N(U,k,q,J){var Ee=q.type;return Ee===G?$(U,k,q.props.children,J,q.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ya(Ee)===k.type)?(k=f(k,q.props),Ol(k,q),k.return=U,k):(k=Ic(q.type,q.key,q.props,null,U.mode,J),Ol(k,q),k.return=U,k)}function H(U,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=hd(q,U.mode,J),k.return=U,k):(k=f(k,q.children||[]),k.return=U,k)}function $(U,k,q,J,Ee){return k===null||k.tag!==7?(k=fa(q,U.mode,J,Ee),k.return=U,k):(k=f(k,q),k.return=U,k)}function Z(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=cd(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return q=Ic(k.type,k.key,k.props,null,U.mode,q),Ol(q,k),q.return=U,q;case F:return k=hd(k,U.mode,q),k.return=U,k;case A:return k=ya(k),Z(U,k,q)}if(_e(k)||L(k))return k=fa(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return Z(U,kc(k),q);if(k.$$typeof===ie)return Z(U,Nc(U,k),q);Pc(U,k)}return null}function Q(U,k,q,J){var Ee=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:T(U,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===Ee?N(U,k,q,J):null;case F:return q.key===Ee?H(U,k,q,J):null;case A:return q=ya(q),Q(U,k,q,J)}if(_e(q)||L(q))return Ee!==null?null:$(U,k,q,J,null);if(typeof q.then=="function")return Q(U,k,kc(q),J);if(q.$$typeof===ie)return Q(U,k,Nc(U,q),J);Pc(U,q)}return null}function X(U,k,q,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,T(k,U,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return U=U.get(J.key===null?q:J.key)||null,N(k,U,J,Ee);case F:return U=U.get(J.key===null?q:J.key)||null,H(k,U,J,Ee);case A:return J=ya(J),X(U,k,q,J,Ee)}if(_e(J)||L(J))return U=U.get(q)||null,$(k,U,J,Ee,null);if(typeof J.then=="function")return X(U,k,q,kc(J),Ee);if(J.$$typeof===ie)return X(U,k,q,Nc(k,J),Ee);Pc(k,J)}return null}function de(U,k,q,J){for(var Ee=null,Ke=null,ye=k,Ve=k=0,je=null;ye!==null&&Ve<q.length;Ve++){ye.index>Ve?(je=ye,ye=null):je=ye.sibling;var Xe=Q(U,ye,q[Ve],J);if(Xe===null){ye===null&&(ye=je);break}t&&ye&&Xe.alternate===null&&r(U,ye),k=d(Xe,k,Ve),Ke===null?Ee=Xe:Ke.sibling=Xe,Ke=Xe,ye=je}if(Ve===q.length)return a(U,ye),Fe&&_r(U,Ve),Ee;if(ye===null){for(;Ve<q.length;Ve++)ye=Z(U,q[Ve],J),ye!==null&&(k=d(ye,k,Ve),Ke===null?Ee=ye:Ke.sibling=ye,Ke=ye);return Fe&&_r(U,Ve),Ee}for(ye=l(ye);Ve<q.length;Ve++)je=X(ye,U,Ve,q[Ve],J),je!==null&&(t&&je.alternate!==null&&ye.delete(je.key===null?Ve:je.key),k=d(je,k,Ve),Ke===null?Ee=je:Ke.sibling=je,Ke=je);return t&&ye.forEach(function(Ts){return r(U,Ts)}),Fe&&_r(U,Ve),Ee}function we(U,k,q,J){if(q==null)throw Error(s(151));for(var Ee=null,Ke=null,ye=k,Ve=k=0,je=null,Xe=q.next();ye!==null&&!Xe.done;Ve++,Xe=q.next()){ye.index>Ve?(je=ye,ye=null):je=ye.sibling;var Ts=Q(U,ye,Xe.value,J);if(Ts===null){ye===null&&(ye=je);break}t&&ye&&Ts.alternate===null&&r(U,ye),k=d(Ts,k,Ve),Ke===null?Ee=Ts:Ke.sibling=Ts,Ke=Ts,ye=je}if(Xe.done)return a(U,ye),Fe&&_r(U,Ve),Ee;if(ye===null){for(;!Xe.done;Ve++,Xe=q.next())Xe=Z(U,Xe.value,J),Xe!==null&&(k=d(Xe,k,Ve),Ke===null?Ee=Xe:Ke.sibling=Xe,Ke=Xe);return Fe&&_r(U,Ve),Ee}for(ye=l(ye);!Xe.done;Ve++,Xe=q.next())Xe=X(ye,U,Ve,Xe.value,J),Xe!==null&&(t&&Xe.alternate!==null&&ye.delete(Xe.key===null?Ve:Xe.key),k=d(Xe,k,Ve),Ke===null?Ee=Xe:Ke.sibling=Xe,Ke=Xe);return t&&ye.forEach(function(GA){return r(U,GA)}),Fe&&_r(U,Ve),Ee}function ot(U,k,q,J){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var Ee=q.key;k!==null;){if(k.key===Ee){if(Ee=q.type,Ee===G){if(k.tag===7){a(U,k.sibling),J=f(k,q.props.children),J.return=U,U=J;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ya(Ee)===k.type){a(U,k.sibling),J=f(k,q.props),Ol(J,q),J.return=U,U=J;break e}a(U,k);break}else r(U,k);k=k.sibling}q.type===G?(J=fa(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=Ic(q.type,q.key,q.props,null,U.mode,J),Ol(J,q),J.return=U,U=J)}return v(U);case F:e:{for(Ee=q.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),J=f(k,q.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else r(U,k);k=k.sibling}J=hd(q,U.mode,J),J.return=U,U=J}return v(U);case A:return q=ya(q),ot(U,k,q,J)}if(_e(q))return de(U,k,q,J);if(L(q)){if(Ee=L(q),typeof Ee!="function")throw Error(s(150));return q=Ee.call(q),we(U,k,q,J)}if(typeof q.then=="function")return ot(U,k,kc(q),J);if(q.$$typeof===ie)return ot(U,k,Nc(U,q),J);Pc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),J=f(k,q),J.return=U,U=J):(a(U,k),J=cd(q,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,q,J){try{Ml=0;var Ee=ot(U,k,q,J);return co=null,Ee}catch(ye){if(ye===uo||ye===Oc)throw ye;var Ke=Jn(29,ye,null,U.mode);return Ke.lanes=J,Ke.return=U,Ke}}}var _a=Ky(!0),Xy=Ky(!1),ss=!1;function wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function os(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Cc(t),My(t,null,a),r}return Rc(t,l,r,a),Cc(t)}function Vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,gn(t,a)}}function Ad(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Rd=!1;function kl(){if(Rd){var t=lo;if(t!==null)throw t}}function Pl(t,r,a,l){Rd=!1;var f=t.updateQueue;ss=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,H=N.next;N.next=null,v===null?d=H:v.next=H,v=N;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=H:T.next=H,$.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;v=0,$=H=N=null,T=d;do{var Q=T.lane&-536870913,X=Q!==T.lane;if(X?(ze&Q)===Q:(l&Q)===Q){Q!==0&&Q===oo&&(Rd=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,we=T;Q=r;var ot=a;switch(we.tag){case 1:if(de=we.payload,typeof de=="function"){Z=de.call(ot,Z,Q);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=we.payload,Q=typeof de=="function"?de.call(ot,Z,Q):de,Q==null)break e;Z=E({},Z,Q);break e;case 2:ss=!0}}Q=T.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(H=$=X,N=Z):$=$.next=X,v|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),fs|=v,t.lanes=v,t.memoizedState=Z}}function $y(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Wy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$y(a[t],r)}var ho=C(null),Lc=C(0);function Jy(t,r){t=Dr,ne(Lc,t),ne(ho,r),Dr=t|r.baseLanes}function Cd(){ne(Lc,Dr),ne(ho,ho.current)}function Id(){Dr=Lc.current,Y(ho),Y(Lc)}var Zn=C(null),_i=null;function ls(t){var r=t.alternate;ne(Rt,Rt.current&1),ne(Zn,t),_i===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(_i=t)}function xd(t){ne(Rt,Rt.current),ne(Zn,t),_i===null&&(_i=t)}function Zy(t){t.tag===22?(ne(Rt,Rt.current),ne(Zn,t),_i===null&&(_i=t)):us()}function us(){ne(Rt,Rt.current),ne(Zn,Zn.current)}function ei(t){Y(Zn),_i===t&&(_i=null),Y(Rt)}var Rt=C(0);function Uc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Pm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tr=0,Oe=null,st=null,Pt=null,zc=!1,fo=!1,ba=!1,jc=0,Ll=0,mo=null,k1=0;function bt(){throw Error(s(321))}function Dd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Wn(t[a],r[a]))return!1;return!0}function Nd(t,r,a,l,f,d){return Tr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,j.H=t===null||t.memoizedState===null?Pv:Yd,ba=!1,d=a(l,f),ba=!1,fo&&(d=tv(r,a,l,f)),ev(t),d}function ev(t){j.H=jl;var r=st!==null&&st.next!==null;if(Tr=0,Pt=st=Oe=null,zc=!1,Ll=0,mo=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&Dc(t)&&(Lt=!0))}function tv(t,r,a,l){Oe=t;var f=0;do{if(fo&&(mo=null),Ll=0,fo=!1,25<=f)throw Error(s(301));if(f+=1,Pt=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=Lv,d=r(a,l)}while(fo);return d}function P1(){var t=j.H,r=t.useState()[0];return r=typeof r.then=="function"?Ul(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Oe.flags|=1024),r}function Md(){var t=jc!==0;return jc=0,t}function Od(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Vd(t){if(zc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}zc=!1}Tr=0,Pt=st=Oe=null,fo=!1,Ll=jc=0,mo=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Ct(){if(st===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=Pt===null?Oe.memoizedState:Pt.next;if(r!==null)Pt=r,st=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Pt===null?Oe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var r=Ll;return Ll+=1,mo===null&&(mo=[]),t=Gy(mo,t,r),r=Oe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,j.H=r===null||r.memoizedState===null?Pv:Yd),t}function qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===ie)return an(t)}throw Error(s(438,String(t)))}function kd(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Bc(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function wr(t,r){return typeof r=="function"?r(t):r}function Hc(t){var r=Ct();return Pd(r,st,t)}function Pd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=v=null,N=null,H=r,$=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(ze&Z)===Z:(Tr&Z)===Z){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===oo&&($=!0);else if((Tr&Q)===Q){H=H.next,Q===oo&&($=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=Z,v=d):N=N.next=Z,Oe.lanes|=Q,fs|=Q;Z=H.action,ba&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else Q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=Q,v=d):N=N.next=Q,Oe.lanes|=Z,fs|=Z;H=H.next}while(H!==null&&H!==r);if(N===null?v=d:N.next=T,!Wn(d,t.memoizedState)&&(Lt=!0,$&&(a=lo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ld(t){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Wn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function nv(t,r,a){var l=Oe,f=Ct(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Wn((st||f).memoizedState,a);if(v&&(f.memoizedState=a,Lt=!0),f=f.queue,jd(sv.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},rv.bind(null,l,f,a,r),null),lt===null)throw Error(s(349));d||(Tr&127)!==0||iv(l,r,a)}return a}function iv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Bc(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function rv(t,r,a,l){r.value=a,r.getSnapshot=l,av(r)&&ov(t)}function sv(t,r,a){return a(function(){av(r)&&ov(t)})}function av(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Wn(t,a)}catch{return!0}}function ov(t){var r=ha(t,2);r!==null&&zn(r,t,2)}function Ud(t){var r=Cn();if(typeof t=="function"){var a=t;if(t=a(),ba){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:t},r}function lv(t,r,a,l){return t.baseState=a,Pd(t,st,typeof l=="function"?l:wr)}function L1(t,r,a,l,f){if(Yc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};j.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,uv(r,d)):(d.next=a.next,r.pending=a.next=d)}}function uv(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=j.T,v={};j.T=v;try{var T=a(f,l),N=j.S;N!==null&&N(v,T),cv(t,r,T)}catch(H){zd(t,r,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),j.T=d}}else try{d=a(f,l),cv(t,r,d)}catch(H){zd(t,r,H)}}function cv(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hv(t,r,l)},function(l){return zd(t,r,l)}):hv(t,r,a)}function hv(t,r,a){r.status="fulfilled",r.value=a,fv(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,uv(t,a)))}function zd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,fv(r),r=r.next;while(r!==l)}t.action=null}function fv(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dv(t,r){return r}function mv(t,r){if(Fe){var a=lt.formState;if(a!==null){e:{var l=Oe;if(Fe){if(ct){t:{for(var f=ct,d=vi;f.nodeType!==8;){if(!d){f=null;break t}if(f=bi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ct=bi(f.nextSibling),l=f.data==="F!";break e}}is(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:r},a.queue=l,a=Ov.bind(null,Oe,l),l.dispatch=a,l=Ud(!1),d=Gd.bind(null,Oe,!1,l.queue),l=Cn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=L1.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function gv(t){var r=Ct();return pv(r,st,t)}function pv(t,r,a){if(r=Pd(t,r,dv)[0],t=Hc(wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ul(r)}catch(v){throw v===uo?Oc:v}else l=r;r=Ct();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,go(9,{destroy:void 0},U1.bind(null,f,a),null)),[l,d,t]}function U1(t,r){t.action=r}function yv(t){var r=Ct(),a=st;if(a!==null)return pv(r,a,t);Ct(),r=r.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function go(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Bc(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function vv(){return Ct().memoizedState}function Fc(t,r,a,l){var f=Cn();Oe.flags|=t,f.memoizedState=go(1|r,{destroy:void 0},a,l===void 0?null:l)}function Gc(t,r,a,l){var f=Ct();l=l===void 0?null:l;var d=f.memoizedState.inst;st!==null&&l!==null&&Dd(l,st.memoizedState.deps)?f.memoizedState=go(r,d,a,l):(Oe.flags|=t,f.memoizedState=go(1|r,d,a,l))}function _v(t,r){Fc(8390656,8,t,r)}function jd(t,r){Gc(2048,8,t,r)}function z1(t){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Bc(),Oe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function bv(t){var r=Ct().memoizedState;return z1({ref:r,nextImpl:t}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ev(t,r){return Gc(4,2,t,r)}function Tv(t,r){return Gc(4,4,t,r)}function wv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sv(t,r,a){a=a!=null?a.concat([t]):null,Gc(4,4,wv.bind(null,r,t),a)}function Bd(){}function Av(t,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Dd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Rv(t,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Dd(r,l[1]))return l[0];if(l=t(),ba){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function qd(t,r,a){return a===void 0||(Tr&1073741824)!==0&&(ze&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=C_(),Oe.lanes|=t,fs|=t,a)}function Cv(t,r,a,l){return Wn(a,r)?a:ho.current!==null?(t=qd(t,a,l),Wn(t,r)||(Lt=!0),t):(Tr&42)===0||(Tr&1073741824)!==0&&(ze&261930)===0?(Lt=!0,t.memoizedState=a):(t=C_(),Oe.lanes|=t,fs|=t,r)}function Iv(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var v=j.T,T={};j.T=T,Gd(t,!1,r,a);try{var N=f(),H=j.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=V1(N,l);zl(t,r,$,ii(t))}else zl(t,r,l,ii(t))}catch(Z){zl(t,r,{then:function(){},status:"rejected",reason:Z},ii())}finally{re.p=d,v!==null&&T.types!==null&&(v.types=T.types),j.T=v}}function j1(){}function Hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=xv(t).queue;Iv(t,f,r,me,a===null?j1:function(){return Dv(t),a(l)})}function xv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Dv(t){var r=xv(t);r.next===null&&(r=t.alternate.memoizedState),zl(t,r.next.queue,{},ii())}function Fd(){return an(nu)}function Nv(){return Ct().memoizedState}function Mv(){return Ct().memoizedState}function B1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=ii();t=as(a);var l=os(r,t,a);l!==null&&(zn(l,r,a),Vl(l,r,a)),r={cache:_d()},t.payload=r;return}r=r.return}}function q1(t,r,a){var l=ii();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(t)?Vv(r,a):(a=ld(t,r,a,l),a!==null&&(zn(a,t,l),kv(a,r,l)))}function Ov(t,r,a){var l=ii();zl(t,r,a,l)}function zl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(t))Vv(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,Wn(T,v))return Rc(t,r,f,0),lt===null&&Ac(),!1}catch{}if(a=ld(t,r,f,l),a!==null)return zn(a,t,l),kv(a,r,l),!0}return!1}function Gd(t,r,a,l){if(l={lane:2,revertLane:wm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yc(t)){if(r)throw Error(s(479))}else r=ld(t,a,l,2),r!==null&&zn(r,t,2)}function Yc(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function Vv(t,r){fo=zc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function kv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,gn(t,a)}}var jl={readContext:an,use:qc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};jl.useEffectEvent=bt;var Pv={readContext:an,use:qc,useCallback:function(t,r){return Cn().memoizedState=[t,r===void 0?null:r],t},useContext:an,useEffect:_v,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Fc(4194308,4,wv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Fc(4194308,4,t,r)},useInsertionEffect:function(t,r){Fc(4,2,t,r)},useMemo:function(t,r){var a=Cn();r=r===void 0?null:r;var l=t();if(ba){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Cn();if(a!==void 0){var f=a(r);if(ba){fn(!0);try{a(r)}finally{fn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=q1.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=Cn();return t={current:t},r.memoizedState=t},useState:function(t){t=Ud(t);var r=t.queue,a=Ov.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Cn();return qd(a,t,r)},useTransition:function(){var t=Ud(!1);return t=Iv.bind(null,Oe,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,f=Cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(ze&127)!==0||iv(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,_v(sv.bind(null,l,d,t),[t]),l.flags|=2048,go(9,{destroy:void 0},rv.bind(null,l,d,a,r),null),a},useId:function(){var t=Cn(),r=lt.identifierPrefix;if(Fe){var a=Wi,l=$i;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=jc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=k1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Fd,useFormState:mv,useActionState:mv,useOptimistic:function(t){var r=Cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Gd.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:kd,useCacheRefresh:function(){return Cn().memoizedState=B1.bind(null,Oe)},useEffectEvent:function(t){var r=Cn(),a={impl:t};return r.memoizedState=a,function(){if((We&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yd={readContext:an,use:qc,useCallback:Av,useContext:an,useEffect:jd,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Rv,useReducer:Hc,useRef:vv,useState:function(){return Hc(wr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Ct();return Cv(a,st.memoizedState,t,r)},useTransition:function(){var t=Hc(wr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ul(t),r]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:Fd,useFormState:gv,useActionState:gv,useOptimistic:function(t,r){var a=Ct();return lv(a,st,t,r)},useMemoCache:kd,useCacheRefresh:Mv};Yd.useEffectEvent=bv;var Lv={readContext:an,use:qc,useCallback:Av,useContext:an,useEffect:jd,useImperativeHandle:Sv,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Rv,useReducer:Ld,useRef:vv,useState:function(){return Ld(wr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Ct();return st===null?qd(a,t,r):Cv(a,st.memoizedState,t,r)},useTransition:function(){var t=Ld(wr)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ul(t),r]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:Fd,useFormState:yv,useActionState:yv,useOptimistic:function(t,r){var a=Ct();return st!==null?lv(a,st,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:Mv};Lv.useEffectEvent=bv;function Qd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=ii(),f=as(l);f.payload=r,a!=null&&(f.callback=a),r=os(t,f,l),r!==null&&(zn(r,t,l),Vl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=ii(),f=as(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=os(t,f,l),r!==null&&(zn(r,t,l),Vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=ii(),l=as(a);l.tag=2,r!=null&&(l.callback=r),r=os(t,l,a),r!==null&&(zn(r,t,a),Vl(r,t,a))}};function Uv(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Rl(a,l)||!Rl(f,d):!0}function zv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Kd.enqueueReplaceState(r,r.state,null)}function Ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function jv(t){Sc(t)}function Bv(t){console.error(t)}function qv(t){Sc(t)}function Qc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xd(t,r,a){return a=as(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(t,r)},a}function Fv(t){return t=as(t),t.tag=3,t}function Gv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Hv(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hv(r,a,l),typeof f!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function H1(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ao(r,a,f,!0),a=Zn.current,a!==null){switch(a.tag){case 31:case 13:return _i===null?sh():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),bm(t,l,f)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),bm(t,l,f)),!1}throw Error(s(435,a.tag))}return bm(t,l,f),sh(),!1}if(Fe)return r=Zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==md&&(t=Error(s(422),{cause:l}),xl(gi(t,a)))):(l!==md&&(r=Error(s(423),{cause:l}),xl(gi(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=gi(l,a),f=Xd(t.stateNode,l,f),Ad(t,f),Et!==4&&(Et=2)),!1;var d=Error(s(520),{cause:l});if(d=gi(d,a),Kl===null?Kl=[d]:Kl.push(d),Et!==4&&(Et=2),r===null)return!0;l=gi(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Xd(a.stateNode,l,t),Ad(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ds===null||!ds.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Fv(f),Gv(f,t,a,l),Ad(a,f),!1}a=a.return}while(a!==null);return!1}var $d=Error(s(461)),Lt=!1;function on(t,r,a,l){r.child=t===null?Xy(r,null,a,l):_a(r,t.child,a,l)}function Yv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ga(r),l=Nd(t,r,a,v,d,f),T=Md(),t!==null&&!Lt?(Od(t,r,f),Sr(t,r,f)):(Fe&&T&&fd(r),r.flags|=1,on(t,r,l,f),r.child)}function Qv(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Kv(t,r,d,l,f)):(t=Ic(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!rm(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(v,l)&&t.ref===r.ref)return Sr(t,r,f)}return r.flags|=1,t=vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Kv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Rl(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,rm(t,f))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,Sr(t,r,f)}return Wd(t,r,a,l,f)}function Xv(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return $v(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mc(r,d!==null?d.cachePool:null),d!==null?Jy(r,d):Cd(),Zy(r);else return l=r.lanes=536870912,$v(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Mc(r,d.cachePool),Jy(r,d),us(),r.memoizedState=null):(t!==null&&Mc(r,null),Cd(),us());return on(t,r,f,a),r.child}function Bl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $v(t,r,a,l,f){var d=Ed();return d=d===null?null:{parent:kt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Mc(r,null),Cd(),Zy(r),t!==null&&ao(t,r,l,!0),r.childLanes=f,null}function Kc(t,r){return r=$c({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Wv(t,r,a){return _a(r,t.child,null,a),t=Kc(r,r.pendingProps),t.flags|=2,ei(r),r.memoizedState=null,t}function F1(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Kc(r,l),r.lanes=536870912,Bl(null,t);if(xd(r),(t=ct)?(t=u0(t,vi),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ts!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},a=Vy(t),a.return=r,r.child=a,sn=r,ct=null)):t=null,t===null)throw is(r);return r.lanes=536870912,null}return Kc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(xd(r),f)if(r.flags&256)r.flags&=-257,r=Wv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Lt||ao(t,r,a,!1),f=(a&t.childLanes)!==0,Lt||f){if(l=lt,l!==null&&(v=wn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ha(t,v),zn(l,t,v),$d;sh(),r=Wv(t,r,a)}else t=d.treeContext,ct=bi(v.nextSibling),sn=r,Fe=!0,ns=null,vi=!1,t!==null&&Ly(r,t),r=Kc(r,l),r.flags|=4096;return r}return t=vr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Xc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Wd(t,r,a,l,f){return ga(r),a=Nd(t,r,a,l,void 0,f),l=Md(),t!==null&&!Lt?(Od(t,r,f),Sr(t,r,f)):(Fe&&l&&fd(r),r.flags|=1,on(t,r,a,f),r.child)}function Jv(t,r,a,l,f,d){return ga(r),r.updateQueue=null,a=tv(r,l,a,f),ev(t),l=Md(),t!==null&&!Lt?(Od(t,r,d),Sr(t,r,d)):(Fe&&l&&fd(r),r.flags|=1,on(t,r,a,d),r.child)}function Zv(t,r,a,l,f){if(ga(r),r.stateNode===null){var d=no,v=a.contextType;typeof v=="object"&&v!==null&&(d=an(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},wd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?an(v):no,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Qd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Kd.enqueueReplaceState(d,d.state,null),Pl(r,l,d,f),kl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,N=Ea(a,T);d.props=N;var H=d.context,$=a.contextType;v=no,typeof $=="object"&&$!==null&&(v=an($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&zv(r,d,l,v),ss=!1;var Q=r.memoizedState;d.state=Q,Pl(r,l,d,f),kl(),H=r.memoizedState,T||Q!==H||ss?(typeof Z=="function"&&(Qd(r,a,Z,l),H=r.memoizedState),(N=ss||Uv(r,a,N,l,Q,H,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Sd(t,r),v=r.memoizedProps,$=Ea(a,v),d.props=$,Z=r.pendingProps,Q=d.context,H=a.contextType,N=no,typeof H=="object"&&H!==null&&(N=an(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||Q!==N)&&zv(r,d,l,N),ss=!1,Q=r.memoizedState,d.state=Q,Pl(r,l,d,f),kl();var X=r.memoizedState;v!==Z||Q!==X||ss||t!==null&&t.dependencies!==null&&Dc(t.dependencies)?(typeof T=="function"&&(Qd(r,a,T,l),X=r.memoizedState),($=ss||Uv(r,a,$,l,Q,X,N)||t!==null&&t.dependencies!==null&&Dc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Xc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=_a(r,t.child,null,f),r.child=_a(r,null,a,f)):on(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Sr(t,r,f),t}function e_(t,r,a,l){return da(),r.flags|=256,on(t,r,a,l),r.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:Hy()}}function em(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=ni),t}function t_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(f?ls(r):us(),(t=ct)?(t=u0(t,vi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ts!==null?{id:$i,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},a=Vy(t),a.return=r,r.child=a,sn=r,ct=null)):t=null,t===null)throw is(r);return Pm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,f?(us(),f=r.mode,T=$c({mode:"hidden",children:T},f),l=fa(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=Zd(a),l.childLanes=em(t,v,a),r.memoizedState=Jd,Bl(null,l)):(ls(r),tm(r,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)r.flags&256?(ls(r),r.flags&=-257,r=nm(t,r,a)):r.memoizedState!==null?(us(),r.child=t.child,r.flags|=128,r=null):(us(),T=l.fallback,f=r.mode,l=$c({mode:"visible",children:l.children},f),T=fa(T,f,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,_a(r,t.child,null,a),l=r.child,l.memoizedState=Zd(a),l.childLanes=em(t,v,a),r.memoizedState=Jd,r=Bl(null,l));else if(ls(r),Pm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,xl({value:l,source:null,stack:null}),r=nm(t,r,a)}else if(Lt||ao(t,r,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=lt,v!==null&&(l=wn(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ha(t,l),zn(v,t,l),$d;km(T)||sh(),r=nm(t,r,a)}else km(T)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,ct=bi(T.nextSibling),sn=r,Fe=!0,ns=null,vi=!1,t!==null&&Ly(r,t),r=tm(r,l.children),r.flags|=4096);return r}return f?(us(),T=l.fallback,f=r.mode,N=t.child,H=N.sibling,l=vr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?T=vr(H,T):(T=fa(T,f,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,Bl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=Zd(a):(f=T.cachePool,f!==null?(N=kt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Hy(),T={baseLanes:T.baseLanes|a,cachePool:f}),l.memoizedState=T,l.childLanes=em(t,v,a),r.memoizedState=Jd,Bl(t.child,l)):(ls(r),a=t.child,t=a.sibling,a=vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function tm(t,r){return r=$c({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function $c(t,r){return t=Jn(22,t,null,r),t.lanes=0,t}function nm(t,r,a){return _a(r,t.child,null,a),t=tm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function n_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),yd(t.return,r,a)}function im(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function i_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Rt.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,ne(Rt,v),on(t,r,l,a),l=Fe?Il:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,r);else if(t.tag===19)n_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Uc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),im(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Uc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}im(r,!0,a,null,d,l);break;case"together":im(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Sr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),fs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ao(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function rm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Dc(t)))}function G1(t,r,a){switch(r.tag){case 3:Ie(r,r.stateNode.containerInfo),rs(r,kt,t.memoizedState.cache),da();break;case 27:case 5:Ue(r);break;case 4:Ie(r,r.stateNode.containerInfo);break;case 10:rs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ls(r),r.flags|=128,null):(a&r.child.childLanes)!==0?t_(t,r,a):(ls(r),t=Sr(t,r,a),t!==null?t.sibling:null);ls(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ao(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return i_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Rt,Rt.current),l)break;return null;case 22:return r.lanes=0,Xv(t,r,a,r.pendingProps);case 24:rs(r,kt,t.memoizedState.cache)}return Sr(t,r,a)}function r_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!rm(t,a)&&(r.flags&128)===0)return Lt=!1,G1(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(r.flags&1048576)!==0&&Py(r,Il,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ya(r.elementType),r.type=t,typeof t=="function")ud(t)?(l=Ea(t,l),r.tag=1,r=Zv(null,r,t,l,a)):(r.tag=0,r=Wd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ce){r.tag=11,r=Yv(null,r,t,l,a);break e}else if(f===R){r.tag=14,r=Qv(null,r,t,l,a);break e}}throw r=ae(t)||t,Error(s(306,r,""))}}return r;case 0:return Wd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ea(l,r.pendingProps),Zv(t,r,l,f,a);case 3:e:{if(Ie(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Sd(t,r),Pl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,rs(r,kt,l),l!==d.cache&&vd(r,[kt],a,!0),kl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=e_(t,r,l,a);break e}else if(l!==f){f=gi(Error(s(424)),r),xl(f),r=e_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=bi(t.firstChild),sn=r,Fe=!0,ns=null,vi=!0,a=Xy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(da(),l===f){r=Sr(t,r,a);break e}on(t,r,l,a)}r=r.child}return r;case 26:return Xc(t,r),t===null?(a=g0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=fh(ve.current).createElement(a),l[Mt]=r,l[$t]=t,ln(l,a,t),Ot(l),r.stateNode=l):r.memoizedState=g0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ue(r),t===null&&Fe&&(l=r.stateNode=f0(r.type,r.pendingProps,ve.current),sn=r,vi=!0,f=ct,ys(r.type)?(Lm=f,ct=bi(l.firstChild)):ct=f),on(t,r,r.pendingProps.children,a),Xc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((f=l=ct)&&(l=EA(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,sn=r,ct=bi(l.firstChild),vi=!1,f=!0):f=!1),f||is(r)),Ue(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Mm(f,d)?l=null:v!==null&&Mm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Nd(t,r,P1,null,null,a),nu._currentValue=f),Xc(t,r),on(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ct)&&(a=TA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,sn=r,ct=null,t=!0):t=!1),t||is(r)),null;case 13:return t_(t,r,a);case 4:return Ie(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=_a(r,null,l,a):on(t,r,l,a),r.child;case 11:return Yv(t,r,r.type,r.pendingProps,a);case 7:return on(t,r,r.pendingProps,a),r.child;case 8:return on(t,r,r.pendingProps.children,a),r.child;case 12:return on(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,rs(r,r.type,l.value),on(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ga(r),f=an(f),l=l(f),r.flags|=1,on(t,r,l,a),r.child;case 14:return Qv(t,r,r.type,r.pendingProps,a);case 15:return Kv(t,r,r.type,r.pendingProps,a);case 19:return i_(t,r,a);case 31:return F1(t,r,a);case 22:return Xv(t,r,a,r.pendingProps);case 24:return ga(r),l=an(kt),t===null?(f=Ed(),f===null&&(f=lt,d=_d(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},wd(r),rs(r,kt,f)):((t.lanes&a)!==0&&(Sd(t,r),Pl(r,null,null,a),kl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),rs(r,kt,l)):(l=d.cache,rs(r,kt,l),l!==f.cache&&vd(r,[kt],a,!0))),on(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ar(t){t.flags|=4}function sm(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(N_())t.flags|=8192;else throw va=Vc,Td}else t.flags&=-16777217}function s_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(r))if(N_())t.flags|=8192;else throw va=Vc,Td}function Wc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Xt():536870912,t.lanes|=r,_o|=r)}function ql(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Y1(t,r,a){var l=r.pendingProps;switch(dd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Er(kt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(r)?Ar(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gd())),ht(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(Ar(r),d!==null?(ht(r),s_(r,d)):(ht(r),sm(r,f,null,l,a))):d?d!==t.memoizedState?(Ar(r),ht(r),s_(r,d)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ar(r),ht(r),sm(r,f,t,l,a)),null;case 27:if(ai(r),a=ve.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=oe.current,so(r)?Uy(r):(t=f0(f,l,a),r.stateNode=t,Ar(r))}return ht(r),null;case 5:if(ai(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(d=oe.current,so(r))Uy(r);else{var v=fh(ve.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Mt]=r,d[$t]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(ln(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ar(r)}}return ht(r),sm(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ar(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ve.current,so(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t0(t.nodeValue,a)),t||is(r,!0)}else t=fh(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return ht(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=so(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else a=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(ei(r),r):(ei(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=so(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else f=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ei(r),r):(ei(r),null)}return ei(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Wc(r,r.updateQueue),ht(r),null);case 4:return Ye(),t===null&&Cm(r.stateNode.containerInfo),ht(r),null;case 10:return Er(r.type),ht(r),null;case 19:if(Y(Rt),l=r.memoizedState,l===null)return ht(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)ql(l,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Uc(t),d!==null){for(r.flags|=128,ql(l,!1),t=d.updateQueue,r.updateQueue=t,Wc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Oy(a,t),a=a.sibling;return ne(Rt,Rt.current&1|2),Fe&&_r(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Kt()>nh&&(r.flags|=128,f=!0,ql(l,!1),r.lanes=4194304)}else{if(!f)if(t=Uc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Wc(r,t),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(r),null}else 2*Kt()-l.renderingStartTime>nh&&a!==536870912&&(r.flags|=128,f=!0,ql(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kt(),t.sibling=null,a=Rt.current,ne(Rt,f?a&1|2:a&1),Fe&&_r(r,l.treeForkCount),t):(ht(r),null);case 22:case 23:return ei(r),Id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Wc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Y(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Er(kt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Q1(t,r){switch(dd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Er(kt),Ye(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ai(r),null;case 31:if(r.memoizedState!==null){if(ei(r),r.alternate===null)throw Error(s(340));da()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ei(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));da()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(Rt),null;case 4:return Ye(),null;case 10:return Er(r.type),null;case 22:case 23:return ei(r),Id(),t!==null&&Y(pa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Er(kt),null;case 25:return null;default:return null}}function a_(t,r){switch(dd(r),r.tag){case 3:Er(kt),Ye();break;case 26:case 27:case 5:ai(r);break;case 4:Ye();break;case 31:r.memoizedState!==null&&ei(r);break;case 13:ei(r);break;case 19:Y(Rt);break;case 10:Er(r.type);break;case 22:case 23:ei(r),Id(),t!==null&&Y(pa);break;case 24:Er(kt)}}function Hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(r,r.return,T)}}function cs(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var N=a,H=T;try{H()}catch($){tt(f,N,$)}}}l=l.next}while(l!==d)}}catch($){tt(r,r.return,$)}}function o_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Wy(r,a)}catch(l){tt(t,t.return,l)}}}function l_(t,r,a){a.props=Ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,r,l)}}function Fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){tt(t,r,f)}}function Ji(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(t,r,f)}else a.current=null}function u_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(t,t.return,f)}}function am(t,r,a){try{var l=t.stateNode;gA(l,t.type,a,r),l[$t]=r}catch(f){tt(t,t.return,f)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Si));else if(l!==4&&(l===27&&ys(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(lm(t,r,a),t=t.sibling;t!==null;)lm(t,r,a),t=t.sibling}function Jc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jc(t,r,a),t=t.sibling;t!==null;)Jc(t,r,a),t=t.sibling}function h_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);ln(r,l,a),r[Mt]=t,r[$t]=a}catch(d){tt(t,t.return,d)}}var Rr=!1,Ut=!1,um=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function K1(t,r){if(t=t.containerInfo,Dm=_h,t=Sy(t),nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,H=0,$=0,Z=t,Q=null;t:for(;;){for(var X;Z!==a||f!==0&&Z.nodeType!==3||(T=v+f),Z!==d||l!==0&&Z.nodeType!==3||(N=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(X=Z.firstChild)!==null;)Q=Z,Z=X;for(;;){if(Z===t)break t;if(Q===a&&++H===f&&(T=v),Q===d&&++$===l&&(N=v),(X=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=X}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nm={focusedElem:t,selectionRange:a},_h=!1,Jt=r;Jt!==null;)if(r=Jt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Jt=t;else for(;Jt!==null;){switch(r=Jt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Ea(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){tt(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Jt=t;break}Jt=r.return}}function d_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ir(t,a),l&4&&Hl(5,a);break;case 1:if(Ir(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var f=Ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&o_(a),l&512&&Fl(a,a.return);break;case 3:if(Ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Wy(t,r)}catch(v){tt(a,a.return,v)}}break;case 27:r===null&&l&4&&h_(a);case 26:case 5:Ir(t,a),r===null&&l&4&&u_(a),l&512&&Fl(a,a.return);break;case 12:Ir(t,a);break;case 31:Ir(t,a),l&4&&p_(t,a);break;case 13:Ir(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iA.bind(null,a),wA(t,a))));break;case 22:if(l=a.memoizedState!==null||Rr,!l){r=r!==null&&r.memoizedState!==null||Ut,f=Rr;var d=Ut;Rr=l,(Ut=r)&&!d?xr(t,a,(a.subtreeFlags&8772)!==0):Ir(t,a),Rr=f,Ut=d}break;case 30:break;default:Ir(t,a)}}function m_(t){var r=t.alternate;r!==null&&(t.alternate=null,m_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&qa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,kn=!1;function Cr(t,r,a){for(a=a.child;a!==null;)g_(t,r,a),a=a.sibling}function g_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ut||Ji(a,r),Cr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Ji(a,r);var l=vt,f=kn;ys(a.type)&&(vt=a.stateNode,kn=!1),Cr(t,r,a),Zl(a.stateNode),vt=l,kn=f;break;case 5:Ut||Ji(a,r);case 6:if(l=vt,f=kn,vt=null,Cr(t,r,a),vt=l,kn=f,vt!==null)if(kn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{vt.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:vt!==null&&(kn?(t=vt,o0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):o0(vt,a.stateNode));break;case 4:l=vt,f=kn,vt=a.stateNode.containerInfo,kn=!0,Cr(t,r,a),vt=l,kn=f;break;case 0:case 11:case 14:case 15:cs(2,a,r),Ut||cs(4,a,r),Cr(t,r,a);break;case 1:Ut||(Ji(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,r,l)),Cr(t,r,a);break;case 21:Cr(t,r,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,Cr(t,r,a),Ut=l;break;default:Cr(t,r,a)}}function p_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(a){tt(r,r.return,a)}}}function y_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){tt(r,r.return,a)}}function X1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new f_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new f_),r;default:throw Error(s(435,t.tag))}}function Zc(t,r){var a=X1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=rA.bind(null,t,l);l.then(f,f)}})}function Pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ys(T.type)){vt=T.stateNode,kn=!1;break e}break;case 5:vt=T.stateNode,kn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));g_(d,v,f),vt=null,kn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)v_(r,t),r=r.sibling}var Di=null;function v_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(r,t),Ln(t),l&4&&(cs(3,t,t.return),Hl(3,t),cs(5,t,t.return));break;case 1:Pn(r,t),Ln(t),l&512&&(Ut||a===null||Ji(a,a.return)),l&64&&Rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Di;if(Pn(r,t),Ln(t),l&512&&(Ut||a===null||Ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ui]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),ln(d,l,a),d[Mt]=t,Ot(d),l=d;break e;case"link":var v=v0("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),ln(d,l,a),f.head.appendChild(d);break;case"meta":if(v=v0("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),ln(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,Ot(d),l=d}t.stateNode=l}else _0(f,t.type,t.stateNode);else t.stateNode=y0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_0(f,t.type,t.stateNode):y0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&am(t,t.memoizedProps,a.memoizedProps)}break;case 27:Pn(r,t),Ln(t),l&512&&(Ut||a===null||Ji(a,a.return)),a!==null&&l&4&&am(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Pn(r,t),Ln(t),l&512&&(Ut||a===null||Ji(a,a.return)),t.flags&32){f=t.stateNode;try{Vn(f,"")}catch(de){tt(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,am(t,f,a!==null?a.memoizedProps:f)),l&1024&&(um=!0);break;case 6:if(Pn(r,t),Ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){tt(t,t.return,de)}}break;case 3:if(gh=null,f=Di,Di=dh(r.containerInfo),Pn(r,t),Di=f,Ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(r.containerInfo)}catch(de){tt(t,t.return,de)}um&&(um=!1,__(t));break;case 4:l=Di,Di=dh(t.stateNode.containerInfo),Pn(r,t),Ln(t),Di=l;break;case 12:Pn(r,t),Ln(t);break;case 31:Pn(r,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 13:Pn(r,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(th=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Rr,$=Ut;if(Rr=H||f,Ut=$||N,Pn(r,t),Ut=$,Rr=H,Ln(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Rr||Ut||Ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,Q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(de){tt(N,N.return,de)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){tt(N,N.return,de)}}}else if(r.tag===18){if(a===null){N=r;try{var X=N.stateNode;f?l0(X,!0):l0(N.stateNode,!1)}catch(de){tt(N,N.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zc(t,a))));break;case 19:Pn(r,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zc(t,l)));break;case 30:break;case 21:break;default:Pn(r,t),Ln(t)}}function Ln(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=om(t);Jc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Vn(v,""),a.flags&=-33);var T=om(t);Jc(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,H=om(t);lm(t,H,N);break;default:throw Error(s(161))}}catch($){tt(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;__(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ir(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d_(t,r.alternate,r),r=r.sibling}function Ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:cs(4,r,r.return),Ta(r);break;case 1:Ji(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l_(r,r.return,a),Ta(r);break;case 27:Zl(r.stateNode);case 26:case 5:Ji(r,r.return),Ta(r);break;case 22:r.memoizedState===null&&Ta(r);break;case 30:Ta(r);break;default:Ta(r)}t=t.sibling}}function xr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:xr(f,d,a),Hl(4,d);break;case 1:if(xr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){tt(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)$y(N[f],T)}catch(H){tt(l,l.return,H)}}a&&v&64&&o_(d),Fl(d,d.return);break;case 27:h_(d);case 26:case 5:xr(f,d,a),a&&l===null&&v&4&&u_(d),Fl(d,d.return);break;case 12:xr(f,d,a);break;case 31:xr(f,d,a),a&&v&4&&p_(f,d);break;case 13:xr(f,d,a),a&&v&4&&y_(f,d);break;case 22:d.memoizedState===null&&xr(f,d,a),Fl(d,d.return);break;case 30:break;default:xr(f,d,a)}r=r.sibling}}function cm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function hm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t))}function Ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)b_(t,r,a,l),r=r.sibling}function b_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r,a,l),f&2048&&Hl(9,r);break;case 1:Ni(t,r,a,l);break;case 3:Ni(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Dl(t)));break;case 12:if(f&2048){Ni(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(r,r.return,N)}}else Ni(t,r,a,l);break;case 31:Ni(t,r,a,l);break;case 13:Ni(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ni(t,r,a,l):Gl(t,r):d._visibility&2?Ni(t,r,a,l):(d._visibility|=2,po(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&cm(v,r);break;case 24:Ni(t,r,a,l),f&2048&&hm(r.alternate,r);break;default:Ni(t,r,a,l)}}function po(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,T=a,N=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:po(d,v,T,N,f),Hl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?po(d,v,T,N,f):Gl(d,v):($._visibility|=2,po(d,v,T,N,f)),f&&H&2048&&cm(v.alternate,v);break;case 24:po(d,v,T,N,f),f&&H&2048&&hm(v.alternate,v);break;default:po(d,v,T,N,f)}r=r.sibling}}function Gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Gl(a,l),f&2048&&cm(l.alternate,l);break;case 24:Gl(a,l),f&2048&&hm(l.alternate,l);break;default:Gl(a,l)}r=r.sibling}}var Yl=8192;function yo(t,r,a){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)E_(t,r,a),t=t.sibling}function E_(t,r,a){switch(t.tag){case 26:yo(t,r,a),t.flags&Yl&&t.memoizedState!==null&&kA(a,Di,t.memoizedState,t.memoizedProps);break;case 5:yo(t,r,a);break;case 3:case 4:var l=Di;Di=dh(t.stateNode.containerInfo),yo(t,r,a),Di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,yo(t,r,a),Yl=l):yo(t,r,a));break;default:yo(t,r,a)}}function T_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ql(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Jt=l,S_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&cs(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,eh(t)):Ql(t);break;default:Ql(t)}}function eh(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Jt=l,S_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:cs(8,r,r.return),eh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,eh(r));break;default:eh(r)}t=t.sibling}}function S_(t,r){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:cs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var f=l.sibling,d=l.return;if(m_(l),l===a){Jt=null;break e}if(f!==null){f.return=d,Jt=f;break e}Jt=d}}}var $1={getCacheForType:function(t){var r=an(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return an(kt).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,We=0,lt=null,Pe=null,ze=0,et=0,ti=null,hs=!1,vo=!1,fm=!1,Dr=0,Et=0,fs=0,wa=0,dm=0,ni=0,_o=0,Kl=null,Un=null,mm=!1,th=0,A_=0,nh=1/0,ih=null,ds=null,Ft=0,ms=null,bo=null,Nr=0,gm=0,pm=null,R_=null,Xl=0,ym=null;function ii(){return(We&2)!==0&&ze!==0?ze&-ze:j.T!==null?wm():Kn()}function C_(){if(ni===0)if((ze&536870912)===0||Fe){var t=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),ni=t}else ni=536870912;return t=Zn.current,t!==null&&(t.flags|=32),ni}function zn(t,r,a){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),gs(t,ze,ni,!1)),Mn(t,a),((We&2)===0||t!==lt)&&(t===lt&&((We&2)===0&&(wa|=a),Et===4&&gs(t,ze,ni,!1)),Zi(t))}function I_(t,r,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Nt(t,r),f=l?eA(t,r):_m(t,r,!0),d=l;do{if(f===0){vo&&!l&&gs(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!J1(a)){f=_m(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;f=Kl;var N=T.current.memoizedState.isDehydrated;if(N&&(Eo(T,v).flags|=256),v=_m(T,v,!1),v!==2){if(fm&&!N){T.errorRecoveryDisabledLanes|=d,wa|=d,f=4;break e}d=Un,Un=f,d!==null&&(Un===null?Un=d:Un.push.apply(Un,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Eo(t,0),gs(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gs(l,r,ni,!hs);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=th+300-Kt(),10<f)){if(gs(l,r,ni,!hs),pt(l,0,!0)!==0)break e;Nr=r,l.timeoutHandle=s0(x_.bind(null,l,a,Un,ih,mm,r,ni,wa,_o,hs,d,"Throttled",-0,0),f);break e}x_(l,a,Un,ih,mm,r,ni,wa,_o,hs,d,null,-0,0)}}break}while(!0);Zi(t)}function x_(t,r,a,l,f,d,v,T,N,H,$,Z,Q,X){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},E_(r,d,Z);var de=(d&62914560)===d?th-Kt():(d&4194048)===d?A_-Kt():0;if(de=PA(Z,de),de!==null){Nr=d,t.cancelPendingCommit=de(L_.bind(null,t,r,d,a,l,f,v,T,N,$,Z,null,Q,X)),gs(t,d,v,!H);return}}L_(t,r,d,a,l,f,v,T,N)}function J1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Wn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gs(t,r,a,l){r&=~dm,r&=~wa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-mt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&mn(t,a,r)}function rh(){return(We&6)===0?($l(0),!1):!0}function vm(){if(Pe!==null){if(et===0)var t=Pe.return;else t=Pe,br=ma=null,Vd(t),co=null,Ml=0,t=Pe;for(;t!==null;)a_(t.alternate,t),t=t.return;Pe=null}}function Eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nr=0,vm(),lt=t,Pe=a=vr(t.current,null),ze=r,et=0,ti=null,hs=!1,vo=Nt(t,r),fm=!1,_o=ni=dm=wa=fs=Et=0,Un=Kl=null,mm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-mt(l),d=1<<f;r|=t[f],l&=~d}return Dr=r,Ac(),a}function D_(t,r){Oe=null,j.H=jl,r===uo||r===Oc?(r=Yy(),et=3):r===Td?(r=Yy(),et=4):et=r===$d?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ti=r,Pe===null&&(Et=1,Qc(t,gi(r,t.current)))}function N_(){var t=Zn.current;return t===null?!0:(ze&4194048)===ze?_i===null:(ze&62914560)===ze||(ze&536870912)!==0?t===_i:!1}function M_(){var t=j.H;return j.H=jl,t===null?jl:t}function O_(){var t=j.A;return j.A=$1,t}function sh(){Et=4,hs||(ze&4194048)!==ze&&Zn.current!==null||(vo=!0),(fs&134217727)===0&&(wa&134217727)===0||lt===null||gs(lt,ze,ni,!1)}function _m(t,r,a){var l=We;We|=2;var f=M_(),d=O_();(lt!==t||ze!==r)&&(ih=null,Eo(t,r)),r=!1;var v=Et;e:do try{if(et!==0&&Pe!==null){var T=Pe,N=ti;switch(et){case 8:vm(),v=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(r=!0);var H=et;if(et=0,ti=null,To(t,T,N,H),a&&vo){v=0;break e}break;default:H=et,et=0,ti=null,To(t,T,N,H)}}Z1(),v=Et;break}catch($){D_(t,$)}while(!0);return r&&t.shellSuspendCounter++,br=ma=null,We=l,j.H=f,j.A=d,Pe===null&&(lt=null,ze=0,Ac()),v}function Z1(){for(;Pe!==null;)V_(Pe)}function eA(t,r){var a=We;We|=2;var l=M_(),f=O_();lt!==t||ze!==r?(ih=null,nh=Kt()+500,Eo(t,r)):vo=Nt(t,r);e:do try{if(et!==0&&Pe!==null){r=Pe;var d=ti;t:switch(et){case 1:et=0,ti=null,To(t,r,d,1);break;case 2:case 9:if(Fy(d)){et=0,ti=null,k_(r);break}r=function(){et!==2&&et!==9||lt!==t||(et=7),Zi(t)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Fy(d)?(et=0,ti=null,k_(r)):(et=0,ti=null,To(t,r,d,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var T=Pe;if(v?b0(v):T.stateNode.complete){et=0,ti=null;var N=T.sibling;if(N!==null)Pe=N;else{var H=T.return;H!==null?(Pe=H,ah(H)):Pe=null}break t}}et=0,ti=null,To(t,r,d,5);break;case 6:et=0,ti=null,To(t,r,d,6);break;case 8:vm(),Et=6;break e;default:throw Error(s(462))}}tA();break}catch($){D_(t,$)}while(!0);return br=ma=null,j.H=l,j.A=f,We=a,Pe!==null?0:(lt=null,ze=0,Ac(),Et)}function tA(){for(;Pe!==null&&!Gr();)V_(Pe)}function V_(t){var r=r_(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,r===null?ah(t):Pe=r}function k_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Jv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Jv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Vd(r);default:a_(a,r),r=Pe=Oy(r,Dr),r=r_(a,r,Dr)}t.memoizedProps=t.pendingProps,r===null?ah(t):Pe=r}function To(t,r,a,l){br=ma=null,Vd(r),co=null,Ml=0;var f=r.return;try{if(H1(t,f,r,a,ze)){Et=1,Qc(t,gi(a,t.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;Et=1,Qc(t,gi(a,t.current)),Pe=null;return}r.flags&32768?(Fe||l===1?t=!0:vo||(ze&536870912)!==0?t=!1:(hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(r,t)):ah(r)}function ah(t){var r=t;do{if((r.flags&32768)!==0){P_(r,hs);return}t=r.return;var a=Y1(r.alternate,r,Dr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);Et===0&&(Et=5)}function P_(t,r){do{var a=Q1(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);Et=6,Pe=null}function L_(t,r,a,l,f,d,v,T,N){t.cancelPendingCommit=null;do oh();while(Ft!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=od,St(t,a,d,v,T,N),t===lt&&(Pe=lt=null,ze=0),bo=r,ms=t,Nr=a,gm=d,pm=f,R_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sA(Tn,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=re.p,re.p=2,v=We,We|=4;try{K1(t,r,a)}finally{We=v,re.p=f,j.T=l}}Ft=1,U_(),z_(),j_()}}function U_(){if(Ft===1){Ft=0;var t=ms,r=bo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=re.p;re.p=2;var f=We;We|=4;try{v_(r,t);var d=Nm,v=Sy(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&wy(T.ownerDocument.documentElement,T)){if(N!==null&&nd(T)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,Q=Z&&Z.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),de=T.textContent.length,we=Math.min(N.start,de),ot=N.end===void 0?we:Math.min(N.end,de);!X.extend&&we>ot&&(v=ot,ot=we,we=v);var U=Ty(T,we),k=Ty(T,ot);if(U&&k&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var q=Z.createRange();q.setStart(U.node,U.offset),X.removeAllRanges(),we>ot?(X.addRange(q),X.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),X.addRange(q))}}}}for(Z=[],X=T;X=X.parentNode;)X.nodeType===1&&Z.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}_h=!!Dm,Nm=Dm=null}finally{We=f,re.p=l,j.T=a}}t.current=r,Ft=2}}function z_(){if(Ft===2){Ft=0;var t=ms,r=bo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=re.p;re.p=2;var f=We;We|=4;try{d_(t,r.alternate,r)}finally{We=f,re.p=l,j.T=a}}Ft=3}}function j_(){if(Ft===4||Ft===3){Ft=0,$s();var t=ms,r=bo,a=Nr,l=R_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,bo=ms=null,B_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ds=null),Sn(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=j.T,f=re.p,re.p=2,j.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{j.T=r,re.p=f}}(Nr&3)!==0&&oh(),Zi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===ym?Xl++:(Xl=0,ym=t):Xl=0,$l(0)}}function B_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Dl(r)))}function oh(){return U_(),z_(),j_(),q_()}function q_(){if(Ft!==5)return!1;var t=ms,r=gm;gm=0;var a=Sn(Nr),l=j.T,f=re.p;try{re.p=32>a?32:a,j.T=null,a=pm,pm=null;var d=ms,v=Nr;if(Ft=0,bo=ms=null,Nr=0,(We&6)!==0)throw Error(s(331));var T=We;if(We|=4,w_(d.current),b_(d,d.current,v,a),We=T,$l(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{re.p=f,j.T=l,B_(t,r)}}function H_(t,r,a){r=gi(a,r),r=Xd(t.stateNode,r,2),t=os(t,r,2),t!==null&&(Mn(t,2),Zi(t))}function tt(t,r,a){if(t.tag===3)H_(t,t,a);else for(;r!==null;){if(r.tag===3){H_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){t=gi(a,t),a=Fv(2),l=os(r,a,2),l!==null&&(Gv(a,l,r,t),Mn(l,2),Zi(l));break}}r=r.return}}function bm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new W1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(fm=!0,f.add(a),t=nA.bind(null,t,r,a),r.then(t,t))}function nA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(ze&a)===a&&(Et===4||Et===3&&(ze&62914560)===ze&&300>Kt()-th?(We&2)===0&&Eo(t,0):dm|=a,_o===ze&&(_o=0)),Zi(t)}function F_(t,r){r===0&&(r=Xt()),t=ha(t,r),t!==null&&(Mn(t,r),Zi(t))}function iA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),F_(t,a)}function rA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F_(t,a)}function sA(t,r){return it(t,r)}var lh=null,wo=null,Em=!1,uh=!1,Tm=!1,ps=0;function Zi(t){t!==wo&&t.next===null&&(wo===null?lh=wo=t:wo=wo.next=t),uh=!0,Em||(Em=!0,oA())}function $l(t,r){if(!Tm&&uh){Tm=!0;do for(var a=!1,l=lh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=ze,d=pt(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Nt(l,d)||(a=!0,K_(l,d));l=l.next}while(a);Tm=!1}}function aA(){G_()}function G_(){uh=Em=!1;var t=0;ps!==0&&yA()&&(t=ps);for(var r=Kt(),a=null,l=lh;l!==null;){var f=l.next,d=Y_(l,r);d===0?(l.next=null,a===null?lh=f:a.next=f,f===null&&(wo=a)):(a=l,(t!==0||(d&3)!==0)&&(uh=!0)),l=f}Ft!==0&&Ft!==5||$l(t),ps!==0&&(ps=0)}function Y_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),T=1<<v,N=f[v];N===-1?((T&a)===0||(T&l)!==0)&&(f[v]=dn(T,r)):N<=r&&(t.expiredLanes|=T),d&=~T}if(r=lt,a=ze,a=pt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Nt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Fn(l),Sn(a)){case 2:case 8:a=li;break;case 32:a=Tn;break;case 268435456:a=Js;break;default:a=Tn}return l=Q_.bind(null,t),a=it(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Fn(l),t.callbackPriority=2,t.callbackNode=null,2}function Q_(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oh()&&t.callbackNode!==a)return null;var l=ze;return l=pt(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I_(t,l,r),Y_(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?Q_.bind(null,t):null)}function K_(t,r){if(oh())return null;I_(t,r,!0)}function oA(){_A(function(){(We&6)!==0?it(Ws,aA):G_()})}function wm(){if(ps===0){var t=oo;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),ps=t}return ps}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ya(""+t)}function $_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function lA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=X_((f[$t]||null).action),v=l.submitter;v&&(r=(r=v[$t]||null)?X_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Yi("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var N=v?$_(f,v):new FormData(f);Hd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?$_(f,v):new FormData(f),Hd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Sm=0;Sm<ad.length;Sm++){var Am=ad[Sm],uA=Am.toLowerCase(),cA=Am[0].toUpperCase()+Am.slice(1);xi(uA,"on"+cA)}xi(Cy,"onAnimationEnd"),xi(Iy,"onAnimationIteration"),xi(xy,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(R1,"onTransitionRun"),xi(C1,"onTransitionStart"),xi(I1,"onTransitionCancel"),xi(Dy,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function W_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch($){Sc($)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,H=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch($){Sc($)}f.currentTarget=null,d=N}}}}function Le(t,r){var a=r[Ba];a===void 0&&(a=r[Ba]=new Set);var l=t+"__bubble";a.has(l)||(J_(r,t,2,!1),a.add(l))}function Rm(t,r,a){var l=0;r&&(l|=4),J_(a,t,l,r)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Cm(t){if(!t[ch]){t[ch]=!0,ul.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||Rm(a,!1,t),Rm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ch]||(r[ch]=!0,Rm("selectionchange",!1,r))}}function J_(t,r,a,l){switch(C0(r)){case 2:var f=zA;break;case 8:f=jA;break;default:f=qm}a=f.bind(null,r,a,t),f=void 0,!ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Im(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=zi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Wr(function(){var H=d,$=hi(a),Z=[];e:{var Q=Ny.get(t);if(Q!==void 0){var X=Yi,de=t;switch(t){case"keypress":if(sa(a)===0)break e;case"keydown":case"keyup":X=Ec;break;case"focusin":de="focus",X=oa;break;case"focusout":de="blur",X=oa;break;case"beforeblur":case"afterblur":X=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Cy:case Iy:case xy:X=mc;break;case Dy:X=S;break;case"scroll":case"scrollend":X=El;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=yr;break;case"toggle":case"beforetoggle":X=Me}var we=(r&4)!==0,ot=!we&&(t==="scroll"||t==="scrollend"),U=we?Q!==null?Q+"Capture":null:Q;we=[];for(var k=H,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=Ai(k,U),J!=null&&we.push(Jl(k,J,q))),ot)break;k=k.return}0<we.length&&(Q=new X(Q,de,null,a,$),Z.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==vl&&(de=a.relatedTarget||a.fromElement)&&(zi(de)||de[Li]))break e;if((X||Q)&&(Q=$.window===$?$:(Q=$.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(de=a.relatedTarget||a.toElement,X=H,de=de?zi(de):null,de!==null&&(ot=u(de),we=de.tag,de!==ot||we!==5&&we!==27&&we!==6)&&(de=null)):(X=null,de=H),X!==de)){if(we=Tl,J="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(we=yr,J="onPointerLeave",U="onPointerEnter",k="pointer"),ot=X==null?Q:Xn(X),q=de==null?Q:Xn(de),Q=new we(J,k+"leave",X,a,$),Q.target=ot,Q.relatedTarget=q,J=null,zi($)===H&&(we=new we(U,k+"enter",de,a,$),we.target=q,we.relatedTarget=ot,J=we),ot=J,X&&de)t:{for(we=fA,U=X,k=de,q=0,J=U;J;J=we(J))q++;J=0;for(var Ee=k;Ee;Ee=we(Ee))J++;for(;0<q-J;)U=we(U),q--;for(;0<J-q;)k=we(k),J--;for(;q--;){if(U===k||k!==null&&U===k.alternate){we=U;break t}U=we(U),k=we(k)}we=null}else we=null;X!==null&&Z_(Z,Q,X,we,!1),de!==null&&ot!==null&&Z_(Z,ot,de,we,!0)}}e:{if(Q=H?Xn(H):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ke=py;else if(my(Q))if(yy)Ke=w1;else{Ke=E1;var ye=b1}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Ga(H.elementType)&&(Ke=py):Ke=T1;if(Ke&&(Ke=Ke(t,H))){gy(Z,Ke,a,$);break e}ye&&ye(t,Q,H),t==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&gl(Q,"number",Q.value)}switch(ye=H?Xn(H):window,t){case"focusin":(my(ye)||ye.contentEditable==="true")&&(Za=ye,id=H,Cl=null);break;case"focusout":Cl=id=Za=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Ay(Z,a,$);break;case"selectionchange":if(A1)break;case"keydown":case"keyup":Ay(Z,a,$)}var Ve;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ja?la(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Xi&&a.locale!=="ko"&&(Ja||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ja&&(Ve=bl()):(Gi=$,_l="value"in Gi?Gi.value:Gi.textContent,Ja=!0)),ye=hh(H,je),0<ye.length&&(je=new Ki(je,t,null,a,$),Z.push({event:je,listeners:ye}),Ve?je.data=Ve:(Ve=Wa(a),Ve!==null&&(je.data=Ve)))),(Ve=di?p1(t,a):y1(t,a))&&(je=hh(H,"onBeforeInput"),0<je.length&&(ye=new Ki("onBeforeInput","beforeinput",null,a,$),Z.push({event:ye,listeners:je}),ye.data=Ve)),lA(Z,t,H,a,$)}W_(Z,r)})}function Jl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function hh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ai(t,a),f!=null&&l.unshift(Jl(t,f,d)),f=Ai(t,r),f!=null&&l.push(Jl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function fA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,f?(H=Ai(a,d),H!=null&&v.unshift(Jl(a,H,N))):f||(H=Ai(a,d),H!=null&&v.push(Jl(a,H,N)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(mA,"")}function t0(t,r){return r=e0(r),e0(t)===r}function at(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Vn(t,""+l);break;case"className":$n(t,"class",l);break;case"tabIndex":$n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(t,a,l);break;case"style":yl(t,l,d);break;case"data":if(r!=="object"){$n(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(t,r,"name",f.name,f,null),at(t,r,"formEncType",f.formEncType,f,null),at(t,r,"formMethod",f.formMethod,f,null),at(t,r,"formTarget",f.formTarget,f,null)):(at(t,r,"encType",f.encType,f,null),at(t,r,"method",f.method,f,null),at(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Si);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,Ha(t,a,l))}}function xm(t,r,a,l,f,d){switch(a){case"style":yl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ha(t,a,l)}}}function ln(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,d,v,a,null)}}f&&at(t,r,"srcSet",a.srcSet,a,null),l&&at(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=d=v=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":v=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:at(t,r,l,$,a,null)}}lc(t,d,T,N,H,v,f,!1);return;case"select":Le("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:at(t,r,f,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Qr(t,!!l,r,!1):a!=null&&Qr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:at(t,r,v,T,a,null)}Kr(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,r,N,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Le(Wl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,H,l,a,null)}return;default:if(Ga(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&xm(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(t,r,T,l,a,null))}function gA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,N=null,H=null,$=null;for(X in a){var Z=a[X];if(a.hasOwnProperty(X)&&Z!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(X)||at(t,r,X,null,l,Z)}}for(var Q in l){var X=l[Q];if(Z=a[Q],l.hasOwnProperty(Q)&&(X!=null||Z!=null))switch(Q){case"type":d=X;break;case"name":f=X;break;case"checked":H=X;break;case"defaultChecked":$=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==Z&&at(t,r,Q,X,l,Z)}}Fa(t,v,T,N,H,$,d,f);return;case"select":X=v=T=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||at(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&at(t,r,f,d,l,N)}r=T,a=v,l=X,Q!=null?Qr(t,!!a,Q,!1):!!l!=!!a&&(r!=null?Qr(t,!!a,r,!0):Qr(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&at(t,r,v,f,l,d)}uc(t,Q,X);return;case"option":for(var de in a)Q=a[de],a.hasOwnProperty(de)&&Q!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:at(t,r,de,null,l,Q));for(N in l)Q=l[N],X=a[N],l.hasOwnProperty(N)&&Q!==X&&(Q!=null||X!=null)&&(N==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":at(t,r,N,Q,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we)&&at(t,r,we,null,l,Q);for(H in l)if(Q=l[H],X=a[H],l.hasOwnProperty(H)&&Q!==X&&(Q!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:at(t,r,H,Q,l,X)}return;default:if(Ga(r)){for(var ot in a)Q=a[ot],a.hasOwnProperty(ot)&&Q!==void 0&&!l.hasOwnProperty(ot)&&xm(t,r,ot,void 0,l,Q);for($ in l)Q=l[$],X=a[$],!l.hasOwnProperty($)||Q===X||Q===void 0&&X===void 0||xm(t,r,$,Q,l,X);return}}for(var U in a)Q=a[U],a.hasOwnProperty(U)&&Q!=null&&!l.hasOwnProperty(U)&&at(t,r,U,null,l,Q);for(Z in l)Q=l[Z],X=a[Z],!l.hasOwnProperty(Z)||Q===X||Q==null&&X==null||at(t,r,Z,Q,l,X)}function n0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&n0(v)){for(v=0,T=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>T)break;var $=N.transferSize,Z=N.initiatorType;$&&n0(Z)&&(N=N.responseEnd,v+=$*(N<T?1:(T-H)/(N-H)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dm=null,Nm=null;function fh(t){return t.nodeType===9?t:t.ownerDocument}function i0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Om=null;function yA(){var t=window.event;return t&&t.type==="popstate"?t===Om?!1:(Om=t,!0):(Om=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(t){return a0.resolve(null).then(t).catch(bA)}:s0;function bA(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function o0(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Zl(t.ownerDocument.body);a=f}while(a);Co(r)}function l0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function EA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=bi(t.nextSibling),t===null)break}return null}function TA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bi(t.nextSibling),t===null))return null;return t}function u0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=bi(t.nextSibling),t===null))return null;return t}function km(t){return t.data==="$?"||t.data==="$~"}function Pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function bi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Lm=null;function c0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return bi(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function h0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function f0(t,r,a){switch(r=fh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);qa(t)}var Ei=new Map,d0=new Set;function dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mr=re.d;re.d={f:SA,r:AA,D:RA,C:CA,L:IA,m:xA,X:NA,S:DA,M:MA};function SA(){var t=Mr.f(),r=rh();return t||r}function AA(t){var r=ci(t);r!==null&&r.tag===5&&r.type==="form"?Dv(r):Mr.r(t)}var So=typeof document>"u"?null:document;function m0(t,r,a){var l=So;if(l&&typeof r=="string"&&r){var f=On(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d0.has(f)||(d0.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),ln(r,"link",t),Ot(r),l.head.appendChild(r)))}}function RA(t){Mr.D(t),m0("dns-prefetch",t,null)}function CA(t,r){Mr.C(t,r),m0("preconnect",t,r)}function IA(t,r,a){Mr.L(t,r,a);var l=So;if(l&&t&&r){var f='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+On(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+On(a.imageSizes)+'"]')):f+='[href="'+On(t)+'"]';var d=f;switch(r){case"style":d=Ao(t);break;case"script":d=Ro(t)}Ei.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ei.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(eu(d))||r==="script"&&l.querySelector(tu(d))||(r=l.createElement("link"),ln(r,"link",t),Ot(r),l.head.appendChild(r)))}}function xA(t,r){Mr.m(t,r);var a=So;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+On(l)+'"][href="'+On(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ro(t)}if(!Ei.has(d)&&(t=E({rel:"modulepreload",href:t},r),Ei.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tu(d)))return}l=a.createElement("link"),ln(l,"link",t),Ot(l),a.head.appendChild(l)}}}function DA(t,r,a){Mr.S(t,r,a);var l=So;if(l&&t){var f=ji(l).hoistableStyles,d=Ao(t);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(eu(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ei.get(d))&&Um(t,a);var N=v=l.createElement("link");Ot(N),ln(N,"link",t),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function NA(t,r){Mr.X(t,r);var a=So;if(a&&t){var l=ji(a).hoistableScripts,f=Ro(t),d=l.get(f);d||(d=a.querySelector(tu(f)),d||(t=E({src:t,async:!0},r),(r=Ei.get(f))&&zm(t,r),d=a.createElement("script"),Ot(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function MA(t,r){Mr.M(t,r);var a=So;if(a&&t){var l=ji(a).hoistableScripts,f=Ro(t),d=l.get(f);d||(d=a.querySelector(tu(f)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Ei.get(f))&&zm(t,r),d=a.createElement("script"),Ot(d),ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g0(t,r,a,l){var f=(f=ve.current)?dh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ao(a.href),a=ji(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ao(a.href);var d=ji(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(eu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ei.set(t,a),d||OA(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=ji(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ao(t){return'href="'+On(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function OA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ln(r,"link",a),Ot(r),t.head.appendChild(r))}function Ro(t){return'[src="'+On(t)+'"]'}function tu(t){return"script[async]"+t}function y0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+On(a.href)+'"]');if(l)return r.instance=l,Ot(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),ln(l,"style",f),mh(l,a.precedence,t),r.instance=l;case"stylesheet":f=Ao(a.href);var d=t.querySelector(eu(f));if(d)return r.state.loading|=4,r.instance=d,Ot(d),d;l=p0(a),(f=Ei.get(f))&&Um(l,f),d=(t.ownerDocument||t).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),ln(d,"link",l),r.state.loading|=4,mh(d,a.precedence,t),r.instance=d;case"script":return d=Ro(a.src),(f=t.querySelector(tu(d)))?(r.instance=f,Ot(f),f):(l=a,(f=Ei.get(d))&&(l=E({},a),zm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ot(f),ln(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,mh(l,a.precedence,t));return r.instance}function mh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var gh=null;function v0(t,r,a){if(gh===null){var l=new Map,f=gh=new Map;f.set(a,l)}else f=gh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ui]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function _0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function VA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ao(l.href),d=r.querySelector(eu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ph.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=r.ownerDocument||r,l=p0(l),(f=Ei.get(f))&&Um(l,f),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ph.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var jm=0;function PA(t,r){return t.stylesheets&&t.count===0&&vh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&jm===0&&(jm=62500*pA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>jm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yh=null;function vh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yh=new Map,r.forEach(LA,t),yh=null,ph.call(t))}function LA(t,r){if(!(r.state.loading&4)){var a=yh.get(t);if(a)var l=a.get(null);else{a=new Map,yh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=ph.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var nu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function UA(t,r,a,l,f,d,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function E0(t,r,a,l,f,d,v,T,N,H,$,Z){return t=new UA(t,r,a,v,N,H,$,Z,T),r=1,d===!0&&(r|=24),d=Jn(3,null,null,r),t.current=d,d.stateNode=t,r=_d(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},wd(d),t}function T0(t){return t?(t=no,t):no}function w0(t,r,a,l,f,d){f=T0(f),l.context===null?l.context=f:l.pendingContext=f,l=as(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=os(t,l,r),a!==null&&(zn(a,t,r),Vl(a,t,r))}function S0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Bm(t,r){S0(t,r),(t=t.alternate)&&S0(t,r)}function A0(t){if(t.tag===13||t.tag===31){var r=ha(t,67108864);r!==null&&zn(r,t,67108864),Bm(t,67108864)}}function R0(t){if(t.tag===13||t.tag===31){var r=ii();r=Qn(r);var a=ha(t,r);a!==null&&zn(a,t,r),Bm(t,r)}}var _h=!0;function zA(t,r,a,l){var f=j.T;j.T=null;var d=re.p;try{re.p=2,qm(t,r,a,l)}finally{re.p=d,j.T=f}}function jA(t,r,a,l){var f=j.T;j.T=null;var d=re.p;try{re.p=8,qm(t,r,a,l)}finally{re.p=d,j.T=f}}function qm(t,r,a,l){if(_h){var f=Hm(l);if(f===null)Im(t,r,l,bh,a),I0(t,l);else if(qA(f,t,r,a,l))l.stopPropagation();else if(I0(t,l),r&4&&-1<BA.indexOf(t)){for(;f!==null;){var d=ci(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=gt(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-mt(v);T.entanglements[1]|=N,v&=~N}Zi(d),(We&6)===0&&(nh=Kt()+500,$l(0))}}break;case 31:case 13:T=ha(d,2),T!==null&&zn(T,d,2),rh(),Bm(d,2)}if(d=Hm(l),d===null&&Im(t,r,l,bh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Im(t,r,l,null,a)}}function Hm(t){return t=hi(t),Fm(t)}var bh=null;function Fm(t){if(bh=null,t=zi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return bh=t,null}function C0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case Ws:return 2;case li:return 8;case Tn:case fr:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Gm=!1,vs=null,_s=null,bs=null,iu=new Map,ru=new Map,Es=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,r){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":iu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(r.pointerId)}}function su(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ci(r),r!==null&&A0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function qA(t,r,a,l,f){switch(r){case"focusin":return vs=su(vs,t,r,a,l,f),!0;case"dragenter":return _s=su(_s,t,r,a,l,f),!0;case"mouseover":return bs=su(bs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return iu.set(d,su(iu.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ru.set(d,su(ru.get(d)||null,t,r,a,l,f)),!0}return!1}function x0(t){var r=zi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,nn(t.priority,function(){R0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,nn(t.priority,function(){R0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);vl=l,a.target.dispatchEvent(l),vl=null}else return r=ci(a),r!==null&&A0(r),t.blockedOn=a,!1;r.shift()}return!0}function D0(t,r,a){Eh(t)&&a.delete(r)}function HA(){Gm=!1,vs!==null&&Eh(vs)&&(vs=null),_s!==null&&Eh(_s)&&(_s=null),bs!==null&&Eh(bs)&&(bs=null),iu.forEach(D0),ru.forEach(D0)}function Th(t,r){t.blockedOn===r&&(t.blockedOn=null,Gm||(Gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,HA)))}var wh=null;function N0(t){wh!==t&&(wh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){wh===t&&(wh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var d=ci(a);d!==null&&(t.splice(r,3),r-=3,Hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Co(t){function r(N){return Th(N,t)}vs!==null&&Th(vs,t),_s!==null&&Th(_s,t),bs!==null&&Th(bs,t),iu.forEach(r),ru.forEach(r);for(var a=0;a<Es.length;a++){var l=Es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)x0(a),a.blockedOn===null&&Es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[$t]||null;if(typeof d=="function")v||N0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[$t]||null)T=v.formAction;else if(Fm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),N0(a)}}}function M0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Ym(t){this._internalRoot=t}Sh.prototype.render=Ym.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=ii();w0(a,l,t,r,null,null)},Sh.prototype.unmount=Ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;w0(t.current,2,null,t,null,null),rh(),r[Li]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Kn();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Es.length&&r!==0&&r<Es[a].priority;a++);Es.splice(a,0,t),a===0&&x0(t)}};var O0=e.version;if(O0!=="19.2.3")throw Error(s(527,O0,"19.2.3"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var FA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Yn=Ah.inject(FA),Ht=Ah}catch{}}return ou.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=jv,d=Bv,v=qv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=E0(t,1,!1,null,null,a,l,null,f,d,v,M0),t[Li]=r.current,Cm(t),new Ym(r)},ou.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=jv,v=Bv,T=qv,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=E0(t,1,!0,r,a??null,l,f,N,d,v,T,M0),r.context=T0(null),a=r.current,l=ii(),l=Qn(l),f=as(l),f.callback=null,os(a,f,l),a=l,r.current.lanes=a,Mn(r,a),Zi(r),t[Li]=r.current,Cm(t),new Sh(r)},ou.version="19.2.3",ou}var H0;function nR(){if(H0)return Xm.exports;H0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xm.exports=tR(),Xm.exports}var iR=nR(),uu=WE();function wu(){return wu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},wu.apply(this,arguments)}var xs;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(xs||(xs={}));const F0="popstate";function rR(i){i===void 0&&(i={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return vg("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:JE(o)}return aR(e,n,null,i)}function qt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function tp(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sR(){return Math.random().toString(36).substr(2,8)}function G0(i,e){return{usr:i.state,key:i.key,idx:e}}function vg(i,e,n,s){return n===void 0&&(n=null),wu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:n,key:e&&e.key||s||sR()})}function JE(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ko(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function aR(i,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=xs.Pop,g=null,p=b();p==null&&(p=0,h.replaceState(wu({},h.state,{idx:p}),""));function b(){return(h.state||{idx:null}).idx}function E(){m=xs.Pop;let z=b(),te=z==null?null:z-p;p=z,g&&g({action:m,location:G.location,delta:te})}function w(z,te){m=xs.Push;let se=vg(G.location,z,te);p=b()+1;let ie=G0(se,p),ce=G.createHref(se);try{h.pushState(ie,"",ce)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(ce)}u&&g&&g({action:m,location:G.location,delta:1})}function O(z,te){m=xs.Replace;let se=vg(G.location,z,te);p=b();let ie=G0(se,p),ce=G.createHref(se);h.replaceState(ie,"",ce),u&&g&&g({action:m,location:G.location,delta:0})}function F(z){let te=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof z=="string"?z:JE(z);return se=se.replace(/ $/,"%20"),qt(te,"No window.location.(origin|href) available to create URL for href: "+se),new URL(se,te)}let G={get action(){return m},get location(){return i(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(F0,E),g=z,()=>{o.removeEventListener(F0,E),g=null}},createHref(z){return e(o,z)},createURL:F,encodeLocation(z){let te=F(z);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:O,go(z){return h.go(z)}};return G}var Y0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Y0||(Y0={}));function oR(i,e,n){return n===void 0&&(n="/"),lR(i,e,n)}function lR(i,e,n,s){let o=typeof e=="string"?Ko(e):e,u=tT(o.pathname||"/",n);if(u==null)return null;let h=ZE(i);uR(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=ER(u);m=vR(h[g],p)}return m}function ZE(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(qt(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let p=Ra([s,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(qt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ZE(u.children,e,b,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:pR(p,u.index),routesMeta:b})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of eT(u.path))o(u,h,g)}),e}function eT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function uR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:yR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const cR=/^:[\w-]+$/,hR=3,fR=2,dR=1,mR=10,gR=-2,Q0=i=>i==="*";function pR(i,e){let n=i.split("/"),s=n.length;return n.some(Q0)&&(s+=gR),e&&(s+=fR),n.filter(o=>!Q0(o)).reduce((o,u)=>o+(cR.test(u)?hR:u===""?dR:mR),s)}function yR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function vR(i,e,n){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=_R({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),w=g.route;if(!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Ra([u,E.pathname]),pathnameBase:RR(Ra([u,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(u=Ra([u,E.pathnameBase]))}return h}function _R(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=bR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,b,E)=>{let{paramName:w,isOptional:O}=b;if(w==="*"){let G=m[E]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const F=m[E];return O&&!F?p[w]=void 0:p[w]=(F||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function bR(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tp(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ER(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tp(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function tT(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}const TR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wR=i=>TR.test(i);function SR(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ko(i):i,u;if(n)if(wR(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),tp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?u=K0(n.substring(1),"/"):u=K0(n,e)}else u=e;return{pathname:u,search:CR(s),hash:IR(o)}}function K0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zm(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(i,e){let n=AR(i);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function iT(i,e,n,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=Ko(i):(o=wu({},i),qt(!o.pathname||!o.pathname.includes("?"),Zm("?","pathname","search",o)),qt(!o.pathname||!o.pathname.includes("#"),Zm("#","pathname","hash",o)),qt(!o.search||!o.search.includes("#"),Zm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let E=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}m=E>=0?e[E]:"/"}let g=SR(o,m),p=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}const Ra=i=>i.join("/").replace(/\/\/+/g,"/"),RR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,IR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const rT=["post","put","patch","delete"];new Set(rT);const DR=["get",...rT];new Set(DR);function Su(){return Su=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Su.apply(this,arguments)}const np=M.createContext(null),NR=M.createContext(null),zu=M.createContext(null),bf=M.createContext(null),Pa=M.createContext({outlet:null,matches:[],isDataRoute:!1}),sT=M.createContext(null);function ju(){return M.useContext(bf)!=null}function ip(){return ju()||qt(!1),M.useContext(bf).location}function aT(i){M.useContext(zu).static||M.useLayoutEffect(i)}function oT(){let{isDataRoute:i}=M.useContext(Pa);return i?FR():MR()}function MR(){ju()||qt(!1);let i=M.useContext(np),{basename:e,future:n,navigator:s}=M.useContext(zu),{matches:o}=M.useContext(Pa),{pathname:u}=ip(),h=JSON.stringify(nT(o,n.v7_relativeSplatPath)),m=M.useRef(!1);return aT(()=>{m.current=!0}),M.useCallback(function(p,b){if(b===void 0&&(b={}),!m.current)return;if(typeof p=="number"){s.go(p);return}let E=iT(p,JSON.parse(h),u,b.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ra([e,E.pathname])),(b.replace?s.replace:s.push)(E,b.state,b)},[e,s,h,u,i])}function OR(i,e){return VR(i,e)}function VR(i,e,n,s){ju()||qt(!1);let{navigator:o}=M.useContext(zu),{matches:u}=M.useContext(Pa),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let p=ip(),b;if(e){var E;let z=typeof e=="string"?Ko(e):e;g==="/"||(E=z.pathname)!=null&&E.startsWith(g)||qt(!1),b=z}else b=p;let w=b.pathname||"/",O=w;if(g!=="/"){let z=g.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(z.length).join("/")}let F=oR(i,{pathname:O}),G=zR(F&&F.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:Ra([g,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Ra([g,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,n,s);return e&&G?M.createElement(bf.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:xs.Pop}},G):G}function kR(){let i=HR(),e=xR(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,null)}const PR=M.createElement(kR,null);class LR extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Pa.Provider,{value:this.props.routeContext},M.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UR(i){let{routeContext:e,match:n,children:s}=i,o=M.useContext(np);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Pa.Provider,{value:e},s)}function zR(i,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let h=i,m=(o=n)==null?void 0:o.errors;if(m!=null){let b=h.findIndex(E=>E.route.id&&m?.[E.route.id]!==void 0);b>=0||qt(!1),h=h.slice(0,Math.min(h.length,b+1))}let g=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let b=0;b<h.length;b++){let E=h[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=b),E.route.id){let{loaderData:w,errors:O}=n,F=E.route.loader&&w[E.route.id]===void 0&&(!O||O[E.route.id]===void 0);if(E.route.lazy||F){g=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((b,E,w)=>{let O,F=!1,G=null,z=null;n&&(O=m&&E.route.id?m[E.route.id]:void 0,G=E.route.errorElement||PR,g&&(p<0&&w===0?(GR("route-fallback"),F=!0,z=null):p===w&&(F=!0,z=E.route.hydrateFallbackElement||null)));let te=e.concat(h.slice(0,w+1)),se=()=>{let ie;return O?ie=G:F?ie=z:E.route.Component?ie=M.createElement(E.route.Component,null):E.route.element?ie=E.route.element:ie=b,M.createElement(UR,{match:E,routeContext:{outlet:b,matches:te,isDataRoute:n!=null},children:ie})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?M.createElement(LR,{location:n.location,revalidation:n.revalidation,component:G,error:O,children:se(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):se()},null)}var lT=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(lT||{}),uT=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(uT||{});function jR(i){let e=M.useContext(np);return e||qt(!1),e}function BR(i){let e=M.useContext(NR);return e||qt(!1),e}function qR(i){let e=M.useContext(Pa);return e||qt(!1),e}function cT(i){let e=qR(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function HR(){var i;let e=M.useContext(sT),n=BR(),s=cT();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function FR(){let{router:i}=jR(lT.UseNavigateStable),e=cT(uT.UseNavigateStable),n=M.useRef(!1);return aT(()=>{n.current=!0}),M.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,Su({fromRouteId:e},u)))},[i,e])}const X0={};function GR(i,e,n){X0[i]||(X0[i]=!0)}function YR(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function QR(i){let{to:e,replace:n,state:s,relative:o}=i;ju()||qt(!1);let{future:u,static:h}=M.useContext(zu),{matches:m}=M.useContext(Pa),{pathname:g}=ip(),p=oT(),b=iT(e,nT(m,u.v7_relativeSplatPath),g,o==="path"),E=JSON.stringify(b);return M.useEffect(()=>p(JSON.parse(E),{replace:n,state:s,relative:o}),[p,E,o,n,s]),null}function _g(i){qt(!1)}function KR(i){let{basename:e="/",children:n=null,location:s,navigationType:o=xs.Pop,navigator:u,static:h=!1,future:m}=i;ju()&&qt(!1);let g=e.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:g,navigator:u,static:h,future:Su({v7_relativeSplatPath:!1},m)}),[g,m,u,h]);typeof s=="string"&&(s=Ko(s));let{pathname:b="/",search:E="",hash:w="",state:O=null,key:F="default"}=s,G=M.useMemo(()=>{let z=tT(b,g);return z==null?null:{location:{pathname:z,search:E,hash:w,state:O,key:F},navigationType:o}},[g,b,E,w,O,F,o]);return G==null?null:M.createElement(zu.Provider,{value:p},M.createElement(bf.Provider,{children:n,value:G}))}function XR(i){let{children:e,location:n}=i;return OR(bg(e),n)}new Promise(()=>{});function bg(i,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(i,(s,o)=>{if(!M.isValidElement(s))return;let u=[...e,o];if(s.type===M.Fragment){n.push.apply(n,bg(s.props.children,u));return}s.type!==_g&&qt(!1),!s.props.index||!s.props.children||qt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=bg(s.props.children,u)),n.push(h)}),n}const $R="6";try{window.__reactRouterVersion=$R}catch{}const WR="startTransition",$0=WA[WR];function JR(i){let{basename:e,children:n,future:s,window:o}=i,u=M.useRef();u.current==null&&(u.current=rR({window:o,v5Compat:!0}));let h=u.current,[m,g]=M.useState({action:h.action,location:h.location}),{v7_startTransition:p}=s||{},b=M.useCallback(E=>{p&&$0?$0(()=>g(E)):g(E)},[g,p]);return M.useLayoutEffect(()=>h.listen(b),[h,b]),M.useEffect(()=>YR(s),[s]),M.createElement(KR,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:h,future:s})}var W0;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(W0||(W0={}));var J0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(J0||(J0={}));const ZR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Z0=i=>{const e=eC(i);return e.charAt(0).toUpperCase()+e.slice(1)},hT=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),tC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iC=M.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>M.createElement("svg",{ref:g,...nC,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:hT("lucide",o),...!u&&!tC(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,b])=>M.createElement(p,b)),...Array.isArray(u)?u:[u]]));const xt=(i,e)=>{const n=M.forwardRef(({className:s,...o},u)=>M.createElement(iC,{ref:u,iconNode:e,className:hT(`lucide-${ZR(Z0(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Z0(i),n};const rC=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],sC=xt("archive",rC);const aC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],oC=xt("arrow-up-down",aC);const lC=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uC=xt("ban",lC);const cC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hC=xt("check",cC);const fC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dC=xt("circle-check-big",fC);const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fT=xt("circle-x",mC);const gC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Eg=xt("clock",gC);const pC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dT=xt("copy",pC);const yC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vC=xt("eye-off",yC);const _C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bC=xt("eye",_C);const EC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],TC=xt("grip-vertical",EC);const wC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rh=xt("loader-circle",wC);const SC=[["path",{d:"M5 12h14",key:"1ays0h"}]],AC=xt("minus",SC);const RC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CC=xt("plus",RC);const IC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],eb=xt("rotate-ccw",IC);const xC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DC=xt("search",xC);const NC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MC=xt("settings",NC);const OC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tb=xt("triangle-alert",OC);const VC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],mT=xt("user-x",VC);const kC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rp=xt("user",kC);const PC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tg=xt("x",PC),LC="0017d4997502470a9f86747f9dd38b57",UC="01990f5a06c04443a2ba9894c0c32fe4";let Ch=null,nb=0;const gT=i=>{try{const e=i.match(/track\/([a-zA-Z0-9]+)/);return e?e[1]:null}catch{return null}},Xo=i=>{const e=gT(i);return e?`https://open.spotify.com/track/${e}`:i},pT=async()=>{if(Ch&&Date.now()<nb)return Ch;const e=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(`${LC}:${UC}`)},body:"grant_type=client_credentials"})).json();return Ch=e.access_token,nb=Date.now()+e.expires_in*1e3,Ch},yT=async(i,e={},n=5e3)=>{const s=new AbortController,o=setTimeout(()=>s.abort(),n);try{const u=await fetch(i,{...e,signal:s.signal});return clearTimeout(o),u}catch(u){throw clearTimeout(o),u}},zC=async i=>{try{const e=await pT(),n=await yT(`https://api.spotify.com/v1/tracks/${i}`,{headers:{Authorization:`Bearer ${e}`}},5e3);if(!n.ok)throw new Error("Spotify API error");const s=await n.json();return{title:s.name,artist:s.artists.map(o=>o.name).join(", "),coverUrl:s.album.images[0]?.url||"https://placehold.co/300x300?text=Spotify",durationMs:s.duration_ms,explicit:s.explicit}}catch(e){return console.error("Fetch Metadata Error:",e),null}},ib=async(i,e=0)=>{try{const n=await pT(),s=await yT(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=track&limit=3&offset=${e}`,{headers:{Authorization:`Bearer ${n}`}},5e3);if(!s.ok)throw new Error("Spotify Search API error");return(await s.json()).tracks.items.map(u=>({id:u.id,title:u.name,artist:u.artists.map(h=>h.name).join(", "),coverUrl:u.album.images[0]?.url||"https://placehold.co/300x300?text=Spotify",durationMs:u.duration_ms,explicit:u.explicit,spotifyUrl:u.external_urls.spotify}))}catch(n){return console.error("Search Error:",n),[]}},jC=()=>{};var rb={};const vT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},BC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,b=u>>2,E=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,O=p&63;g||(O=64,h||(w=64)),s.push(n[b],n[E],n[w],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(vT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):BC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new qC;const w=u<<2|m>>4;if(s.push(w),p!==64){const O=m<<4&240|p>>2;if(s.push(O),E!==64){const F=p<<6&192|E;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HC=function(i){const e=vT(i);return _T.encodeByteArray(e,!0)},Xh=function(i){return HC(i).replace(/\./g,"")},bT=function(i){try{return _T.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GC=()=>FC().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof rb>"u")return;const i=rb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},QC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bT(i[1]);return e&&JSON.parse(e)},Ef=()=>{try{return jC()||GC()||YC()||QC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ET=i=>Ef()?.emulatorHosts?.[i],KC=i=>{const e=ET(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},TT=()=>Ef()?.config,wT=i=>Ef()?.[`_${i}`];class XC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function $o(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ST(i){return(await fetch(i,{credentials:"include"})).ok}function $C(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Xh(JSON.stringify(n)),Xh(JSON.stringify(h)),""].join(".")}const mu={};function WC(){const i={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?i.emulator.push(e):i.prod.push(e);return i}function JC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let sb=!1;function AT(i,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||mu[i]===e||mu[i]||sb)return;mu[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=WC().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sb=!0,h()},w}function b(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=JC(s),O=n("text"),F=document.getElementById(O)||document.createElement("span"),G=n("learnmore"),z=document.getElementById(G)||document.createElement("a"),te=n("preprendIcon"),se=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;m(ie),b(z,G);const ce=p();g(se,te),ie.append(se,F,z,ce),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function eI(){const i=Ef()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sI(){return!eI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aI(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const lI="FirebaseError";class Br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lI,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?uI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Br(o,m,s)}}function uI(i,e){return i.replace(cI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cI=/\{\$([^}]+)}/g;function hI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Us(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(ab(u)&&ab(h)){if(!Us(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ab(i){return i!==null&&typeof i=="object"}function qu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fI(i,e){const n=new dI(i,e);return n.subscribe.bind(n)}class dI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=eg),o.error===void 0&&(o.error=eg),o.complete===void 0&&(o.complete=eg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function eg(){}function Qt(i){return i&&i._delegate?i._delegate:i}class xa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class gI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yI(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(i){return i===Sa?void 0:i}function yI(i){return i.instantiationMode==="EAGER"}class vI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const _I={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},bI=Be.INFO,EI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},TI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=EI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=bI,this._logHandler=TI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const wI=(i,e)=>e.some(n=>i instanceof n);let ob,lb;function SI(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AI(){return lb||(lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RT=new WeakMap,wg=new WeakMap,CT=new WeakMap,tg=new WeakMap,ap=new WeakMap;function RI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ns(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&RT.set(n,i)}).catch(()=>{}),ap.set(e,i),e}function CI(i){if(wg.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});wg.set(i,e)}let Sg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return wg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||CT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function II(i){Sg=i(Sg)}function xI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ng(this),e,...n);return CT.set(s,e.sort?e.sort():[e]),Ns(s)}:AI().includes(i)?function(...e){return i.apply(ng(this),e),Ns(RT.get(this))}:function(...e){return Ns(i.apply(ng(this),e))}}function DI(i){return typeof i=="function"?xI(i):(i instanceof IDBTransaction&&CI(i),wI(i,SI())?new Proxy(i,Sg):i)}function Ns(i){if(i instanceof IDBRequest)return RI(i);if(tg.has(i))return tg.get(i);const e=DI(i);return e!==i&&(tg.set(i,e),ap.set(e,i)),e}const ng=i=>ap.get(i);function NI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Ns(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Ns(h.result),g.oldVersion,g.newVersion,Ns(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const MI=["get","getKey","getAll","getAllKeys","count"],OI=["put","add","delete","clear"],ig=new Map;function ub(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MI.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return ig.set(e,u),u}II(i=>({...i,get:(e,n,s)=>ub(e,n)||i.get(e,n,s),has:(e,n)=>!!ub(e,n)||i.has(e,n)}));class VI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kI(i){return i.getComponent()?.type==="VERSION"}const Ag="@firebase/app",cb="0.14.7";const Pr=new sp("@firebase/app"),PI="@firebase/app-compat",LI="@firebase/analytics-compat",UI="@firebase/analytics",zI="@firebase/app-check-compat",jI="@firebase/app-check",BI="@firebase/auth",qI="@firebase/auth-compat",HI="@firebase/database",FI="@firebase/data-connect",GI="@firebase/database-compat",YI="@firebase/functions",QI="@firebase/functions-compat",KI="@firebase/installations",XI="@firebase/installations-compat",$I="@firebase/messaging",WI="@firebase/messaging-compat",JI="@firebase/performance",ZI="@firebase/performance-compat",e2="@firebase/remote-config",t2="@firebase/remote-config-compat",n2="@firebase/storage",i2="@firebase/storage-compat",r2="@firebase/firestore",s2="@firebase/ai",a2="@firebase/firestore-compat",o2="firebase",l2="12.8.0";const Rg="[DEFAULT]",u2={[Ag]:"fire-core",[PI]:"fire-core-compat",[UI]:"fire-analytics",[LI]:"fire-analytics-compat",[jI]:"fire-app-check",[zI]:"fire-app-check-compat",[BI]:"fire-auth",[qI]:"fire-auth-compat",[HI]:"fire-rtdb",[FI]:"fire-data-connect",[GI]:"fire-rtdb-compat",[YI]:"fire-fn",[QI]:"fire-fn-compat",[KI]:"fire-iid",[XI]:"fire-iid-compat",[$I]:"fire-fcm",[WI]:"fire-fcm-compat",[JI]:"fire-perf",[ZI]:"fire-perf-compat",[e2]:"fire-rc",[t2]:"fire-rc-compat",[n2]:"fire-gcs",[i2]:"fire-gcs-compat",[r2]:"fire-fst",[a2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[o2]:"fire-js-all"};const $h=new Map,c2=new Map,Cg=new Map;function hb(i,e){try{i.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function jo(i){const e=i.name;if(Cg.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,i);for(const n of $h.values())hb(n,i);for(const n of c2.values())hb(n,i);return!0}function op(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Mi(i){return i==null?!1:i.settings!==void 0}const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Bu("app","Firebase",h2);class f2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const Wo=l2;function IT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Rg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw Ms.create("no-options");const u=$h.get(o);if(u){if(Us(n,u.options)&&Us(s,u.config))return u;throw Ms.create("duplicate-app",{appName:o})}const h=new vI(o);for(const g of Cg.values())h.addComponent(g);const m=new f2(n,s,h);return $h.set(o,m),m}function xT(i=Rg){const e=$h.get(i);if(!e&&i===Rg&&TT())return IT();if(!e)throw Ms.create("no-app",{appName:i});return e}function Os(i,e,n){let s=u2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(h.join(" "));return}jo(new xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const d2="firebase-heartbeat-database",m2=1,Au="firebase-heartbeat-store";let rg=null;function DT(){return rg||(rg=NI(d2,m2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ms.create("idb-open",{originalErrorMessage:i.message})})),rg}async function g2(i){try{const n=(await DT()).transaction(Au),s=await n.objectStore(Au).get(NT(i));return await n.done,s}catch(e){if(e instanceof Br)Pr.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(n.message)}}}async function fb(i,e){try{const s=(await DT()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,NT(i)),await s.done}catch(n){if(n instanceof Br)Pr.warn(n.message);else{const s=Ms.create("idb-set",{originalErrorMessage:n?.message});Pr.warn(s.message)}}}function NT(i){return`${i.name}!${i.options.appId}`}const p2=1024,y2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=db();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>y2){const o=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=db(),{heartbeatsToSend:n,unsentEntries:s}=_2(this._heartbeatsCache.heartbeats),o=Xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pr.warn(e),""}}}function db(){return new Date().toISOString().substring(0,10)}function _2(i,e=p2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),mb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aI()?oI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mb(i){return Xh(JSON.stringify({version:2,heartbeats:i})).length}function E2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function T2(i){jo(new xa("platform-logger",e=>new VI(e),"PRIVATE")),jo(new xa("heartbeat",e=>new v2(e),"PRIVATE")),Os(Ag,cb,i),Os(Ag,cb,"esm2020"),Os("fire-js","")}T2("");var w2="firebase",S2="12.8.0";Os(w2,S2,"app");var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vs,MT;(function(){var i;function e(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,D,L){for(var x=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)x[ae-2]=arguments[ae];return A.prototype[D].apply(V,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],D=R.g[2];let L=R.g[3],x;x=A+(L^I&(D^L))+V[0]+3614090360&4294967295,A=I+(x<<7&4294967295|x>>>25),x=L+(D^A&(I^D))+V[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(I^L&(A^I))+V[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(A^D&(L^A))+V[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(L^I&(D^L))+V[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=L+(D^A&(I^D))+V[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(I^L&(A^I))+V[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(A^D&(L^A))+V[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(L^I&(D^L))+V[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=L+(D^A&(I^D))+V[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(I^L&(A^I))+V[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(A^D&(L^A))+V[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(L^I&(D^L))+V[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=L+(D^A&(I^D))+V[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(I^L&(A^I))+V[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=I+(A^D&(L^A))+V[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(D^L&(I^D))+V[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(A^I))+V[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(L^A))+V[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^A&(D^L))+V[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(I^D))+V[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(A^I))+V[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(L^A))+V[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^A&(D^L))+V[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(I^D))+V[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(A^I))+V[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(L^A))+V[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^A&(D^L))+V[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(I^D))+V[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=L+(I^D&(A^I))+V[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(L^A))+V[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=I+(L^A&(D^L))+V[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(I^D^L)+V[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=L+(A^I^D)+V[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^I)+V[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^A)+V[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^L)+V[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=L+(A^I^D)+V[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^I)+V[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^A)+V[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^L)+V[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=L+(A^I^D)+V[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^I)+V[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^A)+V[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^L)+V[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=L+(A^I^D)+V[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^I)+V[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=I+(D^L^A)+V[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(D^(I|~L))+V[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=L+(I^(A|~D))+V[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~I))+V[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~A))+V[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~L))+V[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=L+(I^(A|~D))+V[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~I))+V[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~A))+V[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~L))+V[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=L+(I^(A|~D))+V[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~I))+V[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~A))+V[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~L))+V[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=L+(I^(A|~D))+V[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~I))+V[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=I+(L^(D|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<A;)if(V[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<A;)if(V[D++]=R[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[A++]=this.g[I]>>>V&255;return R};function u(R,A){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function h(R,A){this.h=A;const I=[];let V=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;V&&L==A||(I[D]=L,V=!1)}this.g=I}var m={};function g(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return z(p(-R));const A=[];let I=1;for(let V=0;R>=I;V++)A[V]=R/I|0,I*=4294967296;return new h(A,0)}function b(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(b(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let V=E;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const x=parseInt(R.substring(L,L+D),A);D<8?(D=p(Math.pow(A,D)),V=V.j(D).add(p(x))):(V=V.j(I),V=V.add(p(x)))}return V}var E=g(0),w=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(G(this))return-z(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(G(this))return"-"+z(this).toString(R);const A=p(Math.pow(R,6));var I=this;let V="";for(;;){const D=ce(I,A).g;I=te(I,D.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=D,F(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=te(this,R),G(R)?-1:F(R)?0:1};function z(R){const A=R.g.length,I=[];for(let V=0;V<A;V++)I[V]=~R.g[V];return new h(I,~R.h).add(w)}i.abs=function(){return G(this)?z(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let L=V+(this.i(D)&65535)+(R.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=x>>>16,L&=65535,x&=65535,I[D]=x<<16|L}return new h(I,I[I.length-1]&-2147483648?-1:0)};function te(R,A){return R.add(z(A))}i.j=function(R){if(F(this)||F(R))return E;if(G(this))return G(R)?z(this).j(z(R)):z(z(this).j(R));if(G(R))return z(this.j(z(R)));if(this.l(O)<0&&R.l(O)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const L=this.i(V)>>>16,x=this.i(V)&65535,ae=R.i(D)>>>16,_e=R.i(D)&65535;I[2*V+2*D]+=x*_e,se(I,2*V+2*D),I[2*V+2*D+1]+=L*_e,se(I,2*V+2*D+1),I[2*V+2*D+1]+=x*ae,se(I,2*V+2*D+1),I[2*V+2*D+2]+=L*ae,se(I,2*V+2*D+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new h(I,0)};function se(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ie(R,A){this.g=R,this.h=A}function ce(R,A){if(F(A))throw Error("division by zero");if(F(R))return new ie(E,E);if(G(R))return A=ce(z(R),A),new ie(z(A.g),z(A.h));if(G(A))return A=ce(R,z(A)),new ie(z(A.g),A.h);if(R.g.length>30){if(G(R)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=A;V.l(R)<=0;)I=ge(I),V=ge(V);var D=he(I,1),L=he(V,1);for(V=he(V,2),I=he(I,2);!F(V);){var x=L.add(V);x.l(R)<=0&&(D=D.add(I),L=x),V=he(V,1),I=he(I,1)}return A=te(R,D.j(A)),new ie(D,A)}for(D=E;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(I),x=L.j(A);G(x)||x.l(R)>0;)I-=V,L=p(I),x=L.j(A);F(L)&&(L=w),D=D.add(L),R=te(R,x)}return new ie(D,R)}i.B=function(R){return ce(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&R.i(V);return new h(I,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|R.i(V);return new h(I,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^R.i(V);return new h(I,this.h^R.h)};function ge(R){const A=R.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new h(I,R.h)}function he(R,A){const I=A>>5;A%=32;const V=R.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=A>0?R.i(L+I)>>>A|R.i(L+I+1)<<32-A:R.i(L+I);return new h(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,MT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=b,Vs=h}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OT,cu,VT,Lh,Ig,kT,PT,LT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function b(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var le=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)le[Me-2]=arguments[Me];return y.prototype[B].apply(S,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const K=B.length||0;c.length=_+K;for(let le=0;le<K;le++)c[_+le]=B[le]}else c.push(B)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function te(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,_){const S=ie.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new G(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,he=!1,R=new se,A=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(_){z(_)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}he=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ae(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}E(ae,D),ae.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),j=0;function re(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++j,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function Ce(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let K=0;K<Y.length;K++)_=Y[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,y,_,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const le=ve(c,y,S,B);return le>-1?(y=c[le],_||(y.fa=!1)):(y=new re(y,this.src,K,!!S,B),y.fa=_,c.push(y)),y};function pe(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(me(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ve(c,y,_,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return B}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ye(c,y,_,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ye(c,y[K],_,S,B);return null}return _=Fr(_),c&&c[_e]?c.J(y,_,m(S)?!!S.capture:!1,B):Ue(c,y,_,!1,S,B)}function Ue(c,y,_,S,B,K){if(!y)throw Error("Invalid event type");const le=m(B)?!!B.capture:!!B;let Me=Nn(c);if(Me||(c[Ne]=Me=new oe(c)),_=Me.add(y,_,S,le,K),_.proxy)return _;if(S=ai(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)L||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Dt(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ai(){function c(_){return y.call(c.src,c.listener,_)}const y=oi;return c}function tn(c,y,_,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)tn(c,y[K],_,S,B);else S=m(S)?!!S.capture:!!S,_=Fr(_),c&&c[_e]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],_=ve(y,_,S,B),_>-1&&(me(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Nn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ve(y,_,S,B)),(_=c>-1?y[c]:null)&&Hn(_))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_e])pe(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Dt(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Nn(y))?(pe(_,c),_.h==0&&(_.src=null,y[Ne]=null)):me(c)}}}function Dt(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function oi(c,y){if(c.da)c=!0;else{y=new ae(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&Hn(c),c=_.call(S,y)}return c}function Nn(c){return c=c[Ne],c instanceof oe?c:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fr(c){return typeof c=="function"?c:(c[Hr]||(c[Hr]=function(y){return c.handleEvent(y)}),c[Hr])}function dt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}E(dt,V),dt.prototype[_e]=!0,dt.prototype.removeEventListener=function(c,y,_,S){tn(this,c,y,_,S)};function it(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(S,c),ne(y,B)}B=!0;let K,le;if(_)for(le=_.length-1;le>=0;le--)K=y.g=_[le],B=Fn(K,S,!0,y)&&B;if(K=y.g=c,B=Fn(K,S,!0,y)&&B,B=Fn(K,S,!1,y)&&B,_)for(le=0;le<_.length;le++)K=y.g=_[le],B=Fn(K,S,!1,y)&&B}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)me(_[S]);delete c.g[y],c.h--}}this.G=null},dt.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},dt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Fn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const le=y[K];if(le&&!le.da&&le.capture==_){const Me=le.listener,At=le.ha||le.src;le.fa&&pe(c.i,le),B=Me.call(At,S)!==!1&&B}}return B&&!S.defaultPrevented}function Gr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function $s(c){c.g=Gr(()=>{c.g=null,c.i&&(c.i=!1,$s(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Kt extends V{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(c){V.call(this),this.h=c,this.g={}}E(hr,V);var Ws=[];function li(c){be(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hn(y)},c),c.g={}}hr.prototype.N=function(){hr.Z.N.call(this),li(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=h.JSON.stringify,fr=h.JSON.parse,Js=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gn(){}function Zs(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}E(Ht,D);function fn(){D.call(this,"c")}E(fn,D);var mt={},za=null;function dr(){return za=za||new dt}mt.Ia="serverreachability";function ja(c){D.call(this,mt.Ia,c)}E(ja,D);function ui(c){const y=dr();it(y,new ja(y))}mt.STAT_EVENT="statevent";function mr(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}E(mr,D);function ke(c){const y=dr();it(y,new mr(y,c))}mt.Ja="timingevent";function gt(c,y){D.call(this,mt.Ja,c),this.size=y}E(gt,D);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Nt(){this.g=!0}Nt.prototype.ua=function(){this.g=!1};function dn(c,y,_,S,B,K){c.info(function(){if(c.g)if(K){var le="",Me=K.split("&");for(let $e=0;$e<Me.length;$e++){var At=Me[$e].split("=");if(At.length>1){const yt=At[0];At=At[1];const di=yt.split("_");le=di.length>=2&&di[1]=="type"?le+(yt+"="+At+"&"):le+(yt+"=redacted&")}}}else le=null;else le=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+le})}function Xt(c,y,_,S,B,K,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+le})}function wt(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+St(c,_)+(S?" "+S:"")})}function Mn(c,y){c.info(function(){return"TIMEOUT: "+y})}Nt.prototype.info=function(){};function St(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return Tn(K)}catch{return y}}var mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wn;function Qn(){}E(Qn,Gn),Qn.prototype.g=function(){return new XMLHttpRequest},wn=new Qn;function Sn(c){return encodeURIComponent(String(c))}function Kn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function nn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new An}function An(){this.i=null,this.g="",this.h=!1}var Mt={},$t={};function Li(c,y,_){c.M=1,c.A=ea(Vt(y)),c.u=_,c.R=!0,Ba(c,null)}function Ba(c,y){c.F=Date.now(),Ui(c),c.B=Vt(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ga(_.i,"t",S),c.C=0,_=c.j.L,c.h=new An,c.g=_c(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Kt(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Ws[0]=B.toString()),B=Ws);for(let K=0;K<B.length;K++){const le=Ye(_,B[K],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.J?C(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),dn(c.i,c.v,c.B,c.l,c.S,c.u)}nn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ri(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Me=Ri(this.g),At=this.g.ya(),$e=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Me!=4||At==7||(At==8||$e<=0?ui(3):ui(2)),zi(this);var y=this.g.ca();this.X=y;var _=Zf(this);if(this.o=y==200,Xt(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var K=S;break t}}K=null}if(c=K)wt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,c);else{this.o=!1,this.m=3,ke(12),Xn(this),ci(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=ac(this,_),yt==$t){Me==4&&(this.m=4,ke(14),c=!1),wt(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Mt){this.m=4,ke(15),wt(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else wt(this.i,this.l,yt,null),ji(this,yt);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||_.length!=0||this.h.h||(this.m=1,ke(16),c=!1),this.o=this.o&&c,!c)wt(this.i,this.l,_,"[Invalid Chunked Response]"),Xn(this),ci(this);else if(_.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),wl(le),le.P=!0,ke(11))}}else wt(this.i,this.l,_,null),ji(this,_);Me==4&&Xn(this),this.o&&!this.K&&(Me==4?gc(this.j,this):(this.o=!1,Ui(this)))}else pr(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Xn(this),ci(this)}}}catch{}};function Zf(c){if(!sc(c))return c.g.la();const y=rn(c.g);if(y==="")return"";let _="";const S=y.length,B=Ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Xn(c),ci(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,_+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function sc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ac(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?$t:(_=Number(y.substring(_,S)),isNaN(_)?Mt:(S+=1,S+_>y.length?$t:(y=y.slice(S,S+_),c.C=S+_,y)))}nn.prototype.cancel=function(){this.K=!0,Xn(this)};function Ui(c){c.T=Date.now()+c.H,qa(c,c.H)}function qa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pt(p(c.aa,c),y)}function zi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}nn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Mn(this.i,this.B),this.M!=2&&(ui(),ke(17)),Xn(this),this.m=2,ci(this)):qa(this,this.T-c)};function ci(c){c.j.I==0||c.K||gc(c.j,c)}function Xn(c){zi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,li(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ji(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||qi(_.h,c))){if(!c.L&&qi(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)$a(_),Zr(_);else break e;oa(_),ke(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=pt(p(_.Va,_),6e3));Bi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ki(_,11)}else if((c.L||_.g==c)&&$a(_),!x(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let $e=B[y];const yt=$e[0];if(!(yt<=_.K))if(_.K=yt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const di=$e[3];di!=null&&(_.ka=di,_.j.info("VER="+_.ka));const Xi=$e[4];Xi!=null&&(_.za=Xi,_.j.info("SVER="+_.za));const Ci=$e[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(S=1.5*Ci,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ii=c.g;if(Ii){const la=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var K=S.h;K.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(hl(K,K.h),K.h=null))}if(S.G){const Wa=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(S.wa=Wa,Ze(S.J,S.G,Wa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var le=c;if(S.na=vc(S,S.L?S.ba:null,S.W),le.L){fl(S.h,le);var Me=le,At=S.O;At&&(Me.H=At),Me.D&&(zi(Me),Ui(Me)),S.g=le}else dc(S);_.i.length>0&&Qi(_)}else $e[0]!="stop"&&$e[0]!="close"||Ki(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ki(_,7):El(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}ui(4)}catch{}}var Ot=class{constructor(c,y){this.g=c,this.map=y}};function ul(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bi(c){return c.h?1:c.g?c.g.size:0}function qi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function hl(c,y){c.g?c.g.add(y):c.h=y}function fl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return O(c.i)}var oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let B,K=null;S>=0?(B=c[_].substring(0,S),K=c[_].substring(S+1)):B=c[_],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof $n?(this.l=c.l,Wt(this,c.j),this.o=c.o,this.g=c.g,Yr(this,c.u),this.h=c.h,ml(this,hc(c.i)),this.m=c.m):c&&(y=String(c).match(oc))?(this.l=!1,Wt(this,y[1]||"",!0),this.o=Hi(y[2]||""),this.g=Hi(y[3]||"",!0),Yr(this,y[4]),this.h=Hi(y[5]||"",!0),ml(this,y[6]||"",!0),this.m=Hi(y[7]||"")):(this.l=!1,this.i=new Kr(null,this.l))}$n.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ta(y,Fa,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ta(y,Fa,!0),"@"),c.push(Sn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ta(_,_.charAt(0)=="/"?gl:lc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ta(_,uc)),c.join("")},$n.prototype.resolve=function(c){const y=Vt(this);let _=!!c.j;_?Wt(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)Yr(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let le=0;le<B.length;){const Me=B[le++];Me=="."?S&&le==B.length&&K.push(""):Me==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&le==B.length&&K.push("")):(K.push(Me),S=!0)}S=K.join("/")}else S=B}return _?y.h=S:_=c.i.toString()!=="",_?ml(y,hc(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Vt(c){return new $n(c)}function Wt(c,y,_){c.j=_?Hi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Yr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ml(c,y,_){y instanceof Kr?(c.i=y,Ya(c.i,c.l)):(_||(y=ta(y,Qr)),c.i=new Kr(y,c.l))}function Ze(c,y,_){c.i.set(y,_)}function ea(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Hi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ta(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,On),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function On(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fa=/[#\/\?@]/g,lc=/[#\?:]/g,gl=/[#\?]/g,Qr=/[#\?@]/g,uc=/#/g;function Kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ha(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Kr.prototype,i.add=function(c,y){Vn(this),this.i=null,c=Xr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function cc(c,y){Vn(c),y=Xr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function pl(c,y){return Vn(c),y=Xr(c,y),c.g.has(y)}i.forEach=function(c,y){Vn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)};function yl(c,y){Vn(c);let _=[];if(typeof y=="string")pl(c,y)&&(_=_.concat(c.g.get(Xr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return Vn(this),this.i=null,c=Xr(this,c),pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=yl(this,c),c.length>0?String(c[0]):y):y};function Ga(c,y,_){cc(c,y),_.length>0&&(c.i=null,c.g.set(Xr(c,y),O(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const B=Sn(_);_=yl(this,_);for(let K=0;K<_.length;K++){let le=B;_[K]!==""&&(le+="="+Sn(_[K])),c.push(le)}}return this.i=c.join("&")};function hc(c){const y=new Kr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Xr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ya(c,y){y&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(_,S){const B=S.toLowerCase();S!=B&&(cc(this,S),Ga(this,B,_))},c)),c.j=y}function Si(c,y){const _=new Nt;if(h.Image){const S=new Image;S.onload=b(hi,_,"TestLoadImage: loaded",!0,y,S),S.onerror=b(hi,_,"TestLoadImage: error",!1,y,S),S.onabort=b(hi,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(hi,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function vl(c,y){const _=new Nt,S=new AbortController,B=setTimeout(()=>{S.abort(),hi(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?hi(_,"TestPingServer: ok",!0,y):hi(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),hi(_,"TestPingServer: error",!1,y)})}function hi(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function $r(){this.g=new Js}function Fi(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Fi,Gn),Fi.prototype.g=function(){return new na(this.i,this.h)};function na(c,y){dt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(na,dt),i=na.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wr(this):Ai(this),this.readyState==3&&Qa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Wr(this))},i.Na=function(c){this.g&&(this.response=c,Wr(this))},i.ga=function(){this.g&&Wr(this)};function Wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ai(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fi(c){let y="";return be(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ia(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=fi(_),typeof c=="string"?_!=null&&Sn(_):Ze(c,y,_))}function rt(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,dt);var Gi=/^https?$/i,_l=["POST","PUT"];i=rt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wn.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ra(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(_l,y,void 0)>=0)||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of _)this.g.setRequestHeader(K,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){ra(this,K)}};function ra(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,bl(c),gr(c)}function bl(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,it(this,"complete"),it(this,"abort"),gr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},i.Xa=function(){sa(this)};function sa(c){if(c.h&&typeof u<"u"){if(c.v&&Ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(it(c,"readystatechange"),Ri(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=K===0){let le=String(c.D).match(oc)[1]||null;!le&&h.self&&h.self.location&&(le=h.self.location.protocol.slice(0,-1)),S=!Gi.test(le?le.toLowerCase():"")}_=S}if(_)it(c,"complete"),it(c,"success");else{c.o=6;try{var B=Ri(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",bl(c)}}finally{gr(c)}}}}function gr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||it(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ri(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fr(y)}};function rn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pr(c){const y={};c=(c.g&&Ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var _=Kn(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}Ce(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Jr(c){this.za=0,this.i=[],this.j=new Nt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,c),this.Za=Yi("retryDelaySeedMs",1e4,c),this.Ta=Yi("forwardChannelMaxRetries",2,c),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(c&&c.concurrentRequestLimit),this.Ba=new $r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Jr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,S){ke(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=vc(this,null,this.W),Qi(this)};function El(c){if(Ka(c),c.I==3){var y=c.V++,_=Vt(c.J);if(Ze(_,"SID",c.M),Ze(_,"RID",y),Ze(_,"TYPE","terminate"),aa(c,_),y=new nn(c,c.j,y),y.M=2,y.A=ea(Vt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=_c(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ui(y)}yc(c)}function Zr(c){c.g&&(wl(c),c.g.cancel(),c.g=null)}function Ka(c){Zr(c),c.v&&(h.clearTimeout(c.v),c.v=null),$a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Qi(c){if(!cl(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||A(),he||(ge(),he=!0),R.add(y,c),c.D=0}}function Xa(c,y){return Bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pt(p(c.Ea,c,y),pc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new nn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=C(K),ne(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=fc(this,B,y),_=Vt(this.J),Ze(_,"RID",c),Ze(_,"CVER",22),this.G&&Ze(_,"X-HTTP-Session-Id",this.G),aa(this,_),K&&(this.R?y="headers="+Sn(fi(K))+"&"+y:this.u&&ia(_,this.u,K)),hl(this.h,B),this.Ra&&Ze(_,"TYPE","init"),this.S?(Ze(_,"$req",y),Ze(_,"SID","null"),B.U=!0,Li(B,_,null)):Li(B,_,y),this.I=2}}else this.I==3&&(c?Tl(this,c):this.i.length==0||cl(this.h)||Tl(this))};function Tl(c,y){var _;y?_=y.l:_=c.V++;const S=Vt(c.J);Ze(S,"SID",c.M),Ze(S,"RID",_),Ze(S,"AID",c.K),aa(c,S),c.u&&c.o&&ia(S,c.u,c.o),_=new nn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=fc(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),hl(c.h,_),Li(_,S,y)}function aa(c,y){c.H&&be(c.H,function(_,S){Ze(y,S,_)}),c.l&&be({},function(_,S){Ze(y,S,_)})}function fc(c,y,_){_=Math.min(c.i.length,_);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var B=c.i;let Me=-1;for(;;){const At=["count="+_];Me==-1?_>0?(Me=B[0].g,At.push("ofs="+Me)):Me=0:At.push("ofs="+Me);let $e=!0;for(let yt=0;yt<_;yt++){var K=B[yt].g;const di=B[yt].map;if(K-=Me,K<0)Me=Math.max(0,B[yt].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var le=di instanceof Map?di:Object.entries(di);for(const[Xi,Ci]of le){let Ii=Ci;m(Ci)&&(Ii=Tn(Ci)),At.push(K+Xi+"="+encodeURIComponent(Ii))}}catch(Xi){throw At.push(K+"type="+encodeURIComponent("_badmap")),Xi}}catch{S&&S(di)}}if($e){le=At.join("&");break e}}le=void 0}return c=c.i.splice(0,_),y.G=c,le}function dc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||A(),he||(ge(),he=!0),R.add(y,c),c.A=0}}function oa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pt(p(c.Da,c),pc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pt(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Zr(this),mc(this))};function wl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function mc(c){c.g=new nn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Vt(c.na);Ze(y,"RID","rpc"),Ze(y,"SID",c.M),Ze(y,"AID",c.K),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(y,"TO",c.ia),Ze(y,"TYPE","xmlhttp"),aa(c,y),c.u&&c.o&&ia(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=ea(Vt(y)),_.u=null,_.R=!0,Ba(_,c)}i.Va=function(){this.C!=null&&(this.C=null,Zr(this),oa(this),ke(19))};function $a(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function gc(c,y){var _=null;if(c.g==y){$a(c),wl(c),c.g=null;var S=2}else if(qi(c.h,y))_=y.G,fl(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=dr(),it(S,new gt(S,_)),Qi(c)}else dc(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Xa(c,y)||S==2&&oa(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function pc(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),S=c.Ua;const B=!S;S=new $n(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Wt(S,"https"),ea(S),B?Si(S.toString(),_):vl(S.toString(),_)}else ke(2);c.I=0,c.l&&c.l.pa(y),yc(c),Ka(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function yc(c){if(c.I=0,c.ja=[],c.l){const y=dl(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function vc(c,y,_){var S=_ instanceof $n?Vt(_):new $n(_);if(S.g!="")y&&(S.g=y+"."+S.g),Yr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new $n(null);S&&Wt(K,S),y&&(K.g=y),B&&Yr(K,B),_&&(K.h=_),S=K}return _=c.G,y=c.wa,_&&y&&Ze(S,_,y),Ze(S,"VER",c.ka),aa(c,S),S}function _c(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new rt(new Fi({ab:_})):new rt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}i=bc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function es(){}es.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){dt.call(this),this.g=new Jr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}E(Rn,dt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){El(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Tn(c),c=_);y.i.push(new Ot(y.Ya++,c)),y.I==3&&Qi(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Rn.Z.N.call(this)};function Ec(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}E(Ec,Ht);function Tc(){fn.call(this),this.status=1}E(Tc,fn);function yr(c){this.g=c}E(yr,bc),yr.prototype.ra=function(){it(this.g,"a")},yr.prototype.qa=function(c){it(this.g,new Ec(c))},yr.prototype.pa=function(c){it(this.g,new Tc)},yr.prototype.oa=function(){it(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,LT=function(){return new es},PT=function(){return dr()},kT=mt,Ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,Lh=mn,gn.COMPLETE="complete",VT=gn,Zs.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,cu=Zs,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,OT=rt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Jo="12.8.0";function A2(i){Jo=i}const Da=new sp("@firebase/firestore");function Io(){return Da.logLevel}function fe(i,...e){if(Da.logLevel<=Be.DEBUG){const n=e.map(lp);Da.debug(`Firestore (${Jo}): ${i}`,...n)}}function Lr(i,...e){if(Da.logLevel<=Be.ERROR){const n=e.map(lp);Da.error(`Firestore (${Jo}): ${i}`,...n)}}function Bo(i,...e){if(Da.logLevel<=Be.WARN){const n=e.map(lp);Da.warn(`Firestore (${Jo}): ${i}`,...n)}}function lp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,UT(i,s,n)}function UT(i,e,n){let s=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Lr(s),new Error(s)}function Je(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||UT(e,o,s)}function De(i,e){return i}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new zT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class x2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class D2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new x2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=M2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function qe(i,e){return i<e?-1:i>e?1:0}function xg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return sg(o)===sg(u)?qe(o,u):sg(o)?1:-1}return qe(i.length,e.length)}const O2=55296,V2=57343;function sg(i){const e=i.charCodeAt(0);return e>=O2&&e<=V2}function qo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const yb="__name__";class er{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=er.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return qe(e.length,n.length)}static compareSegments(e,n){const s=er.isNumericId(e),o=er.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?er.extractNumericId(e).compare(er.extractNumericId(n)):xg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class ut extends er{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const k2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends er{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return k2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yb}static keyField(){return new cn([yb])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ut.fromString(e))}static fromName(e){return new Te(ut.fromString(e).popFirst(5))}static empty(){return new Te(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ut(e.slice()))}}function jT(i,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P2(i,e,n,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vb(i){if(!Te.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _b(i){if(Te.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function BT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function xn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(i);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function L2(i,e){if(e<=0)throw new ue(W.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Hu(i,e){if(!BT(i))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(W.INVALID_ARGUMENT,n);return!0}const bb=-62135596800,Eb=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Eb);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bb)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Bt("string",ft._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ft(0,0))}static max(){return new Re(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function U2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new zs(o,Te.empty(),e)}function z2(i){return new zs(i.readTime,i.key,Ru)}class zs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zs(Re.min(),Te.empty(),Ru)}static max(){return new zs(Re.max(),Te.empty(),Ru)}}function j2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:qe(i.largestBatchId,e.largestBatchId))}const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==B2)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((b=>{h[p]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function H2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(i){return i.name==="IndexedDbTransactionError"}class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;const cp=-1;function Sf(i){return i==null}function Wh(i){return i===0&&1/i==-1/0}function F2(i){return typeof i=="number"&&Number.isInteger(i)&&!Wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const qT="";function G2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Tb(e)),e=Y2(i.get(n),e);return Tb(e)}function Y2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case qT:n+="";break;default:n+=u}}return n}function Tb(i){return i+qT+""}function wb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function HT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ri([])}unionWith(e){let n=new Yt(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const n=Q2.exec(i);if(Je(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Bs(i){return typeof i=="string"?hn.fromBase64String(i):hn.fromUint8Array(i)}const GT="server_timestamp",YT="__type__",QT="__previous_value__",KT="__local_write_time__";function hp(i){return(i?.mapValue?.fields||{})[YT]?.stringValue===GT}function Af(i){const e=i.mapValue.fields[QT];return hp(e)?Af(e):e}function Cu(i){const e=js(i.mapValue.fields[KT].timestampValue);return new ft(e.seconds,e.nanos)}class K2{constructor(e,n,s,o,u,h,m,g,p,b,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=E}}const Jh="(default)";class Iu{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}function X2(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(i.options.projectId,e)}const XT="__type__",$2="__max__",Dh={mapValue:{}},$T="__vector__",Zh="value";function qs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hp(i)?4:J2(i)?9007199254740991:W2(i)?10:11:Se(28295,{value:i})}function lr(i,e){if(i===e)return!0;const n=qs(i);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cu(i).isEqual(Cu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=js(o.timestampValue),m=js(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return It(o.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return It(o.integerValue)===It(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=It(o.doubleValue),m=It(u.doubleValue);return h===m?Wh(h)===Wh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return qo(i.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(wb(h)!==wb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!lr(h[g],m[g])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function xu(i,e){return(i.values||[]).find((n=>lr(n,e)))!==void 0}function Ho(i,e){if(i===e)return 0;const n=qs(i),s=qs(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=It(u.integerValue||u.doubleValue),g=It(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return Ab(i.timestampValue,e.timestampValue);case 4:return Ab(Cu(i),Cu(e));case 5:return xg(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Bs(u),g=Bs(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=qe(m[p],g[p]);if(b!==0)return b}return qe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=qe(It(u.latitude),It(h.latitude));return m!==0?m:qe(It(u.longitude),It(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Rb(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Zh]?.arrayValue,b=g[Zh]?.arrayValue,E=qe(p?.values?.length||0,b?.values?.length||0);return E!==0?E:Rb(p,b)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Dh.mapValue&&h===Dh.mapValue)return 0;if(u===Dh.mapValue)return 1;if(h===Dh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const w=xg(g[E],b[E]);if(w!==0)return w;const O=Ho(m[g[E]],p[b[E]]);if(O!==0)return O}return qe(g.length,b.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Ab(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const n=js(i),s=js(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function Rb(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ho(n[o],s[o]);if(u)return u}return qe(n.length,s.length)}function Fo(i){return Dg(i)}function Dg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=js(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Bs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dg(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Dg(n.fields[h])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function Uh(i){switch(qs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(i);return e?16+Uh(e):16;case 5:return 2*i.stringValue.length;case 6:return Bs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((u,h)=>{o+=u.length+Uh(h)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function Cb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ng(i){return!!i&&"integerValue"in i}function fp(i){return!!i&&"arrayValue"in i}function Ib(i){return!!i&&"nullValue"in i}function xb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function W2(i){return(i?.mapValue?.fields||{})[XT]?.stringValue===$T}function gu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=gu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(i.arrayValue.values[n]);return e}return{...i}}function J2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=cn.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=gu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(gu(this.value))}}function WT(i){const e=[];return Ks(i.fields,((n,s)=>{const o=new cn([n]);if(zh(s)){const u=WT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ri(e)}class _n{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Re.min(),Re.min(),Re.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new _n(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Re.min(),Re.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Re.min(),Re.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}function Db(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=Ho(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!lr(i.position[n],e.position[n]))return!1;return!0}class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class JT{}class jt extends JT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tx(e,n,s):n==="array-contains"?new rx(e,s):n==="in"?new sx(e,s):n==="not-in"?new ax(e,s):n==="array-contains-any"?new ox(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nx(e,s):new ix(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return ZT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZT(i){return i.op==="and"}function ew(i){return ex(i)&&ZT(i)}function ex(i){for(const e of i.filters)if(e instanceof ki)return!1;return!0}function Mg(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Fo(i.value);if(ew(i))return i.filters.map((e=>Mg(e))).join(",");{const e=i.filters.map((n=>Mg(n))).join(",");return`${i.op}(${e})`}}function tw(i,e){return i instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&lr(s.value,o.value)})(i,e):i instanceof ki?(function(s,o){return o instanceof ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&tw(h,o.filters[m])),!0):!1})(i,e):void Se(19439)}function nw(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`})(i):i instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(nw).join(" ,")+"}"})(i):"Filter"}class tx extends jt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class nx extends jt{constructor(e,n){super(e,"in",n),this.keys=iw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ix extends jt{constructor(e,n){super(e,"not-in",n),this.keys=iw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iw(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class rx extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fp(n)&&xu(n.arrayValue,this.value)}}class sx extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class ax extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class ox extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}class lx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Mb(i,e=null,n=[],s=[],o=null,u=null,h=null){return new lx(i,e,n,s,o,u,h)}function dp(i){const e=De(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Fo(s))).join(",")),e.Te=n}return e.Te}function mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Z2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nb(i.startAt,e.startAt)&&Nb(i.endAt,e.endAt)}function Og(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class tl{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ux(i,e,n,s,o,u,h,m){return new tl(i,e,n,s,o,u,h,m)}function Rf(i){return new tl(i)}function Ob(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cx(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function rw(i){return i.collectionGroup!==null}function pu(i){const e=De(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Yt(cn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Du(u,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new Du(cn.keyField(),s))}return e.Ie}function ir(i){const e=De(i);return e.Ee||(e.Ee=hx(e,pu(i))),e.Ee}function hx(i,e){if(i.limitType==="F")return Mb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Du(o.field,u)}));const n=i.endAt?new ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ef(i.startAt.position,i.startAt.inclusive):null;return Mb(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Vg(i,e){const n=i.filters.concat([e]);return new tl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function fx(i,e){const n=i.explicitOrderBy.concat([e]);return new tl(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function tf(i,e,n){return new tl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Cf(i,e){return mp(ir(i),ir(e))&&i.limitType===e.limitType}function sw(i){return`${dp(ir(i))}|lt:${i.limitType}`}function xo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>nw(o))).join(", ")}]`),Sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Fo(o))).join(",")),`Target(${s})`})(ir(i))}; limitType=${i.limitType})`}function If(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=Db(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,pu(s),o)||s.endAt&&!(function(h,m,g){const p=Db(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,pu(s),o))})(i,e)}function dx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aw(i){return(e,n)=>{let s=!1;for(const o of pu(i)){const u=mx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mx(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ho(g,p):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}const gx=new _t(Te.comparator);function Ur(){return gx}const ow=new _t(Te.comparator);function hu(...i){let e=ow;for(const n of i)e=e.insert(n.key,n);return e}function lw(i){let e=ow;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Aa(){return yu()}function uw(){return yu()}function yu(){return new La((i=>i.toString()),((i,e)=>i.isEqual(e)))}const px=new _t(Te.comparator),yx=new Yt(Te.comparator);function He(...i){let e=yx;for(const n of i)e=e.add(n);return e}const vx=new Yt(qe);function _x(){return vx}function gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function cw(i){return{integerValue:""+i}}function hw(i,e){return F2(e)?cw(e):gp(i,e)}class xf{constructor(){this._=void 0}}function bx(i,e,n){return i instanceof nf?(function(o,u){const h={fields:{[YT]:{stringValue:GT},[KT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hp(u)&&(u=Af(u)),u&&(h.fields[QT]=u),{mapValue:h}})(n,e):i instanceof Go?dw(i,e):i instanceof Nu?mw(i,e):(function(o,u){const h=fw(o,u),m=Vb(h)+Vb(o.Ae);return Ng(h)&&Ng(o.Ae)?cw(m):gp(o.serializer,m)})(i,e)}function Ex(i,e,n){return i instanceof Go?dw(i,e):i instanceof Nu?mw(i,e):n}function fw(i,e){return i instanceof Mu?(function(s){return Ng(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class nf extends xf{}class Go extends xf{constructor(e){super(),this.elements=e}}function dw(i,e){const n=gw(e);for(const s of i.elements)n.some((o=>lr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Nu extends xf{constructor(e){super(),this.elements=e}}function mw(i,e){let n=gw(e);for(const s of i.elements)n=n.filter((o=>!lr(o,s)));return{arrayValue:{values:n}}}class Mu extends xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vb(i){return It(i.integerValue||i.doubleValue)}function gw(i){return fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class pw{constructor(e,n){this.field=e,this.transform=n}}function Tx(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Go&&o instanceof Go||s instanceof Nu&&o instanceof Nu?qo(s.elements,o.elements,lr):s instanceof Mu&&o instanceof Mu?lr(s.Ae,o.Ae):s instanceof nf&&o instanceof nf})(i.transform,e.transform)}class wx{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Df{}function yw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Nf(i.key,Dn.none()):new Fu(i.key,i.data,Dn.none());{const n=i.data,s=Bn.empty();let o=new Yt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Xs(i.key,s,new ri(o.toArray()),Dn.none())}}function Sx(i,e,n){i instanceof Fu?(function(o,u,h){const m=o.value.clone(),g=Pb(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Xs?(function(o,u,h){if(!jh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Pb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(vw(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function vu(i,e,n,s){return i instanceof Fu?(function(u,h,m,g){if(!jh(u.precondition,h))return m;const p=u.value.clone(),b=Lb(u.fieldTransforms,g,h);return p.setAll(b),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof Xs?(function(u,h,m,g){if(!jh(u.precondition,h))return m;const p=Lb(u.fieldTransforms,g,h),b=h.data;return b.setAll(vw(u)),b.setAll(p),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,e,n,s):(function(u,h,m){return jh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function Ax(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=fw(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function kb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qo(s,o,((u,h)=>Tx(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fu extends Df{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Df{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Pb(i,e,n){const s=new Map;Je(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Ex(h,m,n[o]))}return s}function Lb(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,bx(u,h,e))}return s}class Nf extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rx extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Sx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uw();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=yw(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((n,s)=>kb(n,s)))&&qo(this.baseMutations,e.baseMutations,((n,s)=>kb(n,s)))}}class pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return px})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new pp(e,n,s,o)}}class Ix{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xx{constructor(e,n){this.count=e,this.unchangedNames=n}}var zt,Qe;function Dx(i){switch(i){case W.OK:return Se(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function _w(i){if(i===void 0)return Lr("GRPC error has no .code"),W.UNKNOWN;switch(i){case zt.OK:return W.OK;case zt.CANCELLED:return W.CANCELLED;case zt.UNKNOWN:return W.UNKNOWN;case zt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case zt.INTERNAL:return W.INTERNAL;case zt.UNAVAILABLE:return W.UNAVAILABLE;case zt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case zt.NOT_FOUND:return W.NOT_FOUND;case zt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case zt.ABORTED:return W.ABORTED;case zt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case zt.DATA_LOSS:return W.DATA_LOSS;default:return Se(39323,{code:i})}}(Qe=zt||(zt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function Nx(){return new TextEncoder}const Mx=new Vs([4294967295,4294967295],0);function Ub(i){const e=Nx().encode(i),n=new MT;return n.update(e),new Uint8Array(n.digest())}function zb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Vs([n,s],0),new Vs([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Vs.fromNumber(s)));return o.compare(Mx)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ub(e),[s,o]=zb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new yp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Ub(e),[s,o]=zb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mf(Re.min(),o,new _t(qe),Ur(),He())}}class Gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gu(s,n,He(),He(),He())}}class Bh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class bw{constructor(e,n){this.targetId=e,this.Ce=n}}class Ew{constructor(e,n,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class jb{constructor(){this.ve=0,this.Fe=Bb(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Gu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Bb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ox{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.He=Nh(),this.Je=Nh(),this.Ze=new _t(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Og(u))if(s===0){const h=new Te(u.path);this.et(n,h,_n.newNoDocument(h,Re.min()))}else Je(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Bs(s).toUint8Array()}catch(g){if(g instanceof FT)return Bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yp(h,o,u)}catch(g){return Bo(g instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Og(m.target)){const g=new Te(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,_n.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=He();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Mf(e,n,this.Ze,this.je,s);return this.je=Ur(),this.He=Nh(),this.Je=Nh(),this.Ze=new _t(qe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nh(){return new _t(Te.comparator)}function Bb(){return new _t(Te.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class Lx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(i,e){return i.useProto3Json||Sf(e)?e:{value:e}}function rf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ux(i,e){return rf(i,e.toTimestamp())}function rr(i){return Je(!!i,49232),Re.fromTimestamp((function(n){const s=js(n);return new ft(s.seconds,s.nanos)})(i))}function vp(i,e){return Pg(i,e).canonicalString()}function Pg(i,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ww(i){const e=ut.fromString(i);return Je(Iw(e),10190,{key:e.toString()}),e}function Lg(i,e){return vp(i.databaseId,e.path)}function ag(i,e){const n=ww(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(Aw(n))}function Sw(i,e){return vp(i.databaseId,e)}function zx(i){const e=ww(i);return e.length===4?ut.emptyPath():Aw(e)}function Ug(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Aw(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function qb(i,e,n){return{name:Lg(i,e),fields:n.value.mapValue.fields}}function jx(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,b){return p.useProto3Json?(Je(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const b=p.code===void 0?W.UNKNOWN:_w(p.code);return new ue(b,p.message||"")})(h);n=new Ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ag(i,s.document.name),u=rr(s.document.updateTime),h=s.document.createTime?rr(s.document.createTime):Re.min(),m=new Bn({mapValue:{fields:s.document.fields}}),g=_n.newFoundDocument(o,u,h,m),p=s.targetIds||[],b=s.removedTargetIds||[];n=new Bh(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ag(i,s.document),u=s.readTime?rr(s.readTime):Re.min(),h=_n.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ag(i,s.document),u=s.removedTargetIds||[];n=new Bh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xx(o,u),m=s.targetId;n=new bw(m,h)}}return n}function Bx(i,e){let n;if(e instanceof Fu)n={update:qb(i,e.key,e.value)};else if(e instanceof Nf)n={delete:Lg(i,e.key)};else if(e instanceof Xs)n={update:qb(i,e.key,e.data),updateMask:$x(e.fieldMask)};else{if(!(e instanceof Rx))return Se(16599,{dt:e.type});n={verify:Lg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof nf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Go)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ux(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function qx(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?rr(o.updateTime):rr(u);return h.isEqual(Re.min())&&(h=rr(u)),new wx(h,o.transformResults||[])})(n,e)))):[]}function Hx(i,e){return{documents:[Sw(i,e.path)]}}function Fx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Sw(i,o);const u=(function(p){if(p.length!==0)return Cw(ki.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((b=>(function(w){return{field:Do(w.field),direction:Qx(w.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=kg(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function Gx(i){let e=zx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(E){const w=Rw(E);return w instanceof ki&&ew(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((w=>(function(F){return new Du(No(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,Sf(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(E){const w=!!E.before,O=E.values||[];return new ef(O,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const w=!E.before,O=E.values||[];return new ef(O,w)})(n.endAt)),ux(e,o,h,u,m,"F",g,p)}function Yx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>Rw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function Qx(i){return Vx[i]}function Kx(i){return kx[i]}function Xx(i){return Px[i]}function Do(i){return{fieldPath:i.canonicalString()}}function No(i){return cn.fromServerFormat(i.fieldPath)}function Cw(i){return i instanceof jt?(function(n){if(n.op==="=="){if(xb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(Ib(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(Ib(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:Kx(n.op),value:n.value}}})(i):i instanceof ki?(function(n){const s=n.getFilters().map((o=>Cw(o)));return s.length===1?s[0]:{compositeFilter:{op:Xx(n.op),filters:s}}})(i):Se(54877,{filter:i})}function $x(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Iw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function xw(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Ds{constructor(e,n,s,o,u=Re.min(),h=Re.min(),m=hn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wx{constructor(e){this.yt=e}}function Jx(i){const e=Gx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tf(e,e.limit,"L"):e}class Zx{constructor(){this.Sn=new eD}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(zs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class eD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Yt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(ut.comparator)).toArray()}}const Hb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dw=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Dw,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Yo(0)}static ar(){return new Yo(-1)}}const Fb="LruGarbageCollector",tD=1048576;function Gb([i,e],[n,s]){const o=qe(i,n);return o===0?qe(e,s):o}class nD{constructor(e){this.Pr=e,this.buffer=new Yt(Gb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Gb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(Fb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?fe(Fb,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Ar(3e5)}))}}class rD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(wf.ce);const s=new nD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Hb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,m=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(p=Date.now(),Io()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function sD(i,e){return new rD(i,e)}class aD{constructor(){this.changes=new La((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&vu(s.mutation,o,ri.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const o=Aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=hu();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Ur();const h=yu(),m=(function(){return yu()})();return n.forEach(((g,p)=>{const b=s.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof Xs)?u=u.insert(p.key,p):b!==void 0?(h.set(p.key,b.mutation.getFieldMask()),vu(b.mutation,p,b.mutation.getFieldMask(),ft.now())):h.set(p.key,ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,b)=>h.set(p,b))),n.forEach(((p,b)=>m.set(p,new oD(b,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=yu();let o=new _t(((h,m)=>h-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let b=s.get(g)||ri.empty();b=m.applyToLocalView(p,b),s.set(g,b);const E=(o.get(m.batchId)||He()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,E=uw();b.forEach((w=>{if(!u.has(w)){const O=yw(n.get(w),s.get(w));O!==null&&E.set(w,O),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return cx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Aa());let m=Ru,g=u;return h.next((p=>ee.forEach(p,((b,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{g=g.insert(b,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,He()))).next((b=>({batchId:m,changes:lw(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let o=hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=hu();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(E,w){return new tl(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((b=>{b.forEach(((E,w)=>{h=h.insert(E,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const b=p.getKey();h.get(b)===null&&(h=h.insert(b,_n.newInvalidDocument(b)))}));let m=hu();return h.forEach(((g,p)=>{const b=u.get(g);b!==void 0&&vu(b.mutation,p,ri.empty(),ft.now()),If(n,p)&&(m=m.insert(g,p))})),m}))}}class uD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Jx(o.bundledQuery),readTime:rr(o.readTime)}})(n)),ee.resolve()}}class cD{constructor(){this.overlays=new _t(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Aa();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Aa(),u=n.length+1,h=new Te(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t(((p,b)=>p-b));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let b=u.get(p.largestBatchId);b===null&&(b=Aa(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=Aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Ix(n,s));let u=this.Lr.get(n);u===void 0&&(u=He(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class hD{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class _p{constructor(){this.kr=new Yt(Zt.Kr),this.qr=new Yt(Zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Te(new ut([])),s=new Zt(n,e),o=new Zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new ut([])),s=new Zt(n,e),o=new Zt(n,e+1);let u=He();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class fD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt(Zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Cx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?cp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(qe);return n.forEach((o=>{const u=new Zt(o,0),h=new Zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Zt(new Te(u),0);let m=new Yt(qe);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new Zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dD{constructor(e){this.ti=e,this.docs=(function(){return new _t(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=Ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ur();const h=n.path,m=new Te(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||j2(z2(b),s)<=0||(o.has(b.key)||If(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new mD(this)}getSize(e){return ee.resolve(this.size)}}class mD extends aD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class gD{constructor(e){this.persistence=e,this.ri=new La((n=>dp(n)),mp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new _p,this.targetCount=0,this.oi=Yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class Nw{constructor(e,n){this._i={},this.overlays={},this.ai=new wf(0),this.ui=!1,this.ui=!0,this.ci=new hD,this.referenceDelegate=e(this),this.li=new gD(this),this.indexManager=new Zx,this.remoteDocumentCache=(function(o){return new dD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Wx(n),this.Pi=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new fD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new pD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class pD extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Ri=new _p,this.Ai=null}static Vi(e){return new bp(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=Te.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class sf{constructor(e,n){this.persistence=e,this.fi=new La((s=>G2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=sD(this,n)}static Vi(e,n){return new sf(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ep{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ep(e,n.fromCache,s,o)}}class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sI()?8:H2(En())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new yD;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Io()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Io()<=Be.DEBUG&&fe("QueryEngine","Query:",xo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Io()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):ee.resolve())}gs(e,n){if(Ob(n))return ee.resolve(null);let s=ir(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tf(n,null,"F"),s=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=He(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,tf(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return Ob(n)||o.isEqual(Re.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(Io()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.Ds(e,h,n,U2(o,Ru)).next((m=>m)))}))}bs(e,n){let s=new Yt(aw(e));return n.forEach(((o,u)=>{If(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Io()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",xo(n)),this.fs.getDocumentsMatchingQuery(e,n,zs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Tp="LocalStore",_D=3e8;class bD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new _t(qe),this.Fs=new La((u=>dp(u)),mp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ED(i,e,n,s){return new bD(i,e,n,s)}async function Mw(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=He();for(const p of o){h.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of u){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function TD(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const E=p.batch,w=E.keys();let O=ee.resolve();return w.forEach((F=>{O=O.next((()=>b.getEntry(g,F))).next((G=>{const z=p.docVersions.get(F);Je(z!==null,48541),G.version.compareTo(z)<0&&(E.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),b.addEntry(G)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=He();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ow(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function wD(i,e){const n=De(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,E)=>{const w=o.get(E);if(!w)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,E))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(hn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(E,O),(function(G,z,te){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=_D?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,O,b)&&m.push(n.li.updateTargetData(u,O))}));let g=Ur(),p=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(SD(u,h,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!s.isEqual(Re.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function SD(i,e,n){let s=He(),o=He();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ur();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(Tp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function AD(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function RD(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new Ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function zg(i,e,n){const s=De(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!el(h))throw h;fe(Tp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Yb(i,e,n){const s=De(i);let o=Re.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,b){const E=De(g),w=E.Fs.get(b);return w!==void 0?ee.resolve(E.vs.get(w)):E.li.getTargetData(p,b)})(s,h,ir(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?u:He()))).next((m=>(CD(s,dx(e),m),{documents:m,ks:u})))))}function CD(i,e,n){let s=i.Ms.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class Qb{constructor(){this.activeTargetIds=_x()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ID{constructor(){this.vo=new Qb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Qb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xD{Mo(e){}shutdown(){}}const Kb="ConnectivityMonitor";class Xb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mh=null;function jg(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}const og="RestConnection",DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ND{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=jg(),m=this.Qo(e,n.toUriEncodedString());fe(og,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),b=$o(p);return this.zo(e,m,g,s,b).then((E=>(fe(og,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Bo(og,`RPC '${e}' ${h} failed with error: `,E,"url: ",m,"request:",s),E}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=DD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class MD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const yn="WebChannelConnection",lu=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Oo extends ND{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Oo.c_){const e=PT();lu(e,kT.STAT_EVENT,(n=>{n.stat===Ig.PROXY?fe(yn,"STAT_EVENT: detected buffering proxy"):n.stat===Ig.NOPROXY&&fe(yn,"STAT_EVENT: detected no buffering proxy")})),Oo.c_=!0}}zo(e,n,s,o,u){const h=jg();return new Promise(((m,g)=>{const p=new OT;p.setWithCredentials(!0),p.listenOnce(VT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Lh.NO_ERROR:const E=p.getResponseJson();fe(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),m(E);break;case Lh.TIMEOUT:fe(yn,`RPC '${e}' ${h} timed out`),g(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const w=p.getStatus();if(fe(yn,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const F=O?.error;if(F&&F.status&&F.message){const G=(function(te){const se=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(se)>=0?se:W.UNKNOWN})(F.status);g(new ue(G,F.message))}else g(new ue(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(yn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);fe(yn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=jg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");fe(yn,`Creating RPC '${e}' stream ${o}: ${p}`,m);const b=h.createWebChannel(p,m);this.I_(b);let E=!1,w=!1;const O=new MD({Ho:F=>{w?fe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(E||(fe(yn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),E=!0),fe(yn,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Jo:()=>b.close()});return lu(b,cu.EventType.OPEN,(()=>{w||(fe(yn,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),lu(b,cu.EventType.CLOSE,(()=>{w||(w=!0,fe(yn,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(b))})),lu(b,cu.EventType.ERROR,(F=>{w||(w=!0,Bo(yn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),O.o_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),lu(b,cu.EventType.MESSAGE,(F=>{if(!w){const G=F.data[0];Je(!!G,16349);const z=G,te=z?.error||z[0]?.error;if(te){fe(yn,`RPC '${e}' stream ${o} received error:`,te);const se=te.status;let ie=(function(he){const R=zt[he];if(R!==void 0)return _w(R)})(se),ce=te.message;ie===void 0&&(ie=W.INTERNAL,ce="Unknown error status: "+se+" with message "+te.message),w=!0,O.o_(new ue(ie,ce)),b.close()}else fe(yn,`RPC '${e}' stream ${o} received:`,G),O.__(G)}})),Oo.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LT()}}function OD(i){return new Oo(i)}function lg(){return typeof document<"u"?document:null}function Of(i){return new Lx(i,!0)}Oo.c_=!1;class Vw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $b="PersistentStream";class kw{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe($b,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe($b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VD extends kw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?rr(h.readTime):Re.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Og(g)?{documents:Hx(u,g)}:{query:Fx(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Tw(u,h.resumeToken);const p=kg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=rf(u,h.snapshotVersion.toTimestamp());const p=kg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=Yx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.K_(n)}}class kD extends kw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qx(e.writeResults,e.commitTime),s=rr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ug(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Bx(this.serializer,s)))};this.K_(n)}}class PD{}class LD extends PD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Pg(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Pg(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function UD(i,e,n,s){return new LD(i,e,n,s)}class zD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class jD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Ua(this)&&(fe(Na,"Restarting streams for network reachability change."),await(async function(g){const p=De(g);p.Ea.add(4),await Yu(p),p.Va.set("Unknown"),p.Ea.delete(4),await Vf(p)})(this))}))})),this.Va=new zD(s,o)}}async function Vf(i){if(Ua(i))for(const e of i.Ra)await e(!0)}async function Yu(i){for(const e of i.Ra)await e(!1)}function Pw(i,e){const n=De(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rp(n)?Ap(n):nl(n).O_()&&Sp(n,e))}function wp(i,e){const n=De(i),s=nl(n);n.Ia.delete(e),s.O_()&&Lw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ua(n)&&n.Va.set("Unknown"))}function Sp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(i).Z_(e)}function Lw(i,e){i.da.$e(e),nl(i).X_(e)}function Ap(i){i.da=new Ox({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),nl(i).start(),i.Va.ua()}function Rp(i){return Ua(i)&&!nl(i).x_()&&i.Ia.size>0}function Ua(i){return De(i).Ea.size===0}function Uw(i){i.da=void 0}async function BD(i){i.Va.set("Online")}async function qD(i){i.Ia.forEach(((e,n)=>{Sp(i,e)}))}async function HD(i,e){Uw(i),Rp(i)?(i.Va.ha(e),Ap(i)):i.Va.set("Unknown")}async function FD(i,e,n){if(i.Va.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){fe(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await af(i,s)}else if(e instanceof Bh?i.da.Xe(e):e instanceof bw?i.da.st(e):i.da.tt(e),!n.isEqual(Re.min()))try{const s=await Ow(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(p);b&&u.Ia.set(p,b.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),Lw(u,g);const E=new Ds(b.target,g,p,b.sequenceNumber);Sp(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(Na,"Failed to raise snapshot:",s),await af(i,s)}}async function af(i,e,n){if(!el(e))throw e;i.Ea.add(1),await Yu(i),i.Va.set("Offline"),n||(n=()=>Ow(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Na,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Vf(i)}))}function zw(i,e){return e().catch((n=>af(i,n,e)))}async function kf(i){const e=De(i),n=Hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;GD(e);)try{const o=await AD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,YD(e,o)}catch(o){await af(e,o)}jw(e)&&Bw(e)}function GD(i){return Ua(i)&&i.Ta.length<10}function YD(i,e){i.Ta.push(e);const n=Hs(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function jw(i){return Ua(i)&&!Hs(i).x_()&&i.Ta.length>0}function Bw(i){Hs(i).start()}async function QD(i){Hs(i).ra()}async function KD(i){const e=Hs(i);for(const n of i.Ta)e.ea(n.mutations)}async function XD(i,e,n){const s=i.Ta.shift(),o=pp.from(s,e,n);await zw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kf(i)}async function $D(i,e){e&&Hs(i).Y_&&await(async function(s,o){if((function(h){return Dx(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();Hs(s).B_(),await zw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kf(s)}})(i,e),jw(i)&&Bw(i)}async function Wb(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),fe(Na,"RemoteStore received new credentials");const s=Ua(n);n.Ea.add(3),await Yu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function WD(i,e){const n=De(i);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await Yu(n),n.Va.set("Unknown"))}function nl(i){return i.ma||(i.ma=(function(n,s,o){const u=De(n);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:BD.bind(null,i),Yo:qD.bind(null,i),t_:HD.bind(null,i),J_:FD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Rp(i)?Ap(i):i.Va.set("Unknown")):(await i.ma.stop(),Uw(i))}))),i.ma}function Hs(i){return i.fa||(i.fa=(function(n,s,o){const u=De(n);return u.sa(),new kD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QD.bind(null,i),t_:$D.bind(null,i),ta:KD.bind(null,i),na:XD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await kf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Na,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Cp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Cp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),el(i))return new ue(W.UNAVAILABLE,`${e}: ${i}`);throw i}class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=hu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Jb{constructor(){this.ga=new _t(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Qo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Qo(e,n,Vo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class JD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZD{constructor(){this.queries=Zb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=Zb(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function Zb(){return new La((i=>sw(i)),Cf)}async function xp(i,e){const n=De(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new JD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ip(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Np(n)}async function Dp(i,e){const n=De(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eN(i,e){const n=De(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Np(n)}function tN(i,e,n){const s=De(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Np(i){i.Ca.forEach((e=>{e.next()}))}var Bg,eE;(eE=Bg||(Bg={})).Ma="default",eE.Cache="cache";class Mp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bg.Cache}}class qw{constructor(e){this.key=e}}class Hw{constructor(e){this.key=e}}class nN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=aw(e),this.tu=new Vo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Jb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,E)=>{const w=o.get(b),O=If(this.query,E)?E:null,F=!!w&&this.mutatedKeys.has(w.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;w&&O?w.data.isEqual(O.data)?F!==G&&(s.track({type:3,doc:O}),z=!0):this.su(w,O)||(s.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||p&&this.eu(O,p)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),z=!0):w&&!O&&(s.track({type:1,doc:w}),z=!0,(g||p)&&(m=!0)),z&&(O?(h=h.add(O),u=G?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,E)=>(function(O,F){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:z})}};return G(O)-G(F)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Qo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Hw(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new qw(s))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Op="SyncEngine";class iN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rN{constructor(e){this.key=e,this.hu=!1}}class sN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new La((m=>sw(m)),Cf),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(Te.comparator),this.Au=new Map,this.Vu=new _p,this.du={},this.mu=new Map,this.fu=Yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aN(i,e,n=!0){const s=Xw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Fw(s,e,n,!0),o}async function oN(i,e){const n=Xw(i);await Fw(n,e,!0,!1)}async function Fw(i,e,n,s){const o=await RD(i.localStore,ir(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lN(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Pw(i.remoteStore,o),m}async function lN(i,e,n,s,o){i.pu=(E,w,O)=>(async function(G,z,te,se){let ie=z.view.ru(te);ie.Ss&&(ie=await Yb(G.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,ie))));const ce=se&&se.targetChanges.get(z.targetId),ge=se&&se.targetMismatches.get(z.targetId)!=null,he=z.view.applyChanges(ie,G.isPrimaryClient,ce,ge);return nE(G,z.targetId,he.au),he.snapshot})(i,E,w,O);const u=await Yb(i.localStore,e,!0),h=new nN(e,u.ks),m=h.ru(u.documents),g=Gu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);nE(i,n,p.au);const b=new iN(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function uN(i,e,n){const s=De(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Cf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wp(s.remoteStore,o.targetId),qg(s,o.targetId)})).catch(Zo)):(qg(s,o.targetId),await zg(s.localStore,o.targetId,!0))}async function cN(i,e){const n=De(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wp(n.remoteStore,s.targetId))}async function hN(i,e,n){const s=vN(i);try{const o=await(function(h,m){const g=De(h),p=ft.now(),b=m.reduce(((O,F)=>O.add(F.key)),He());let E,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let F=Ur(),G=He();return g.xs.getEntries(O,b).next((z=>{F=z,F.forEach(((te,se)=>{se.isValidDocument()||(G=G.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,F))).next((z=>{E=z;const te=[];for(const se of m){const ie=Ax(se,E.get(se.key).overlayedDocument);ie!=null&&te.push(new Xs(se.key,ie,WT(ie.value.mapValue),Dn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,te,m)})).next((z=>{w=z;const te=z.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(O,z.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:lw(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new _t(qe)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Qu(s,o.changes),await kf(s.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function Gw(i,e){const n=De(i);try{const s=await wD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Je(h.hu,14607):o.removedDocuments.size>0&&(Je(h.hu,42227),h.hu=!1))})),await Qu(n,s,e)}catch(s){await Zo(s)}}function tE(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=De(h);g.onlineState=m;let p=!1;g.queries.forEach(((b,E)=>{for(const w of E.ba)w.va(m)&&(p=!0)})),p&&Np(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fN(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new _t(Te.comparator);h=h.insert(u,_n.newNoDocument(u,Re.min()));const m=He().add(u),g=new Mf(Re.min(),new Map,new _t(qe),h,m);await Gw(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Vp(s)}else await zg(s.localStore,e,!1).then((()=>qg(s,e,n))).catch(Zo)}async function dN(i,e){const n=De(i),s=e.batch.batchId;try{const o=await TD(n.localStore,e);Qw(n,s,null),Yw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qu(n,o)}catch(o){await Zo(o)}}async function mN(i,e,n){const s=De(i);try{const o=await(function(h,m){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(Je(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(s.localStore,e);Qw(s,e,n),Yw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Qu(s,o)}catch(o){await Zo(o)}}function Yw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Qw(i,e,n){const s=De(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function qg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Kw(i,s)}))}function Kw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(wp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Vp(i))}function nE(i,e,n){for(const s of n)s instanceof qw?(i.Vu.addReference(s.key,e),gN(i,s)):s instanceof Hw?(fe(Op,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Kw(i,s.key)):Se(19791,{wu:s})}function gN(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(fe(Op,"New document in limbo: "+n),i.Eu.add(s),Vp(i))}function Vp(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(ut.fromString(e)),s=i.fu.next();i.Au.set(s,new rN(n)),i.Ru=i.Ru.insert(n,s),Pw(i.remoteStore,new Ds(ir(Rf(n.path)),s,"TargetPurposeLimboResolution",wf.ce))}}async function Qu(i,e,n){const s=De(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Ep.Es(g.targetId,p);u.push(b)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const b=De(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(p,(w=>ee.forEach(w.Ts,(O=>b.persistence.referenceDelegate.addReference(E,w.targetId,O))).next((()=>ee.forEach(w.Is,(O=>b.persistence.referenceDelegate.removeReference(E,w.targetId,O)))))))))}catch(E){if(!el(E))throw E;fe(Tp,"Failed to update sequence numbers: "+E)}for(const E of p){const w=E.targetId;if(!E.fromCache){const O=b.vs.get(w),F=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(F);b.vs=b.vs.insert(w,G)}}})(s.localStore,u))}async function pN(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){fe(Op,"User change. New user:",e.toKey());const s=await Mw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Qu(n,s.Ns)}}function yN(i,e){const n=De(i),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Xw(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fN.bind(null,e),e.Pu.J_=eN.bind(null,e.eventManager),e.Pu.yu=tN.bind(null,e.eventManager),e}function vN(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ED(this.persistence,new vD,e.initialUser,this.serializer)}Cu(e){return new Nw(bp.Vi,this.serializer)}Du(e){return new ID}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class _N extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Nw((s=>sf.Vi(s,n)),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZD})()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),s=OD(e.databaseInfo);return UD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new jD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>tE(this.syncEngine,n,0)),(function(){return Xb.v()?new Xb:new xD})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,b){const E=new sN(o,u,h,m,g,p);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);fe(Na,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};class kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fs="FirestoreClient";class bN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(Fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(Fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ip(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ug(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Fs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Mw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function iE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await EN(i);fe(Fs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Wb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Wb(e.remoteStore,o))),i._onlineComponents=e}async function EN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Fs,"Using user provided OfflineComponentProvider");try{await ug(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await ug(i,new of)}}else fe(Fs,"Using default OfflineComponentProvider"),await ug(i,new _N(void 0));return i._offlineComponents}async function $w(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Fs,"Using user provided OnlineComponentProvider"),await iE(i,i._uninitializedComponentsProvider._online)):(fe(Fs,"Using default OnlineComponentProvider"),await iE(i,new Hg))),i._onlineComponents}function TN(i){return $w(i).then((e=>e.syncEngine))}async function lf(i){const e=await $w(i),n=e.eventManager;return n.onListen=aN.bind(null,e.syncEngine),n.onUnlisten=uN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),n}function wN(i,e,n,s){const o=new kp(s),u=new Mp(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>xp(await lf(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Dp(await lf(i),u)))}}function SN(i,e,n={}){const s=new kr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const b=new kp({next:w=>{b.Nu(),h.enqueueAndForget((()=>Dp(u,E)));const O=w.docs.has(m);!O&&w.fromCache?p.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&g&&g.source==="server"?p.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new Mp(Rf(m.path),b,{includeMetadataChanges:!0,Ka:!0});return xp(u,E)})(await lf(i),i.asyncQueue,e,n,s))),s.promise}function AN(i,e,n={}){const s=new kr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const b=new kp({next:w=>{b.Nu(),h.enqueueAndForget((()=>Dp(u,E))),w.fromCache&&g.source==="server"?p.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new Mp(m,b,{includeMetadataChanges:!0,Ka:!0});return xp(u,E)})(await lf(i),i.asyncQueue,e,n,s))),s.promise}function RN(i,e){const n=new kr;return i.asyncQueue.enqueueAndForget((async()=>hN(await TN(i),e,n))),n.promise}function Ww(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const CN="ComponentProvider",rE=new Map;function IN(i,e,n,s,o){return new K2(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Ww(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Jw="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jw,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new R2;switch(s.type){case"firstParty":return new D2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rE.get(n);s&&(fe(CN,"Removing Datastore"),rE.delete(n),s.terminate())})(this),Promise.resolve()}}function xN(i,e,n,s={}){i=xn(i,Pf);const o=$o(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(ST(`https://${m}`),AT("Firestore",!0)),u.host!==Jw&&u.host!==m&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Us(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,b;if(typeof s.mockUserToken=="string")p=s.mockUserToken,b=vn.MOCK_USER;else{p=$C(s.mockUserToken,i._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new vn(E)}i._authCredentials=new C2(new zT(p,b))}}class qr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Hu(n,Tt._jsonSchema))return new Tt(e,s||null,new Te(ut.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Bt("string",Tt._jsonSchemaVersion),referencePath:Bt("string")};class ks extends qr{constructor(e,n,s){super(e,n,Rf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function bn(i,e,...n){if(i=Qt(i),jT("collection","path",e),i instanceof Pf){const s=ut.fromString(e,...n);return _b(s),new ks(i,null,s)}{if(!(i instanceof Tt||i instanceof ks))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return _b(s),new ks(i.firestore,null,s)}}function si(i,e,...n){if(i=Qt(i),arguments.length===1&&(e=up.newId()),jT("doc","path",e),i instanceof Pf){const s=ut.fromString(e,...n);return vb(s),new Tt(i,null,new Te(s))}{if(!(i instanceof Tt||i instanceof ks))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ut.fromString(e,...n));return vb(s),new Tt(i.firestore,i instanceof ks?i.converter:null,new Te(s))}}const oE="AsyncQueue";class lE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vw(this,"async_queue_retry"),this._c=()=>{const s=lg();s&&fe(oE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;fe(oE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",uE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Cp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ur extends Pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lE(e),this._firestoreClient=void 0,await e}}}function DN(i,e){const n=typeof i=="object"?i:xT(),s=typeof i=="string"?i:Jh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=KC("firestore");u&&xN(o,...u)}return o}function Ku(i){if(i._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NN(i),i._firestoreClient}function NN(i){const e=i._freezeSettings(),n=IN(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new bN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(hn.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:Bt("string",wi._jsonSchemaVersion),bytes:Bt("string")};class Lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e){this._methodName=e}}class sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sr._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,sr._jsonSchema))return new sr(e.latitude,e.longitude)}}sr._jsonSchemaVersion="firestore/geoPoint/1.0",sr._jsonSchema={type:Bt("string",sr._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Bt("string",Vi._jsonSchemaVersion),vectorValues:Bt("object")};const MN=/^__.*__$/;class ON{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class Zw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:i})}}class Uf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Uf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eS(this.dataSource)&&MN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Of(e)}createContext(e,n,s,o=!1){return new Uf({dataSource:e,methodName:n,targetDoc:s,path:cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $u(i){const e=i._freezeSettings(),n=Of(i._databaseId);return new VN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Pp(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);zp("Data must be an object, but it was:",h,s);const m=iS(s,h);let g,p;if(u.merge)g=new ri(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const w=Ma(e,E,n);if(!h.contains(w))throw new ue(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aS(b,w)||b.push(w)}g=new ri(b),p=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=h.fieldTransforms;return new ON(new Bn(m),g,p)}class zf extends Xu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function kN(i,e,n){return new Uf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lp extends Xu{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=kN(this,e,!0),s=this.Ac.map((u=>il(u,n))),o=new Go(s);return new pw(e.path,o)}isEqual(e){return e instanceof Lp&&Us(this.Ac,e.Ac)}}class Up extends Xu{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Mu(e.serializer,hw(e.serializer,this.Vc));return new pw(e.path,n)}isEqual(e){return e instanceof Up&&this.Vc===e.Vc}}function tS(i,e,n,s){const o=i.createContext(1,e,n);zp("Data must be an object, but it was:",o,s);const u=[],h=Bn.empty();Ks(s,((g,p)=>{const b=sS(e,g,n);p=Qt(p);const E=o.childContextForFieldPath(b);if(p instanceof zf)u.push(b);else{const w=il(p,E);w!=null&&(u.push(b),h.set(b,w))}}));const m=new ri(u);return new Zw(h,m,o.fieldTransforms)}function nS(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[Ma(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ma(e,u[w])),g.push(u[w+1]);const p=[],b=Bn.empty();for(let w=m.length-1;w>=0;--w)if(!aS(p,m[w])){const O=m[w];let F=g[w];F=Qt(F);const G=h.childContextForFieldPath(O);if(F instanceof zf)p.push(O);else{const z=il(F,G);z!=null&&(p.push(O),b.set(O,z))}}const E=new ri(p);return new Zw(b,E,h.fieldTransforms)}function PN(i,e,n,s=!1){return il(n,i.createContext(s?4:3,e))}function il(i,e){if(rS(i=Qt(i)))return zp("Unsupported field value:",e,i),iS(i,e);if(i instanceof Xu)return(function(s,o){if(!eS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=il(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:rf(o.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rf(o.serializer,u)}}if(s instanceof sr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wi)return{bytesValue:Tw(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(h,m){const g=h instanceof Vi?h.toArray():h;return{mapValue:{fields:{[XT]:{stringValue:$T},[Zh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return gp(m.serializer,b)}))}}}}}})(s,o);if(xw(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Tf(s)}`)})(i,e)}function iS(i,e){const n={};return HT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,((s,o)=>{const u=il(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof sr||i instanceof wi||i instanceof Tt||i instanceof Xu||i instanceof Vi||xw(i))}function zp(i,e,n){if(!rS(n)||!BT(n)){const s=Tf(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Ma(i,e,n){if((e=Qt(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return sS(i,e);throw uf("Field path arguments must be of type string or ",i,!1,void 0,n)}const LN=new RegExp("[~\\*/\\[\\]]");function sS(i,e,n){if(e.search(LN)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function uf(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(W.INVALID_ARGUMENT,m+i+g)}function aS(i,e){return i.some((n=>n.isEqual(e)))}class UN{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new sr(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=js(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Je(Iw(s),9688,{name:e});const o=new Iu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||Lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class jp extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function zN(...i){return new Lp("arrayUnion",i)}function jN(i){return new Up("increment",i)}const cE="@firebase/firestore",hE="4.10.0";function fE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class oS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ma("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BN extends oS{data(){return super.data()}}function lS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class qp extends Bp{}function Gs(i,e,...n){let s=[];e instanceof Bp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Hp)).length,m=u.filter((g=>g instanceof jf)).length;if(h>1||h>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class jf extends qp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jf(e,n,s)}_apply(e){const n=this._parse(e);return cS(e._query,n),new qr(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=$u(e.firestore);return(function(u,h,m,g,p,b,E){let w;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){gE(E,b);const F=[];for(const G of E)F.push(mE(g,u,G));w={arrayValue:{values:F}}}else w=mE(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||gE(E,b),w=PN(m,h,E,b==="in"||b==="not-in");return jt.create(p,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dE(i,e,n){const s=e,o=Ma("where",i);return jf._create(o,s,n)}class Hp extends Bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)cS(h,g),h=Vg(h,g)})(e._query,n),new qr(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fp extends qp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fp(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(u,h)})(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,fx(e._query,n))}}function Wu(i,e="asc"){const n=e,s=Ma("orderBy",i);return Fp._create(s,n)}class Gp extends qp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Gp(e,n,s)}_apply(e){return new qr(e.firestore,e.converter,tf(e._query,this._limit,this._limitType))}}function uS(i){return L2("limit",i),Gp._create("limit",i,"F")}function mE(i,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!Te.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Cb(i,new Te(s))}if(n instanceof Tt)return Cb(i,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function gE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Yp(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends oS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ma("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Bt("string",Ca._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class qh extends Ca{data(e={}){return super.data(e)}}class Ia{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new du(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qh(this._firestore,this._userDataWriter,s.key,s,new du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:qN(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Bt("string",Ia._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class HN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$u(e)}set(e,n,s){this._verifyNotCommitted();const o=cg(e,this._firestore),u=Yp(o.converter,n,s),h=Pp(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Dn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=cg(e,this._firestore);let h;return h=typeof(n=Qt(n))=="string"||n instanceof Lf?nS(this._dataReader,"WriteBatch.update",u._key,n,s,o):tS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cg(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(i,e){if((i=Qt(i)).firestore!==e)throw new ue(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function FN(i){i=xn(i,Tt);const e=xn(i.firestore,ur),n=Ku(e);return SN(n,i._key).then((s=>hS(e,i,s)))}function Oa(i){i=xn(i,qr);const e=xn(i.firestore,ur),n=Ku(e),s=new jp(e);return lS(i._query),AN(n,i._query).then((o=>new Ia(e,s,i,o)))}function Bf(i,e,n){i=xn(i,Tt);const s=xn(i.firestore,ur),o=Yp(i.converter,e,n),u=$u(s);return Ju(s,[Pp(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Dn.none())])}function GN(i,e,n,...s){i=xn(i,Tt);const o=xn(i.firestore,ur),u=$u(o);let h;return h=typeof(e=Qt(e))=="string"||e instanceof Lf?nS(u,"updateDoc",i._key,e,n,s):tS(u,"updateDoc",i._key,e),Ju(o,[h.toMutation(i._key,Dn.exists(!0))])}function Va(i){return Ju(xn(i.firestore,ur),[new Nf(i._key,Dn.none())])}function Qp(i,e){const n=xn(i.firestore,ur),s=si(i),o=Yp(i.converter,e),u=$u(i.firestore);return Ju(n,[Pp(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then((()=>s))}function rl(i,...e){i=Qt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof Tt)h=xn(i.firestore,ur),m=Rf(i._key.path),u={next:p=>{e[s]&&e[s](hS(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=xn(i,qr);h=xn(p.firestore,ur),m=p._query;const b=new jp(h);u={next:E=>{e[s]&&e[s](new Ia(h,b,p,E))},error:e[s+1],complete:e[s+2]},lS(i._query)}const g=Ku(h);return wN(g,m,o,u)}function Ju(i,e){const n=Ku(i);return RN(n,e)}function hS(i,e,n){const s=n.docs.get(e._key),o=new jp(i);return new Ca(i,o,e._key,s,new du(n.hasPendingWrites,n.fromCache),e.converter)}function YN(i){return i=xn(i,ur),Ku(i),new HN(i,(e=>Ju(i,e)))}(function(e,n=!0){A2(Wo),jo(new xa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ur(new I2(s.getProvider("auth-internal")),new N2(h,s.getProvider("app-check-internal")),X2(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Os(cE,hE,e),Os(cE,hE,"esm2020")})();function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=fS,dS=new Bu("auth","Firebase",fS());const cf=new sp("@firebase/auth");function KN(i,...e){cf.logLevel<=Be.WARN&&cf.warn(`Auth (${Wo}): ${i}`,...e)}function Hh(i,...e){cf.logLevel<=Be.ERROR&&cf.error(`Auth (${Wo}): ${i}`,...e)}function zr(i,...e){throw Kp(i,...e)}function ar(i,...e){return Kp(i,...e)}function mS(i,e,n){const s={...QN(),[e]:n};return new Bu("auth","Firebase",s).create(e,{appName:i.name})}function Ps(i){return mS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return dS.create(i,...e)}function Ae(i,e,...n){if(!i)throw Kp(e,...n)}function Or(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hh(e),new Error(e)}function jr(i,e){i||Or(e)}function Fg(){return typeof self<"u"&&self.location?.href||""}function XN(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}function $N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XN()||nI()||"connection"in navigator)?navigator.onLine:!0}function WN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||iI()}get(){return $N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(i,e){jr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eM=new Zu(3e4,6e4);function qf(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function sl(i,e,n,s,o={}){return pS(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=qu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return tI()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&$o(i.emulatorConfig.host)&&(p.credentials="include"),gS.fetch()(await vS(i,i.config.apiHost,n,m),p)})}async function pS(i,e,n){i._canInitEmulator=!1;const s={...JN,...e};try{const o=new tM(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Oh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Oh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Oh(i,"user-disabled",h);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mS(i,b,p);zr(i,b)}}catch(o){if(o instanceof Br)throw o;zr(i,"network-request-failed",{message:String(o)})}}async function yS(i,e,n,s,o={}){const u=await sl(i,e,n,s,o);return"mfaPendingCredential"in u&&zr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function vS(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Xp(i.config,o):`${i.config.apiScheme}://${o}`;return ZN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class tM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ar(this.auth,"network-request-failed")),eM.get())})}}function Oh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ar(i,e,s);return o.customData._tokenResponse=n,o}async function nM(i,e){return sl(i,"POST","/v1/accounts:delete",e)}async function hf(i,e){return sl(i,"POST","/v1/accounts:lookup",e)}function _u(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iM(i,e=!1){const n=Qt(i),s=await n.getIdToken(e),o=$p(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:_u(hg(o.auth_time)),issuedAtTime:_u(hg(o.iat)),expirationTime:_u(hg(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hg(i){return Number(i)*1e3}function $p(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bT(n);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yE(i){const e=$p(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ou(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Br&&rM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function rM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class sM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(i){const e=i.auth,n=await i.getIdToken(),s=await Ou(i,hf(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?_S(o.providerUserInfo):[],h=oM(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,b)}async function aM(i){const e=Qt(i);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oM(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _S(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function lM(i,e){const n=await pS(i,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await vS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&$o(i.emulatorConfig.host)&&(g.credentials="include"),gS.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uM(i,e){return sl(i,"POST","/v2/accounts:revokeToken",qf(i,e))}class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lM(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ko;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Or("not implemented")}}function ws(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iM(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Ou(this,nM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:O,providerData:F,stsTokenManager:G}=n;Ae(E&&G,e,"internal-error");const z=ko.fromJSON(this.name,G);Ae(typeof E=="string",e,"internal-error"),ws(s,e.name),ws(o,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof O=="boolean",e,"internal-error"),ws(u,e.name),ws(h,e.name),ws(m,e.name),ws(g,e.name),ws(p,e.name),ws(b,e.name);const te=new Oi({uid:E,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:p,lastLoginAt:b});return F&&Array.isArray(F)&&(te.providerData=F.map(se=>({...se}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new ko;o.updateFromServerResponse(n);const u=new Oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ff(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_S(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ko;m.updateFromIdToken(s);const g=new Oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const vE=new Map;function Vr(i){jr(i instanceof Function,"Expected a class definition");let e=vE.get(i);return e?(jr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vE.set(i,e),e)}class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bS.type="NONE";const _E=bS;function Fh(i,e,n){return`firebase:${i}:${e}:${n}`}class Po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hf(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Po(Vr(_E),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Vr(_E);const h=Fh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const b=await p._get(h);if(b){let E;if(typeof b=="string"){const w=await hf(e,{idToken:b}).catch(()=>{});if(!w)break;E=await Oi._fromGetAccountInfoResponse(e,w,b)}else E=Oi._fromJSON(e,b);p!==u&&(m=E),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Po(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Po(u,e,s))}}function bE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RS(e))return"Blackberry";if(CS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||wS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function ES(i=En()){return/firefox\//i.test(i)}function TS(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(i=En()){return/crios\//i.test(i)}function SS(i=En()){return/iemobile/i.test(i)}function AS(i=En()){return/android/i.test(i)}function RS(i=En()){return/blackberry/i.test(i)}function CS(i=En()){return/webos/i.test(i)}function Wp(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cM(i=En()){return Wp(i)&&!!window.navigator?.standalone}function hM(){return rI()&&document.documentMode===10}function IS(i=En()){return Wp(i)||AS(i)||CS(i)||RS(i)||/windows phone/i.test(i)||SS(i)}function xS(i,e=[]){let n;switch(i){case"Browser":n=bE(En());break;case"Worker":n=`${bE(En())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${s}`}class fM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function dM(i,e={}){return sl(i,"GET","/v2/passwordPolicy",qf(i,e))}const mM=6;class gM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class pM{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new fM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hf(this,{idToken:e}),s=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(Ps(this));const n=e?Qt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dM(this),n=new gM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hf(i){return Qt(i)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fI(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yM(i){Jp=i}function vM(i){return Jp.loadJS(i)}function _M(){return Jp.gapiScript}function bM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function EM(i,e){const n=op(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,e??{}))return o;zr(o,"already-initialized")}return n.initialize({options:e})}function TM(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function wM(i,e,n){const s=Hf(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=DS(e),{host:h,port:m}=SM(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Us(p,s.config.emulator)&&Us(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,$o(h)?(ST(`${u}//${h}${g}`),AT("Auth",!0)):AM()}function DS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function SM(i){const e=DS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:TE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:TE(h)}}}function TE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function AM(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class NS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function Lo(i,e){return yS(i,"POST","/v1/accounts:signInWithIdp",qf(i,e))}const RM="http://localhost";class ka extends NS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ka(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:RM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qu(n)}return e}}class MS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ec extends MS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class As extends ec{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";class Rs extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Rs.credential(n,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";class Cs extends ec{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";class Is extends ec{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Is.credential(n,s)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";async function CM(i,e){return yS(i,"POST","/v1/accounts:signUp",qf(i,e))}class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Oi._fromIdTokenResponse(e,s,o),h=wE(s);return new Ys({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=wE(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function wE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function IM(i){if(Mi(i.app))return Promise.reject(Ps(i));const e=Hf(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ys({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await CM(e,{returnSecureToken:!0}),s=await Ys._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class df extends Br{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new df(e,n,s,o)}}function OS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(i,u,e,s):u})}async function xM(i,e,n=!1){const s=await Ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ys._forOperation(i,"link",s)}async function DM(i,e,n=!1){const{auth:s}=i;if(Mi(s.app))return Promise.reject(Ps(s));const o="reauthenticate";try{const u=await Ou(i,OS(s,o,e,i),n);Ae(u.idToken,s,"internal-error");const h=$p(u.idToken);Ae(h,s,"internal-error");const{sub:m}=h;return Ae(i.uid===m,s,"user-mismatch"),Ys._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zr(s,"user-mismatch"),u}}async function NM(i,e,n=!1){if(Mi(i.app))return Promise.reject(Ps(i));const s="signIn",o=await OS(i,s,e),u=await Ys._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function MM(i,e,n,s){return Qt(i).onIdTokenChanged(e,n,s)}function OM(i,e,n){return Qt(i).beforeAuthStateChanged(e,n)}function VM(i,e,n,s){return Qt(i).onAuthStateChanged(e,n,s)}const mf="__sak";class VS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kM=1e3,PM=10;class kS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);hM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PM):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const LM=kS;class PS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const LS=PS;function UM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await UM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];function Zp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class zM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Zp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const w=E;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function or(){return window}function jM(i){or().location.href=i}function US(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function BM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){return navigator?.serviceWorker?.controller||null}function HM(){return US()?self:null}const zS="firebaseLocalStorageDb",FM=1,gf="firebaseLocalStorage",jS="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(i,e){return i.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function GM(){const i=indexedDB.deleteDatabase(zS);return new tc(i).toPromise()}function Yg(){const i=indexedDB.open(zS,FM);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gf,{keyPath:jS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gf)?e(s):(s.close(),await GM(),e(await Yg()))})})}async function SE(i,e,n){const s=Gf(i,!0).put({[jS]:e,value:n});return new tc(s).toPromise()}async function YM(i,e){const n=Gf(i,!1).get(e),s=await new tc(n).toPromise();return s===void 0?null:s.value}function AE(i,e){const n=Gf(i,!0).delete(e);return new tc(n).toPromise()}const QM=800,KM=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>KM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(HM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BM(),!this.activeServiceWorker)return;this.sender=new zM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await SE(e,mf,"1"),await AE(e,mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>SE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>YM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gf(o,!1).getAll();return new tc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const XM=BS;new Zu(3e4,6e4);function $M(i,e){return e?Vr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ey extends NS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WM(i){return NM(i.auth,new ey(i),i.bypassAuthState)}function JM(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),DM(n,new ey(i),i.bypassAuthState)}async function ZM(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),xM(n,new ey(i),i.bypassAuthState)}class qS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WM;case"linkViaPopup":case"linkViaRedirect":return ZM;case"reauthViaPopup":case"reauthViaRedirect":return JM;default:zr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eO=new Zu(2e3,1e4);class Mo extends qS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}Mo.currentPopupAction=null;const tO="pendingRedirect",Gh=new Map;class nO extends qS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const s=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(i,e){const n=aO(e),s=sO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function rO(i,e){Gh.set(i._key(),e)}function sO(i){return Vr(i._redirectPersistence)}function aO(i){return Fh(tO,i.config.apiKey,i.name)}async function oO(i,e,n=!1){if(Mi(i.app))return Promise.reject(Ps(i));const s=Hf(i),o=$M(s,e),h=await new nO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const lO=600*1e3;class uO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function HS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function cO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(i);default:return!1}}async function hO(i,e={}){return sl(i,"GET","/v1/projects",e)}const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^https?/;async function mO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hO(i);for(const n of e)try{if(gO(n))return}catch{}zr(i,"unauthorized-domain")}function gO(i){const e=Fg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!dO.test(n))return!1;if(fO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const pO=new Zu(3e4,6e4);function CE(){const i=or().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function yO(i){return new Promise((e,n)=>{function s(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(ar(i,"network-request-failed"))},timeout:pO.get()})}if(or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(or().gapi?.load)s();else{const o=bM("iframefcb");return or()[o]=()=>{gapi.load?s():n(ar(i,"network-request-failed"))},vM(`${_M()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function vO(i){return Yh=Yh||yO(i),Yh}const _O=new Zu(5e3,15e3),bO="__/auth/iframe",EO="emulator/auth/iframe",TO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SO(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xp(e,EO):`https://${i.config.authDomain}/${bO}`,s={apiKey:e.apiKey,appName:i.name,v:Wo},o=wO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${qu(s).slice(1)}`}async function AO(i){const e=await vO(i),n=or().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:SO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ar(i,"network-request-failed"),m=or().setTimeout(()=>{u(h)},_O.get());function g(){or().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CO=500,IO=600,xO="_blank",DO="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(i,e,n,s=CO,o=IO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...RO,width:s.toString(),height:o.toString(),top:u,left:h},p=En().toLowerCase();n&&(m=wS(p)?xO:n),ES(p)&&(e=e||DO,g.scrollbars="yes");const b=Object.entries(g).reduce((w,[O,F])=>`${w}${O}=${F},`,"");if(cM(p)&&m!=="_self")return MO(e||"",m),new IE(null);const E=window.open(e||"",m,b);Ae(E,i,"popup-blocked");try{E.focus()}catch{}return new IE(E)}function MO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const OO="__/auth/handler",VO="emulator/auth/handler",kO=encodeURIComponent("fac");async function xE(i,e,n,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Wo,eventId:o};if(e instanceof MS){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",hI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))h[b]=E}if(e instanceof ec){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),p=g?`#${kO}=${encodeURIComponent(g)}`:"";return`${PO(i)}?${qu(m).slice(1)}${p}`}function PO({config:i}){return i.emulator?Xp(i,VO):`https://${i.authDomain}/${OO}`}const fg="webStorageSupport";class LO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=oO,this._overrideRedirectResult=rO}async _openPopup(e,n,s,o){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await xE(e,n,s,Fg(),o);return NO(e,u,Zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await xE(e,n,s,Fg(),o);return jM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await AO(e),s=new uO(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},o=>{const u=o?.[0]?.[fg];u!==void 0&&n(!!u),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||TS()||Wp()}}const UO=LO;var DE="@firebase/auth",NE="1.12.0";class zO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BO(i){jo(new xa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xS(i)},p=new pM(s,o,u,g);return TM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),jo(new xa("auth-internal",e=>{const n=Hf(e.getProvider("auth").getImmediate());return(s=>new zO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(DE,NE,jO(i)),Os(DE,NE,"esm2020")}const qO=300,HO=wT("authIdTokenMaxAge")||qO;let ME=null;const FO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HO)return;const o=n?.token;ME!==o&&(ME=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GO(i=xT()){const e=op(i,"auth");if(e.isInitialized())return e.getImmediate();const n=EM(i,{popupRedirectResolver:UO,persistence:[XM,LM,LS]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=FO(u.toString());OM(n,h,()=>h(n.currentUser)),MM(n,m=>h(m))}}const o=ET("auth");return o&&wM(n,`http://${o}`),n}function YO(){return document.getElementsByTagName("head")?.[0]??document}yM({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ar("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",YO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BO("Browser");const QO={apiKey:"AIzaSyCGQRXsjrL7afZ1h_mJj-63Bu-DmuF-XF4",authDomain:"musikwuenschemwg.firebaseapp.com",projectId:"musikwuenschemwg",storageBucket:"musikwuenschemwg.firebasestorage.app",messagingSenderId:"796284725823",appId:"1:796284725823:web:05e2513d8258c98394668a"},FS=IT(QO),nt=DN(FS),ty=GO(FS),Ls="requests",Yf="blacklist",Qf="forbidden_words",Vu="archive",ny="history",Kf="banned_devices",KO=async i=>{const e=ty.currentUser;if(!e)throw new Error("Nicht angemeldet.");if(await GS(e.uid))throw new Error("DEVICE_BANNED");const s=Xo(i.spotifyUrl),o=await Qg(s,i.title+" "+i.artist);if(o.blocked)throw new Error(o.reason==="word"?"FORBIDDEN_WORD":"BLACKLISTED");const u=Gs(bn(nt,Ls),dE("spotifyUrl","==",s)),h=await Oa(u);if(!h.empty){const b=h.docs[0];return(b.data().votes||[]).includes(e.uid)?{type:"already_voted",id:b.id}:(await GN(si(nt,Ls,b.id),{votes:zN(e.uid),voteCount:jN(1)}),{type:"voted",id:b.id})}const m=Gs(bn(nt,ny),dE("spotifyUrl","==",s));if(!(await Oa(m)).empty)throw new Error("ALREADY_ACCEPTED");return{type:"created",id:(await Qp(bn(nt,Ls),{...i,spotifyUrl:s,timestamp:Date.now(),status:"pending",senderUid:e.uid,votes:[e.uid],voteCount:1})).id}},XO=i=>{const e=Gs(bn(nt,Ls),Wu("timestamp","desc"));return rl(e,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));i(s)})},$O=i=>{const e=Gs(bn(nt,Ls),Wu("voteCount","desc"),uS(10));return rl(e,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));i(s)})},WO=i=>{const e=Gs(bn(nt,Vu),Wu("playedAt","desc"),uS(50));return rl(e,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));i(s)})},JO=i=>{const e=Gs(bn(nt,Yf));return rl(e,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));i(s)})},ZO=i=>rl(bn(nt,Qf),e=>{const n=e.docs.map(s=>s.data().word);console.log("Forbidden words updated:",n),i(n)}),e4=async i=>{const e=i.toLowerCase().trim();e&&await Bf(si(nt,Qf,e),{word:e})},t4=async i=>{await Va(si(nt,Qf,i.toLowerCase().trim()))},n4=async i=>{await Bf(si(nt,Kf,i),{uid:i,bannedAt:Date.now()})},i4=async i=>{await Va(si(nt,Kf,i))},GS=async i=>{const e=si(nt,Kf,i);return(await FN(e)).exists()},r4=i=>{const e=Gs(bn(nt,Kf),Wu("bannedAt","desc"));return rl(e,n=>{i(n.docs.map(s=>({uid:s.id,bannedAt:s.data().bannedAt})))})},s4=async()=>{const i=Gs(bn(nt,Vu),Wu("playedAt","desc")),e=await Oa(i);if(e.size>50){const n=YN(nt);e.docs.slice(50).forEach(s=>{n.delete(s.ref)}),await n.commit()}},dg=async(i,e)=>{const n=si(nt,Ls,i);if(e==="accepted"){const o=(await Oa(bn(nt,Ls))).docs.find(u=>u.id===i);if(o){const u=o.data(),h=Xo(u.spotifyUrl);await Qp(bn(nt,Vu),{...u,spotifyUrl:h,status:"accepted",playedAt:Date.now()}),await Bf(si(nt,ny,btoa(h).replace(/=/g,"")),{spotifyUrl:h,title:u.title,artist:u.artist,acceptedAt:Date.now()}),await Va(n),await s4()}}else await Va(n)},a4=async i=>{const e=si(nt,Vu,i),s=(await Oa(bn(nt,Vu))).docs.find(o=>o.id===i);if(s){const o=s.data(),u=Xo(o.spotifyUrl);await Va(si(nt,ny,btoa(u).replace(/=/g,"")));const{playedAt:h,...m}=o;await Qp(bn(nt,Ls),{...m,spotifyUrl:u,status:"pending",timestamp:Date.now()}),await Va(e)}},o4=async(i,e,n="Manually Rejected")=>{const s=Xo(i),o=btoa(s).replace(/=/g,"");await Bf(si(nt,Yf,o),{id:o,spotifyUrl:s,title:e,reason:n})},l4=async i=>{await Va(si(nt,Yf,i))},Qg=async(i,e)=>{const n=Xo(i),s=btoa(n).replace(/=/g,"");if((await Oa(bn(nt,Yf))).docs.some(g=>g.data().spotifyUrl===n||g.id===s))return{blocked:!0,reason:"blacklist"};const h=(await Oa(bn(nt,Qf))).docs.map(g=>g.data().word),m=e.toLowerCase();for(const g of h){const p=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`\\b${p}\\b`,"i").test(m))return{blocked:!0,reason:"word"}}return{blocked:!1}};function u4(){const[i,e]=M.useState(""),[n,s]=M.useState(null),[o,u]=M.useState(!1),[h,m]=M.useState(!1),[g,p]=M.useState({title:"",artist:""}),[b,E]=M.useState(!1),[w,O]=M.useState(null),[F,G]=M.useState([]),[z,te]=M.useState([]),[se,ie]=M.useState(0),[ce,ge]=M.useState(!0),[he,R]=M.useState(!1),[A,I]=M.useState(!0),[V,D]=M.useState(Number(localStorage.getItem("cooldown_end")||0)),[L,x]=M.useState(0),ae=M.useRef(null),[_e,j]=M.useState({blocked:"idle",forbidden:"idle",metadata:"idle",explicit:"idle"});M.useEffect(()=>{const C=VM(ty,async Y=>{if(Y)try{const ne=await GS(Y.uid);R(ne)}catch(ne){console.error("Error checking ban status:",ne)}I(!1)});return()=>C()},[]),M.useEffect(()=>{const C=setInterval(()=>{const Y=Math.max(0,Math.ceil((V-Date.now())/1e3));x(Y)},1e3);return()=>clearInterval(C)},[V]),M.useEffect(()=>{const C=$O(Y=>{G(Y)});return()=>C()},[]),M.useEffect(()=>{const C=ne=>{ne.key==="9"&&!ae.current&&(ae.current=setTimeout(()=>{localStorage.removeItem("cooldown_end"),D(0),x(0),O({type:"success",text:"Cooldown wurde zurckgesetzt!"}),ae.current=null},5e3))},Y=ne=>{ne.key==="9"&&ae.current&&(clearTimeout(ae.current),ae.current=null)};return window.addEventListener("keydown",C),window.addEventListener("keyup",Y),()=>{window.removeEventListener("keydown",C),window.removeEventListener("keyup",Y)}},[]),M.useEffect(()=>{let C=!0;const ne=setTimeout(async()=>{const oe=gT(i);if(O(null),!oe){if(i.length>2&&!i.includes("http")){j({blocked:"idle",forbidden:"idle",metadata:"idle",explicit:"idle"}),s(null),m(!1),u(!0),ie(0);try{const pe=await ib(i,0);C&&(te(pe),ge(pe.length>=3))}catch(pe){console.error("Search failed",pe)}finally{C&&u(!1)}}else s(null),m(!1),j({blocked:"idle",forbidden:"idle",metadata:"idle",explicit:"idle"}),te([]);return}te([]),j({blocked:"loading",forbidden:"loading",metadata:"loading",explicit:"loading"}),u(!0);try{const pe=Xo(i),ve=await zC(oe);if(!C)return;if(ve){s(ve),m(!1),j(Ie=>({...Ie,metadata:"ok"})),j(Ie=>({...Ie,explicit:ve.explicit?"error":"ok"}));const Ne=await Qg(pe,ve.title+" "+ve.artist);if(!C)return;Ne.blocked?Ne.reason==="word"?j(Ie=>({...Ie,blocked:"ok",forbidden:"error"})):j(Ie=>({...Ie,blocked:"error",forbidden:"ok"})):j(Ie=>({...Ie,blocked:"ok",forbidden:"ok"}))}else s(null),m(!0),j(Ie=>({...Ie,metadata:"error",explicit:"none"})),(await Qg(pe,"")).blocked?j(Ie=>({...Ie,blocked:"error",forbidden:"none"})):j(Ie=>({...Ie,blocked:"ok",forbidden:"none"}))}catch(pe){C&&(console.error("Analysis Error:",pe),m(!0),j({blocked:"error",forbidden:"error",metadata:"error",explicit:"none"}))}finally{C&&u(!1)}},800);return()=>{C=!1,clearTimeout(ne)}},[i]);const re=async()=>{if(!(o||z.length>=10)){u(!0);try{const C=se+3,Y=await ib(i,C);te(ne=>[...ne,...Y]),ie(C),(Y.length<3||z.length+Y.length>=10)&&ge(!1)}catch(C){console.error("Load more failed",C)}finally{u(!1)}}},me=C=>{e(C.spotifyUrl),te([])},be=async()=>{if(!he&&!A&&(n||h)&&_e.blocked==="ok"&&_e.forbidden!=="error"&&_e.explicit!=="error"&&L===0){E(!0);try{const Y=h?{spotifyUrl:i,title:g.title,artist:g.artist,coverUrl:"https://placehold.co/300x300?text=Song",durationMs:0,isExplicit:!1}:{spotifyUrl:i,title:n.title,artist:n.artist,coverUrl:n.coverUrl,durationMs:n.durationMs,isExplicit:n.explicit||!1},ne=await KO(Y),oe=Date.now()+600*1e3;ne.type==="created"?(O({type:"success",text:"Wunsch erfolgreich gesendet!"}),localStorage.setItem("cooldown_end",oe.toString()),D(oe)):ne.type==="voted"?(O({type:"success",text:"Stimme abgegeben! (+1)"}),localStorage.setItem("cooldown_end",oe.toString()),D(oe)):ne.type==="already_voted"&&O({type:"error",text:"Du hast fr diesen Song bereits abgestimmt."}),e(""),s(null),m(!1),j({blocked:"idle",forbidden:"idle",metadata:"idle",explicit:"idle"})}catch(Y){O({type:"error",text:Y.message||"Fehler beim Senden."})}finally{E(!1)}}},Ce=C=>C==="loading"?P.jsx(Rh,{size:16,className:"animate-spin text-blue-400"}):C==="ok"?P.jsx(dC,{size:16,className:"text-green-500"}):C==="error"?P.jsx(fT,{size:16,className:"text-red-500"}):C==="none"?P.jsx(AC,{size:16,className:"text-yellow-500"}):P.jsx("div",{className:"w-4 h-4 border border-gray-700 rounded-full"});return P.jsxs("div",{className:"min-h-screen text-white flex flex-col items-center p-4 font-sans",children:[P.jsxs("div",{className:"w-full max-w-lg bg-red-900/30 border border-red-500/50 p-4 rounded-lg mb-8 flex gap-3 items-start backdrop-blur-sm",children:[P.jsx(tb,{className:"text-red-500 shrink-0 mt-1"}),P.jsxs("div",{children:[P.jsx("h3",{className:"font-bold text-red-400",children:"Regeln & Sperren"}),P.jsx("p",{className:"text-sm text-gray-300 italic",children:"Unangemessene Lieder fhren zur sofortigen Gertesperre."})]})]}),P.jsxs("div",{className:"w-full max-w-lg space-y-6",children:[P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"text-4xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 animate-gradient",children:"Musikwnsche"}),L>0&&!he&&P.jsxs("div",{className:"mt-2 text-yellow-500 font-mono text-xl animate-pulse",children:["Cooldown: ",Math.floor(L/60),":",(L%60).toString().padStart(2,"0")]})]}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"text",disabled:he||A,className:`block w-full px-4 py-4 bg-gray-800/50 border border-gray-700 rounded-xl focus:ring-2 focus:ring-green-500 outline-none transition-all shadow-inner placeholder-gray-500 text-white pl-12 ${he?"opacity-50 border-red-500/50 grayscale":""}`,placeholder:A?"Initialisierung...":he?"GERT GESPERRT":"Spotify Link oder Songtitel...",value:i,onChange:C=>e(C.target.value)}),P.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:o?P.jsx(Rh,{className:"animate-spin",size:20}):P.jsx(DC,{size:20})})]}),z.length>0&&!n&&P.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl border border-gray-700 overflow-hidden shadow-2xl animate-in fade-in slide-in-from-top-4",children:[P.jsx("div",{className:"p-3 text-xs font-bold text-gray-400 uppercase tracking-wider bg-gray-900/50 border-b border-gray-700",children:"Suchergebnisse"}),P.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[z.map(C=>P.jsxs("button",{onClick:()=>me(C),className:"w-full flex items-center gap-4 p-4 hover:bg-gray-700/50 transition-colors border-b border-gray-700/50 last:border-0 text-left",children:[P.jsx("img",{src:C.coverUrl,className:"w-12 h-12 rounded shadow-md object-cover",alt:C.title}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h4",{className:"font-bold text-white truncate",children:C.title}),P.jsx("p",{className:"text-gray-400 text-sm truncate",children:C.artist})]}),C.explicit&&P.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-gray-600 text-gray-300",children:"E"})]},C.id)),ce&&z.length<10&&P.jsxs("button",{onClick:re,disabled:o,className:"w-full p-3 text-sm font-medium text-blue-400 hover:text-blue-300 hover:bg-white/5 transition-colors flex items-center justify-center gap-2",children:[o?P.jsx(Rh,{size:16,className:"animate-spin"}):P.jsx(CC,{size:16}),"Mehr laden"]})]})]}),h&&!o&&P.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 space-y-3 shadow-lg animate-in slide-in-from-top-2",children:[P.jsxs("p",{className:"text-sm text-yellow-500 flex items-center gap-2 font-medium",children:[P.jsx(tb,{size:16})," Vorschau fehlgeschlagen. Bitte manuell:"]}),P.jsx("input",{type:"text",placeholder:"Songtitel",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white focus:border-green-500 outline-none",value:g.title,onChange:C=>p(Y=>({...Y,title:C.target.value}))}),P.jsx("input",{type:"text",placeholder:"Interpret",className:"w-full bg-gray-900 border border-gray-700 rounded p-2 text-white focus:border-green-500 outline-none",value:g.artist,onChange:C=>p(Y=>({...Y,artist:C.target.value}))})]}),n&&P.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-sm p-4 rounded-xl flex gap-4 border border-gray-700 shadow-xl animate-in zoom-in-95",children:[P.jsx("img",{src:n.coverUrl,className:"w-20 h-20 rounded-lg shadow-2xl object-cover",alt:"Cover"}),P.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[P.jsx("h3",{className:"font-bold text-lg truncate text-white leading-tight",children:n.title}),P.jsx("p",{className:"text-gray-400 truncate text-sm",children:n.artist})]})]}),P.jsx("button",{onClick:be,disabled:b||A||he||!n&&!h||_e.blocked==="loading",className:`w-full py-4 rounded-xl font-black text-xl transition-all flex items-center justify-center gap-3 shadow-2xl active:scale-[0.97]
            ${he?"bg-red-600 animate-pulse":L>0||_e.blocked==="error"||_e.explicit==="error"||_e.forbidden==="error"?"bg-gray-800 text-gray-600 cursor-not-allowed border border-gray-700":"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white"}
          `,children:b?P.jsx(Rh,{className:"animate-spin"}):he?"GESPERRT":"Wunsch absenden"}),n&&!A&&P.jsxs("div",{className:"bg-black/20 backdrop-blur-md border border-gray-800 p-5 rounded-xl flex flex-col gap-4 shadow-inner w-full",children:[P.jsxs("div",{className:"flex items-center gap-4 text-sm md:text-base font-medium text-gray-300",children:[Ce(_e.blocked)," ",P.jsx("span",{children:"Nicht blockiert"})]}),P.jsxs("div",{className:"flex items-center gap-4 text-sm md:text-base font-medium text-gray-300",children:[Ce(_e.forbidden)," ",P.jsx("span",{children:"Keine verbotenen Wrter"})]}),P.jsxs("div",{className:"flex items-center gap-4 text-sm md:text-base font-medium text-gray-300",children:[Ce(_e.metadata)," ",P.jsx("span",{children:"Songdaten geladen"})]}),P.jsxs("div",{className:"flex items-center gap-4 text-sm md:text-base font-medium text-gray-300",children:[Ce(_e.explicit)," ",P.jsx("span",{children:"Jugendschutz (Explicit)"})]})]}),w&&P.jsx("div",{className:`p-4 rounded-xl flex items-center gap-3 border shadow-lg animate-in zoom-in-95 ${w.type==="success"?"bg-green-900/20 text-green-400 border-green-500/30":"bg-red-900/20 text-red-400 border-red-500/30"}`,children:P.jsx("span",{className:"font-bold text-sm",children:w.text})})]}),F.length>0&&P.jsxs("div",{className:"w-full max-w-lg mt-12 animate-in slide-in-from-bottom-10 fade-in duration-700",children:[P.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:" Top 10 Warteschlange"}),P.jsx("div",{className:"space-y-3",children:F.map((C,Y)=>P.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm p-3 rounded-lg flex items-center gap-4 border border-gray-700/50 shadow-lg",children:[P.jsxs("div",{className:"font-mono text-xl font-bold text-gray-500 w-8 text-center",children:["#",Y+1]}),P.jsx("img",{src:C.coverUrl,className:"w-12 h-12 rounded shadow object-cover",alt:"Cover"}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h3",{className:"font-bold text-gray-200 truncate",children:C.title}),P.jsx("p",{className:"text-gray-400 text-xs truncate",children:C.artist})]}),P.jsxs("div",{title:`${C.voteCount||1} Personen wnschen sich das`,className:"flex items-center gap-1.5 bg-gray-700/50 px-2 py-1 rounded-full text-yellow-400 border border-yellow-500/20 cursor-help",children:[P.jsx(rp,{size:14}),P.jsx("span",{className:"font-bold text-sm",children:C.voteCount||1})]})]},C.id))})]})]})}function c4(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return M.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const Xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function al(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function iy(i){return"nodeType"in i}function qn(i){var e,n;return i?al(i)?i:iy(i)&&(e=(n=i.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function ry(i){const{Document:e}=qn(i);return i instanceof e}function nc(i){return al(i)?!1:i instanceof qn(i).HTMLElement}function YS(i){return i instanceof qn(i).SVGElement}function ol(i){return i?al(i)?i.document:iy(i)?ry(i)?i:nc(i)||YS(i)?i.ownerDocument:document:document:document}const cr=Xf?M.useLayoutEffect:M.useEffect;function sy(i){const e=M.useRef(i);return cr(()=>{e.current=i}),M.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function h4(){const i=M.useRef(null),e=M.useCallback((s,o)=>{i.current=setInterval(s,o)},[]),n=M.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,n]}function ku(i,e){e===void 0&&(e=[i]);const n=M.useRef(i);return cr(()=>{n.current!==i&&(n.current=i)},e),n}function ic(i,e){const n=M.useRef();return M.useMemo(()=>{const s=i(n.current);return n.current=s,s},[...e])}function pf(i){const e=sy(i),n=M.useRef(null),s=M.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Kg(i){const e=M.useRef();return M.useEffect(()=>{e.current=i},[i]),e.current}let mg={};function rc(i,e){return M.useMemo(()=>{if(e)return e;const n=mg[i]==null?0:mg[i]+1;return mg[i]=n,i+"-"+n},[i,e])}function QS(i){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,h)=>{const m=Object.entries(h);for(const[g,p]of m){const b=u[g];b!=null&&(u[g]=b+i*p)}return u},{...e})}}const Uo=QS(1),Pu=QS(-1);function f4(i){return"clientX"in i&&"clientY"in i}function ay(i){if(!i)return!1;const{KeyboardEvent:e}=qn(i.target);return e&&i instanceof e}function d4(i){if(!i)return!1;const{TouchEvent:e}=qn(i.target);return e&&i instanceof e}function Xg(i){if(d4(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:n}=i.touches[0];return{x:e,y:n}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:n}=i.changedTouches[0];return{x:e,y:n}}}return f4(i)?{x:i.clientX,y:i.clientY}:null}const Lu=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:n}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:n}=i;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(i){if(i)return[Lu.Translate.toString(i),Lu.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:n,easing:s}=i;return e+" "+n+"ms "+s}}}),OE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m4(i){return i.matches(OE)?i:i.querySelector(OE)}const g4={display:"none"};function p4(i){let{id:e,value:n}=i;return In.createElement("div",{id:e,style:g4},n)}function y4(i){let{id:e,announcement:n,ariaLiveType:s="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return In.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function v4(){const[i,e]=M.useState("");return{announce:M.useCallback(s=>{s!=null&&e(s)},[]),announcement:i}}const KS=M.createContext(null);function _4(i){const e=M.useContext(KS);M.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function b4(){const[i]=M.useState(()=>new Set),e=M.useCallback(s=>(i.add(s),()=>i.delete(s)),[i]);return[M.useCallback(s=>{let{type:o,event:u}=s;i.forEach(h=>{var m;return(m=h[o])==null?void 0:m.call(h,u)})},[i]),e]}const E4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},T4={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function w4(i){let{announcements:e=T4,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=E4}=i;const{announce:u,announcement:h}=v4(),m=rc("DndLiveRegion"),[g,p]=M.useState(!1);if(M.useEffect(()=>{p(!0)},[]),_4(M.useMemo(()=>({onDragStart(E){let{active:w}=E;u(e.onDragStart({active:w}))},onDragMove(E){let{active:w,over:O}=E;e.onDragMove&&u(e.onDragMove({active:w,over:O}))},onDragOver(E){let{active:w,over:O}=E;u(e.onDragOver({active:w,over:O}))},onDragEnd(E){let{active:w,over:O}=E;u(e.onDragEnd({active:w,over:O}))},onDragCancel(E){let{active:w,over:O}=E;u(e.onDragCancel({active:w,over:O}))}}),[u,e])),!g)return null;const b=In.createElement(In.Fragment,null,In.createElement(p4,{id:s,value:o.draggable}),In.createElement(y4,{id:m,announcement:h}));return n?uu.createPortal(b,n):b}var Gt;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Gt||(Gt={}));function yf(){}function VE(i,e){return M.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function S4(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return M.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Pi=Object.freeze({x:0,y:0});function XS(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function $S(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return n-s}function A4(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return s-n}function kE(i){let{left:e,top:n,height:s,width:o}=i;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function WS(i,e){if(!i||i.length===0)return null;const[n]=i;return n[e]}function PE(i,e,n){return e===void 0&&(e=i.left),n===void 0&&(n=i.top),{x:e+i.width*.5,y:n+i.height*.5}}const R4=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=PE(e,e.left,e.top),u=[];for(const h of s){const{id:m}=h,g=n.get(m);if(g){const p=XS(PE(g),o);u.push({id:m,data:{droppableContainer:h,value:p}})}}return u.sort($S)},C4=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=kE(e),u=[];for(const h of s){const{id:m}=h,g=n.get(m);if(g){const p=kE(g),b=o.reduce((w,O,F)=>w+XS(p[F],O),0),E=Number((b/4).toFixed(4));u.push({id:m,data:{droppableContainer:h,value:E}})}}return u.sort($S)};function I4(i,e){const n=Math.max(e.top,i.top),s=Math.max(e.left,i.left),o=Math.min(e.left+e.width,i.left+i.width),u=Math.min(e.top+e.height,i.top+i.height),h=o-s,m=u-n;if(s<o&&n<u){const g=e.width*e.height,p=i.width*i.height,b=h*m,E=b/(g+p-b);return Number(E.toFixed(4))}return 0}const x4=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=[];for(const u of s){const{id:h}=u,m=n.get(h);if(m){const g=I4(m,e);g>0&&o.push({id:h,data:{droppableContainer:u,value:g}})}}return o.sort(A4)};function D4(i,e,n){return{...i,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function JS(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:Pi}function N4(i){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((h,m)=>({...h,top:h.top+i*m.y,bottom:h.bottom+i*m.y,left:h.left+i*m.x,right:h.right+i*m.x}),{...n})}}const M4=N4(1);function O4(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function V4(i,e,n){const s=O4(e);if(!s)return i;const{scaleX:o,scaleY:u,x:h,y:m}=s,g=i.left-h-(1-o)*parseFloat(n),p=i.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),b=o?i.width/o:i.width,E=u?i.height/u:i.height;return{width:b,height:E,top:p,right:g+b,bottom:p+E,left:g}}const k4={ignoreTransform:!1};function ll(i,e){e===void 0&&(e=k4);let n=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:b}=qn(i).getComputedStyle(i);p&&(n=V4(n,p,b))}const{top:s,left:o,width:u,height:h,bottom:m,right:g}=n;return{top:s,left:o,width:u,height:h,bottom:m,right:g}}function LE(i){return ll(i,{ignoreTransform:!0})}function P4(i){const e=i.innerWidth,n=i.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function L4(i,e){return e===void 0&&(e=qn(i).getComputedStyle(i)),e.position==="fixed"}function U4(i,e){e===void 0&&(e=qn(i).getComputedStyle(i));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function $f(i,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(ry(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!nc(o)||YS(o)||n.includes(o))return n;const u=qn(i).getComputedStyle(o);return o!==i&&U4(o,u)&&n.push(o),L4(o,u)?n:s(o.parentNode)}return i?s(i):n}function ZS(i){const[e]=$f(i,1);return e??null}function gg(i){return!Xf||!i?null:al(i)?i:iy(i)?ry(i)||i===ol(i).scrollingElement?window:nc(i)?i:null:null}function e1(i){return al(i)?i.scrollX:i.scrollLeft}function t1(i){return al(i)?i.scrollY:i.scrollTop}function $g(i){return{x:e1(i),y:t1(i)}}var en;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(en||(en={}));function n1(i){return!Xf||!i?!1:i===document.scrollingElement}function i1(i){const e={x:0,y:0},n=n1(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},s={x:i.scrollWidth-n.width,y:i.scrollHeight-n.height},o=i.scrollTop<=e.y,u=i.scrollLeft<=e.x,h=i.scrollTop>=s.y,m=i.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:h,isRight:m,maxScroll:s,minScroll:e}}const z4={x:.2,y:.2};function j4(i,e,n,s,o){let{top:u,left:h,right:m,bottom:g}=n;s===void 0&&(s=10),o===void 0&&(o=z4);const{isTop:p,isBottom:b,isLeft:E,isRight:w}=i1(i),O={x:0,y:0},F={x:0,y:0},G={height:e.height*o.y,width:e.width*o.x};return!p&&u<=e.top+G.height?(O.y=en.Backward,F.y=s*Math.abs((e.top+G.height-u)/G.height)):!b&&g>=e.bottom-G.height&&(O.y=en.Forward,F.y=s*Math.abs((e.bottom-G.height-g)/G.height)),!w&&m>=e.right-G.width?(O.x=en.Forward,F.x=s*Math.abs((e.right-G.width-m)/G.width)):!E&&h<=e.left+G.width&&(O.x=en.Backward,F.x=s*Math.abs((e.left+G.width-h)/G.width)),{direction:O,speed:F}}function B4(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:e,left:n,right:s,bottom:o}=i.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:i.clientWidth,height:i.clientHeight}}function r1(i){return i.reduce((e,n)=>Uo(e,$g(n)),Pi)}function q4(i){return i.reduce((e,n)=>e+e1(n),0)}function H4(i){return i.reduce((e,n)=>e+t1(n),0)}function F4(i,e){if(e===void 0&&(e=ll),!i)return;const{top:n,left:s,bottom:o,right:u}=e(i);ZS(i)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const G4=[["x",["left","right"],q4],["y",["top","bottom"],H4]];class oy{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=$f(n),o=r1(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,h,m]of G4)for(const g of h)Object.defineProperty(this,g,{get:()=>{const p=m(s),b=o[u]-p;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class bu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function Y4(i){const{EventTarget:e}=qn(i);return i instanceof e?i:ol(i)}function pg(i,e){const n=Math.abs(i.x),s=Math.abs(i.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var Ti;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Ti||(Ti={}));function UE(i){i.preventDefault()}function Q4(i){i.stopPropagation()}var Ge;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Ge||(Ge={}));const s1={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},K4=(i,e)=>{let{currentCoordinates:n}=e;switch(i.code){case Ge.Right:return{...n,x:n.x+25};case Ge.Left:return{...n,x:n.x-25};case Ge.Down:return{...n,y:n.y+25};case Ge.Up:return{...n,y:n.y-25}}};class ly{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new bu(ol(n)),this.windowListeners=new bu(qn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ti.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&F4(s),n(Pi)}handleKeyDown(e){if(ay(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=s1,coordinateGetter:h=K4,scrollBehavior:m="smooth"}=o,{code:g}=e;if(u.end.includes(g)){this.handleEnd(e);return}if(u.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=s.current,b=p?{x:p.left,y:p.top}:Pi;this.referenceCoordinates||(this.referenceCoordinates=b);const E=h(e,{active:n,context:s.current,currentCoordinates:b});if(E){const w=Pu(E,b),O={x:0,y:0},{scrollableAncestors:F}=s.current;for(const G of F){const z=e.code,{isTop:te,isRight:se,isLeft:ie,isBottom:ce,maxScroll:ge,minScroll:he}=i1(G),R=B4(G),A={x:Math.min(z===Ge.Right?R.right-R.width/2:R.right,Math.max(z===Ge.Right?R.left:R.left+R.width/2,E.x)),y:Math.min(z===Ge.Down?R.bottom-R.height/2:R.bottom,Math.max(z===Ge.Down?R.top:R.top+R.height/2,E.y))},I=z===Ge.Right&&!se||z===Ge.Left&&!ie,V=z===Ge.Down&&!ce||z===Ge.Up&&!te;if(I&&A.x!==E.x){const D=G.scrollLeft+w.x,L=z===Ge.Right&&D<=ge.x||z===Ge.Left&&D>=he.x;if(L&&!w.y){G.scrollTo({left:D,behavior:m});return}L?O.x=G.scrollLeft-D:O.x=z===Ge.Right?G.scrollLeft-ge.x:G.scrollLeft-he.x,O.x&&G.scrollBy({left:-O.x,behavior:m});break}else if(V&&A.y!==E.y){const D=G.scrollTop+w.y,L=z===Ge.Down&&D<=ge.y||z===Ge.Up&&D>=he.y;if(L&&!w.x){G.scrollTo({top:D,behavior:m});return}L?O.y=G.scrollTop-D:O.y=z===Ge.Down?G.scrollTop-ge.y:G.scrollTop-he.y,O.y&&G.scrollBy({top:-O.y,behavior:m});break}}this.handleMove(e,Uo(Pu(E,this.referenceCoordinates),O))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ly.activators=[{eventName:"onKeyDown",handler:(i,e,n)=>{let{keyboardCodes:s=s1,onActivation:o}=e,{active:u}=n;const{code:h}=i.nativeEvent;if(s.start.includes(h)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),o?.({event:i.nativeEvent}),!0)}return!1}}];function zE(i){return!!(i&&"distance"in i)}function jE(i){return!!(i&&"delay"in i)}class uy{constructor(e,n,s){var o;s===void 0&&(s=Y4(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:h}=u;this.props=e,this.events=n,this.document=ol(h),this.documentListeners=new bu(this.document),this.listeners=new bu(s),this.windowListeners=new bu(qn(h)),this.initialCoordinates=(o=Xg(u))!=null?o:Pi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.DragStart,UE),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),this.windowListeners.add(Ti.ContextMenu,UE),this.documentListeners.add(Ti.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(zE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ti.Click,Q4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ti.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:h,options:{activationConstraint:m}}=u;if(!o)return;const g=(n=Xg(e))!=null?n:Pi,p=Pu(o,g);if(!s&&m){if(zE(m)){if(m.tolerance!=null&&pg(p,m.tolerance))return this.handleCancel();if(pg(p,m.distance))return this.handleStart()}if(jE(m)&&pg(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}e.cancelable&&e.preventDefault(),h(g)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const X4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class cy extends uy{constructor(e){const{event:n}=e,s=ol(n.target);super(e,X4,s)}}cy.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const $4={move:{name:"mousemove"},end:{name:"mouseup"}};var Wg;(function(i){i[i.RightClick=2]="RightClick"})(Wg||(Wg={}));class W4 extends uy{constructor(e){super(e,$4,ol(e.event.target))}}W4.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return n.button===Wg.RightClick?!1:(s?.({event:n}),!0)}}];const yg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class J4 extends uy{constructor(e){super(e,yg)}static setup(){return window.addEventListener(yg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(yg.move.name,e)};function e(){}}}J4.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var Eu;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Eu||(Eu={}));var vf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(vf||(vf={}));function Z4(i){let{acceleration:e,activator:n=Eu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:h=5,order:m=vf.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:b,delta:E,threshold:w}=i;const O=tV({delta:E,disabled:!u}),[F,G]=h4(),z=M.useRef({x:0,y:0}),te=M.useRef({x:0,y:0}),se=M.useMemo(()=>{switch(n){case Eu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Eu.DraggableRect:return o}},[n,o,g]),ie=M.useRef(null),ce=M.useCallback(()=>{const he=ie.current;if(!he)return;const R=z.current.x*te.current.x,A=z.current.y*te.current.y;he.scrollBy(R,A)},[]),ge=M.useMemo(()=>m===vf.TreeOrder?[...p].reverse():p,[m,p]);M.useEffect(()=>{if(!u||!p.length||!se){G();return}for(const he of ge){if(s?.(he)===!1)continue;const R=p.indexOf(he),A=b[R];if(!A)continue;const{direction:I,speed:V}=j4(he,A,se,e,w);for(const D of["x","y"])O[D][I[D]]||(V[D]=0,I[D]=0);if(V.x>0||V.y>0){G(),ie.current=he,F(ce,h),z.current=V,te.current=I;return}}z.current={x:0,y:0},te.current={x:0,y:0},G()},[e,ce,s,G,u,h,JSON.stringify(se),JSON.stringify(O),F,p,ge,b,JSON.stringify(w)])}const eV={x:{[en.Backward]:!1,[en.Forward]:!1},y:{[en.Backward]:!1,[en.Forward]:!1}};function tV(i){let{delta:e,disabled:n}=i;const s=Kg(e);return ic(o=>{if(n||!s||!o)return eV;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[en.Backward]:o.x[en.Backward]||u.x===-1,[en.Forward]:o.x[en.Forward]||u.x===1},y:{[en.Backward]:o.y[en.Backward]||u.y===-1,[en.Forward]:o.y[en.Forward]||u.y===1}}},[n,e,s])}function nV(i,e){const n=e!=null?i.get(e):void 0,s=n?n.node.current:null;return ic(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function iV(i,e){return M.useMemo(()=>i.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,s)}));return[...n,...u]},[]),[i,e])}var Uu;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Uu||(Uu={}));var Jg;(function(i){i.Optimized="optimized"})(Jg||(Jg={}));const BE=new Map;function rV(i,e){let{dragging:n,dependencies:s,config:o}=e;const[u,h]=M.useState(null),{frequency:m,measure:g,strategy:p}=o,b=M.useRef(i),E=z(),w=ku(E),O=M.useCallback(function(te){te===void 0&&(te=[]),!w.current&&h(se=>se===null?te:se.concat(te.filter(ie=>!se.includes(ie))))},[w]),F=M.useRef(null),G=ic(te=>{if(E&&!n)return BE;if(!te||te===BE||b.current!==i||u!=null){const se=new Map;for(let ie of i){if(!ie)continue;if(u&&u.length>0&&!u.includes(ie.id)&&ie.rect.current){se.set(ie.id,ie.rect.current);continue}const ce=ie.node.current,ge=ce?new oy(g(ce),ce):null;ie.rect.current=ge,ge&&se.set(ie.id,ge)}return se}return te},[i,u,n,E,g]);return M.useEffect(()=>{b.current=i},[i]),M.useEffect(()=>{E||O()},[n,E]),M.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),M.useEffect(()=>{E||typeof m!="number"||F.current!==null||(F.current=setTimeout(()=>{O(),F.current=null},m))},[m,E,O,...s]),{droppableRects:G,measureDroppableContainers:O,measuringScheduled:u!=null};function z(){switch(p){case Uu.Always:return!1;case Uu.BeforeDragging:return n;default:return!n}}}function a1(i,e){return ic(n=>i?n||(typeof e=="function"?e(i):i):null,[e,i])}function sV(i,e){return a1(i,e)}function aV(i){let{callback:e,disabled:n}=i;const s=sy(e),o=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return M.useEffect(()=>()=>o?.disconnect(),[o]),o}function Wf(i){let{callback:e,disabled:n}=i;const s=sy(e),o=M.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return M.useEffect(()=>()=>o?.disconnect(),[o]),o}function oV(i){return new oy(ll(i),i)}function qE(i,e,n){e===void 0&&(e=oV);const[s,o]=M.useState(null);function u(){o(g=>{if(!i)return null;if(i.isConnected===!1){var p;return(p=g??n)!=null?p:null}const b=e(i);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const h=aV({callback(g){if(i)for(const p of g){const{type:b,target:E}=p;if(b==="childList"&&E instanceof HTMLElement&&E.contains(i)){u();break}}}}),m=Wf({callback:u});return cr(()=>{u(),i?(m?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[i]),s}function lV(i){const e=a1(i);return JS(i,e)}const HE=[];function uV(i){const e=M.useRef(i),n=ic(s=>i?s&&s!==HE&&i&&e.current&&i.parentNode===e.current.parentNode?s:$f(i):HE,[i]);return M.useEffect(()=>{e.current=i},[i]),n}function cV(i){const[e,n]=M.useState(null),s=M.useRef(i),o=M.useCallback(u=>{const h=gg(u.target);h&&n(m=>m?(m.set(h,$g(h)),new Map(m)):null)},[]);return M.useEffect(()=>{const u=s.current;if(i!==u){h(u);const m=i.map(g=>{const p=gg(g);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,$g(p)]):null}).filter(g=>g!=null);n(m.length?new Map(m):null),s.current=i}return()=>{h(i),h(u)};function h(m){m.forEach(g=>{const p=gg(g);p?.removeEventListener("scroll",o)})}},[o,i]),M.useMemo(()=>i.length?e?Array.from(e.values()).reduce((u,h)=>Uo(u,h),Pi):r1(i):Pi,[i,e])}function FE(i,e){e===void 0&&(e=[]);const n=M.useRef(null);return M.useEffect(()=>{n.current=null},e),M.useEffect(()=>{const s=i!==Pi;s&&!n.current&&(n.current=i),!s&&n.current&&(n.current=null)},[i]),n.current?Pu(i,n.current):Pi}function hV(i){M.useEffect(()=>{if(!Xf)return;const e=i.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},i.map(e=>{let{sensor:n}=e;return n}))}function fV(i,e){return M.useMemo(()=>i.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=h=>{u(h,e)},n},{}),[i,e])}function o1(i){return M.useMemo(()=>i?P4(i):null,[i])}const GE=[];function dV(i,e){e===void 0&&(e=ll);const[n]=i,s=o1(n?qn(n):null),[o,u]=M.useState(GE);function h(){u(()=>i.length?i.map(g=>n1(g)?s:new oy(e(g),g)):GE)}const m=Wf({callback:h});return cr(()=>{m?.disconnect(),h(),i.forEach(g=>m?.observe(g))},[i]),o}function mV(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return nc(e)?e:i}function gV(i){let{measure:e}=i;const[n,s]=M.useState(null),o=M.useCallback(p=>{for(const{target:b}of p)if(nc(b)){s(E=>{const w=e(b);return E?{...E,width:w.width,height:w.height}:w});break}},[e]),u=Wf({callback:o}),h=M.useCallback(p=>{const b=mV(p);u?.disconnect(),b&&u?.observe(b),s(b?e(b):null)},[e,u]),[m,g]=pf(h);return M.useMemo(()=>({nodeRef:m,rect:n,setRef:g}),[n,m,g])}const pV=[{sensor:cy,options:{}},{sensor:ly,options:{}}],yV={current:{}},Qh={draggable:{measure:LE},droppable:{measure:LE,strategy:Uu.WhileDragging,frequency:Jg.Optimized},dragOverlay:{measure:ll}};class Tu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const vV={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Tu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qh,measureDroppableContainers:yf,windowRect:null,measuringScheduled:!1},_V={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:yf,draggableNodes:new Map,over:null,measureDroppableContainers:yf},Jf=M.createContext(_V),l1=M.createContext(vV);function bV(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Tu}}}function EV(i,e){switch(e.type){case Gt.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Gt.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Gt.DragEnd:case Gt.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Gt.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new Tu(i.droppable.containers);return o.set(s,n),{...i,droppable:{...i.droppable,containers:o}}}case Gt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=i.droppable.containers.get(n);if(!u||s!==u.key)return i;const h=new Tu(i.droppable.containers);return h.set(n,{...u,disabled:o}),{...i,droppable:{...i.droppable,containers:h}}}case Gt.UnregisterDroppable:{const{id:n,key:s}=e,o=i.droppable.containers.get(n);if(!o||s!==o.key)return i;const u=new Tu(i.droppable.containers);return u.delete(n),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function TV(i){let{disabled:e}=i;const{active:n,activatorEvent:s,draggableNodes:o}=M.useContext(Jf),u=Kg(s),h=Kg(n?.id);return M.useEffect(()=>{if(!e&&!s&&u&&h!=null){if(!ay(u)||document.activeElement===u.target)return;const m=o.get(h);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const b of[g.current,p.current]){if(!b)continue;const E=m4(b);if(E){E.focus();break}}})}},[s,e,o,h,u]),null}function wV(i,e){let{transform:n,...s}=e;return i!=null&&i.length?i.reduce((o,u)=>u({transform:o,...s}),n):n}function SV(i){return M.useMemo(()=>({draggable:{...Qh.draggable,...i?.draggable},droppable:{...Qh.droppable,...i?.droppable},dragOverlay:{...Qh.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function AV(i){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=i;const u=M.useRef(!1),{x:h,y:m}=typeof o=="boolean"?{x:o,y:o}:o;cr(()=>{if(!h&&!m||!e){u.current=!1;return}if(u.current||!s)return;const p=e?.node.current;if(!p||p.isConnected===!1)return;const b=n(p),E=JS(b,s);if(h||(E.x=0),m||(E.y=0),u.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const w=ZS(p);w&&w.scrollBy({top:E.y,left:E.x})}},[e,h,m,s,n])}const u1=M.createContext({...Pi,scaleX:1,scaleY:1});var Ss;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ss||(Ss={}));const RV=M.memo(function(e){var n,s,o,u;let{id:h,accessibility:m,autoScroll:g=!0,children:p,sensors:b=pV,collisionDetection:E=x4,measuring:w,modifiers:O,...F}=e;const G=M.useReducer(EV,void 0,bV),[z,te]=G,[se,ie]=b4(),[ce,ge]=M.useState(Ss.Uninitialized),he=ce===Ss.Initialized,{draggable:{active:R,nodes:A,translate:I},droppable:{containers:V}}=z,D=R!=null?A.get(R):null,L=M.useRef({initial:null,translated:null}),x=M.useMemo(()=>{var ke;return R!=null?{id:R,data:(ke=D?.data)!=null?ke:yV,rect:L}:null},[R,D]),ae=M.useRef(null),[_e,j]=M.useState(null),[re,me]=M.useState(null),be=ku(F,Object.values(F)),Ce=rc("DndDescribedBy",h),C=M.useMemo(()=>V.getEnabled(),[V]),Y=SV(w),{droppableRects:ne,measureDroppableContainers:oe,measuringScheduled:pe}=rV(C,{dragging:he,dependencies:[I.x,I.y],config:Y.droppable}),ve=nV(A,R),Ne=M.useMemo(()=>re?Xg(re):null,[re]),Ie=mr(),Ye=sV(ve,Y.draggable.measure);AV({activeNode:R!=null?A.get(R):null,config:Ie.layoutShiftCompensation,initialRect:Ye,measure:Y.draggable.measure});const Ue=qE(ve,Y.draggable.measure,Ye),ai=qE(ve?ve.parentElement:null),tn=M.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Hn=V.getNodeFor((n=tn.current.over)==null?void 0:n.id),Dt=gV({measure:Y.dragOverlay.measure}),oi=(s=Dt.nodeRef.current)!=null?s:ve,Nn=he?(o=Dt.rect)!=null?o:Ue:null,Hr=!!(Dt.nodeRef.current&&Dt.rect),Fr=lV(Hr?null:Ue),dt=o1(oi?qn(oi):null),it=uV(he?Hn??ve:null),Fn=dV(it),Gr=wV(O,{transform:{x:I.x-Fr.x,y:I.y-Fr.y,scaleX:1,scaleY:1},activatorEvent:re,active:x,activeNodeRect:Ue,containerNodeRect:ai,draggingNodeRect:Nn,over:tn.current.over,overlayNodeRect:Dt.rect,scrollableAncestors:it,scrollableAncestorRects:Fn,windowRect:dt}),$s=Ne?Uo(Ne,I):null,Kt=cV(it),hr=FE(Kt),Ws=FE(Kt,[Ue]),li=Uo(Gr,hr),Tn=Nn?M4(Nn,Gr):null,fr=x&&Tn?E({active:x,collisionRect:Tn,droppableRects:ne,droppableContainers:C,pointerCoordinates:$s}):null,Js=WS(fr,"id"),[Gn,Zs]=M.useState(null),Yn=Hr?Gr:Uo(Gr,Ws),Ht=D4(Yn,(u=Gn?.rect)!=null?u:null,Ue),fn=M.useRef(null),mt=M.useCallback((ke,gt)=>{let{sensor:pt,options:Nt}=gt;if(ae.current==null)return;const dn=A.get(ae.current);if(!dn)return;const Xt=ke.nativeEvent,wt=new pt({active:ae.current,activeNode:dn,event:Xt,options:Nt,context:tn,onAbort(St){if(!A.get(St))return;const{onDragAbort:gn}=be.current,wn={id:St};gn?.(wn),se({type:"onDragAbort",event:wn})},onPending(St,mn,gn,wn){if(!A.get(St))return;const{onDragPending:Sn}=be.current,Kn={id:St,constraint:mn,initialCoordinates:gn,offset:wn};Sn?.(Kn),se({type:"onDragPending",event:Kn})},onStart(St){const mn=ae.current;if(mn==null)return;const gn=A.get(mn);if(!gn)return;const{onDragStart:wn}=be.current,Qn={activatorEvent:Xt,active:{id:mn,data:gn.data,rect:L}};uu.unstable_batchedUpdates(()=>{wn?.(Qn),ge(Ss.Initializing),te({type:Gt.DragStart,initialCoordinates:St,active:mn}),se({type:"onDragStart",event:Qn}),j(fn.current),me(Xt)})},onMove(St){te({type:Gt.DragMove,coordinates:St})},onEnd:Mn(Gt.DragEnd),onCancel:Mn(Gt.DragCancel)});fn.current=wt;function Mn(St){return async function(){const{active:gn,collisions:wn,over:Qn,scrollAdjustedTranslate:Sn}=tn.current;let Kn=null;if(gn&&Sn){const{cancelDrop:nn}=be.current;Kn={activatorEvent:Xt,active:gn,collisions:wn,delta:Sn,over:Qn},St===Gt.DragEnd&&typeof nn=="function"&&await Promise.resolve(nn(Kn))&&(St=Gt.DragCancel)}ae.current=null,uu.unstable_batchedUpdates(()=>{te({type:St}),ge(Ss.Uninitialized),Zs(null),j(null),me(null),fn.current=null;const nn=St===Gt.DragEnd?"onDragEnd":"onDragCancel";if(Kn){const An=be.current[nn];An?.(Kn),se({type:nn,event:Kn})}})}}},[A]),za=M.useCallback((ke,gt)=>(pt,Nt)=>{const dn=pt.nativeEvent,Xt=A.get(Nt);if(ae.current!==null||!Xt||dn.dndKit||dn.defaultPrevented)return;const wt={active:Xt};ke(pt,gt.options,wt)===!0&&(dn.dndKit={capturedBy:gt.sensor},ae.current=Nt,mt(pt,gt))},[A,mt]),dr=iV(b,za);hV(b),cr(()=>{Ue&&ce===Ss.Initializing&&ge(Ss.Initialized)},[Ue,ce]),M.useEffect(()=>{const{onDragMove:ke}=be.current,{active:gt,activatorEvent:pt,collisions:Nt,over:dn}=tn.current;if(!gt||!pt)return;const Xt={active:gt,activatorEvent:pt,collisions:Nt,delta:{x:li.x,y:li.y},over:dn};uu.unstable_batchedUpdates(()=>{ke?.(Xt),se({type:"onDragMove",event:Xt})})},[li.x,li.y]),M.useEffect(()=>{const{active:ke,activatorEvent:gt,collisions:pt,droppableContainers:Nt,scrollAdjustedTranslate:dn}=tn.current;if(!ke||ae.current==null||!gt||!dn)return;const{onDragOver:Xt}=be.current,wt=Nt.get(Js),Mn=wt&&wt.rect.current?{id:wt.id,rect:wt.rect.current,data:wt.data,disabled:wt.disabled}:null,St={active:ke,activatorEvent:gt,collisions:pt,delta:{x:dn.x,y:dn.y},over:Mn};uu.unstable_batchedUpdates(()=>{Zs(Mn),Xt?.(St),se({type:"onDragOver",event:St})})},[Js]),cr(()=>{tn.current={activatorEvent:re,active:x,activeNode:ve,collisionRect:Tn,collisions:fr,droppableRects:ne,draggableNodes:A,draggingNode:oi,draggingNodeRect:Nn,droppableContainers:V,over:Gn,scrollableAncestors:it,scrollAdjustedTranslate:li},L.current={initial:Nn,translated:Tn}},[x,ve,fr,Tn,A,oi,Nn,ne,V,Gn,it,li]),Z4({...Ie,delta:I,draggingRect:Tn,pointerCoordinates:$s,scrollableAncestors:it,scrollableAncestorRects:Fn});const ja=M.useMemo(()=>({active:x,activeNode:ve,activeNodeRect:Ue,activatorEvent:re,collisions:fr,containerNodeRect:ai,dragOverlay:Dt,draggableNodes:A,droppableContainers:V,droppableRects:ne,over:Gn,measureDroppableContainers:oe,scrollableAncestors:it,scrollableAncestorRects:Fn,measuringConfiguration:Y,measuringScheduled:pe,windowRect:dt}),[x,ve,Ue,re,fr,ai,Dt,A,V,ne,Gn,oe,it,Fn,Y,pe,dt]),ui=M.useMemo(()=>({activatorEvent:re,activators:dr,active:x,activeNodeRect:Ue,ariaDescribedById:{draggable:Ce},dispatch:te,draggableNodes:A,over:Gn,measureDroppableContainers:oe}),[re,dr,x,Ue,te,Ce,A,Gn,oe]);return In.createElement(KS.Provider,{value:ie},In.createElement(Jf.Provider,{value:ui},In.createElement(l1.Provider,{value:ja},In.createElement(u1.Provider,{value:Ht},p)),In.createElement(TV,{disabled:m?.restoreFocus===!1})),In.createElement(w4,{...m,hiddenTextDescribedById:Ce}));function mr(){const ke=_e?.autoScrollEnabled===!1,gt=typeof g=="object"?g.enabled===!1:g===!1,pt=he&&!ke&&!gt;return typeof g=="object"?{...g,enabled:pt}:{enabled:pt}}}),CV=M.createContext(null),YE="button",IV="Draggable";function xV(i){let{id:e,data:n,disabled:s=!1,attributes:o}=i;const u=rc(IV),{activators:h,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:b,draggableNodes:E,over:w}=M.useContext(Jf),{role:O=YE,roleDescription:F="draggable",tabIndex:G=0}=o??{},z=g?.id===e,te=M.useContext(z?u1:CV),[se,ie]=pf(),[ce,ge]=pf(),he=fV(h,e),R=ku(n);cr(()=>(E.set(e,{id:e,key:u,node:se,activatorNode:ce,data:R}),()=>{const I=E.get(e);I&&I.key===u&&E.delete(e)}),[E,e]);const A=M.useMemo(()=>({role:O,tabIndex:G,"aria-disabled":s,"aria-pressed":z&&O===YE?!0:void 0,"aria-roledescription":F,"aria-describedby":b.draggable}),[s,O,G,z,F,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:A,isDragging:z,listeners:s?void 0:he,node:se,over:w,setNodeRef:ie,setActivatorNodeRef:ge,transform:te}}function DV(){return M.useContext(l1)}const NV="Droppable",MV={timeout:25};function OV(i){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=i;const u=rc(NV),{active:h,dispatch:m,over:g,measureDroppableContainers:p}=M.useContext(Jf),b=M.useRef({disabled:n}),E=M.useRef(!1),w=M.useRef(null),O=M.useRef(null),{disabled:F,updateMeasurementsFor:G,timeout:z}={...MV,...o},te=ku(G??s),se=M.useCallback(()=>{if(!E.current){E.current=!0;return}O.current!=null&&clearTimeout(O.current),O.current=setTimeout(()=>{p(Array.isArray(te.current)?te.current:[te.current]),O.current=null},z)},[z]),ie=Wf({callback:se,disabled:F||!h}),ce=M.useCallback((A,I)=>{ie&&(I&&(ie.unobserve(I),E.current=!1),A&&ie.observe(A))},[ie]),[ge,he]=pf(ce),R=ku(e);return M.useEffect(()=>{!ie||!ge.current||(ie.disconnect(),E.current=!1,ie.observe(ge.current))},[ge,ie]),M.useEffect(()=>(m({type:Gt.RegisterDroppable,element:{id:s,key:u,disabled:n,node:ge,rect:w,data:R}}),()=>m({type:Gt.UnregisterDroppable,key:u,id:s})),[s]),M.useEffect(()=>{n!==b.current.disabled&&(m({type:Gt.SetDroppableDisabled,id:s,key:u,disabled:n}),b.current.disabled=n)},[s,u,n,m]),{active:h,rect:w,isOver:g?.id===s,node:ge,over:g,setNodeRef:he}}function hy(i,e,n){const s=i.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function VV(i,e){return i.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(i.length))}function Vh(i){return i!==null&&i>=0}function kV(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return!0}function PV(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const c1=i=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=i;const u=hy(e,s,n),h=e[o],m=u[o];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},kh={scaleX:1,scaleY:1},LV=i=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:h}=i;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const p=u[h];return p?{x:0,y:n<h?p.top+p.height-(m.top+m.height):p.top-m.top,...kh}:null}const g=UV(u,o,n);return o>n&&o<=h?{x:0,y:-m.height-g,...kh}:o<n&&o>=h?{x:0,y:m.height+g,...kh}:{x:0,y:0,...kh}};function UV(i,e,n){const s=i[e],o=i[e-1],u=i[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const h1="Sortable",f1=In.createContext({activeIndex:-1,containerId:h1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:c1,disabled:{draggable:!1,droppable:!1}});function zV(i){let{children:e,id:n,items:s,strategy:o=c1,disabled:u=!1}=i;const{active:h,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:b}=DV(),E=rc(h1,n),w=m.rect!==null,O=M.useMemo(()=>s.map(he=>typeof he=="object"&&"id"in he?he.id:he),[s]),F=h!=null,G=h?O.indexOf(h.id):-1,z=p?O.indexOf(p.id):-1,te=M.useRef(O),se=!kV(O,te.current),ie=z!==-1&&G===-1||se,ce=PV(u);cr(()=>{se&&F&&b(O)},[se,O,F,b]),M.useEffect(()=>{te.current=O},[O]);const ge=M.useMemo(()=>({activeIndex:G,containerId:E,disabled:ce,disableTransforms:ie,items:O,overIndex:z,useDragOverlay:w,sortedRects:VV(O,g),strategy:o}),[G,E,ce.draggable,ce.droppable,ie,O,z,g,w,o]);return In.createElement(f1.Provider,{value:ge},e)}const jV=i=>{let{id:e,items:n,activeIndex:s,overIndex:o}=i;return hy(n,s,o).indexOf(e)},BV=i=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:h,previousItems:m,previousContainerId:g,transition:p}=i;return!p||!s||m!==u&&o===h?!1:n?!0:h!==o&&e===g},qV={duration:200,easing:"ease"},d1="transform",HV=Lu.Transition.toString({property:d1,duration:0,easing:"linear"}),FV={roleDescription:"sortable"};function GV(i){let{disabled:e,index:n,node:s,rect:o}=i;const[u,h]=M.useState(null),m=M.useRef(n);return cr(()=>{if(!e&&n!==m.current&&s.current){const g=o.current;if(g){const p=ll(s.current,{ignoreTransform:!0}),b={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(b.x||b.y)&&h(b)}}n!==m.current&&(m.current=n)},[e,n,s,o]),M.useEffect(()=>{u&&h(null)},[u]),u}function YV(i){let{animateLayoutChanges:e=BV,attributes:n,disabled:s,data:o,getNewIndex:u=jV,id:h,strategy:m,resizeObserverConfig:g,transition:p=qV}=i;const{items:b,containerId:E,activeIndex:w,disabled:O,disableTransforms:F,sortedRects:G,overIndex:z,useDragOverlay:te,strategy:se}=M.useContext(f1),ie=QV(s,O),ce=b.indexOf(h),ge=M.useMemo(()=>({sortable:{containerId:E,index:ce,items:b},...o}),[E,o,ce,b]),he=M.useMemo(()=>b.slice(b.indexOf(h)),[b,h]),{rect:R,node:A,isOver:I,setNodeRef:V}=OV({id:h,data:ge,disabled:ie.droppable,resizeObserverConfig:{updateMeasurementsFor:he,...g}}),{active:D,activatorEvent:L,activeNodeRect:x,attributes:ae,setNodeRef:_e,listeners:j,isDragging:re,over:me,setActivatorNodeRef:be,transform:Ce}=xV({id:h,data:ge,attributes:{...FV,...n},disabled:ie.draggable}),C=c4(V,_e),Y=!!D,ne=Y&&!F&&Vh(w)&&Vh(z),oe=!te&&re,pe=oe&&ne?Ce:null,Ne=ne?pe??(m??se)({rects:G,activeNodeRect:x,activeIndex:w,overIndex:z,index:ce}):null,Ie=Vh(w)&&Vh(z)?u({id:h,items:b,activeIndex:w,overIndex:z}):ce,Ye=D?.id,Ue=M.useRef({activeId:Ye,items:b,newIndex:Ie,containerId:E}),ai=b!==Ue.current.items,tn=e({active:D,containerId:E,isDragging:re,isSorting:Y,id:h,index:ce,items:b,newIndex:Ue.current.newIndex,previousItems:Ue.current.items,previousContainerId:Ue.current.containerId,transition:p,wasDragging:Ue.current.activeId!=null}),Hn=GV({disabled:!tn,index:ce,node:A,rect:R});return M.useEffect(()=>{Y&&Ue.current.newIndex!==Ie&&(Ue.current.newIndex=Ie),E!==Ue.current.containerId&&(Ue.current.containerId=E),b!==Ue.current.items&&(Ue.current.items=b)},[Y,Ie,E,b]),M.useEffect(()=>{if(Ye===Ue.current.activeId)return;if(Ye!=null&&Ue.current.activeId==null){Ue.current.activeId=Ye;return}const oi=setTimeout(()=>{Ue.current.activeId=Ye},50);return()=>clearTimeout(oi)},[Ye]),{active:D,activeIndex:w,attributes:ae,data:ge,rect:R,index:ce,newIndex:Ie,items:b,isOver:I,isSorting:Y,isDragging:re,listeners:j,node:A,overIndex:z,over:me,setNodeRef:C,setActivatorNodeRef:be,setDroppableNodeRef:V,setDraggableNodeRef:_e,transform:Hn??Ne,transition:Dt()};function Dt(){if(Hn||ai&&Ue.current.newIndex===ce)return HV;if(!(oe&&!ay(L)||!p)&&(Y||tn))return Lu.Transition.toString({...p,property:d1})}}function QV(i,e){var n,s;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(n=i?.draggable)!=null?n:e.draggable,droppable:(s=i?.droppable)!=null?s:e.droppable}}function _f(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const KV=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],XV=(i,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:h,scrollableAncestors:m}}=e;if(KV.includes(i.code)){if(i.preventDefault(),!n||!s)return;const g=[];u.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const w=o.get(E.id);if(w)switch(i.code){case Ge.Down:s.top<w.top&&g.push(E);break;case Ge.Up:s.top>w.top&&g.push(E);break;case Ge.Left:s.left>w.left&&g.push(E);break;case Ge.Right:s.left<w.left&&g.push(E);break}});const p=C4({collisionRect:s,droppableRects:o,droppableContainers:g});let b=WS(p,"id");if(b===h?.id&&p.length>1&&(b=p[1].id),b!=null){const E=u.get(n.id),w=u.get(b),O=w?o.get(w.id):null,F=w?.node.current;if(F&&O&&E&&w){const z=$f(F).some((he,R)=>m[R]!==he),te=m1(E,w),se=$V(E,w),ie=z||!te?{x:0,y:0}:{x:se?s.width-O.width:0,y:se?s.height-O.height:0},ce={x:O.left,y:O.top};return ie.x&&ie.y?ce:Pu(ce,ie)}}}};function m1(i,e){return!_f(i)||!_f(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function $V(i,e){return!_f(i)||!_f(e)||!m1(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const Ph=43200,QE=1440,KE=Symbol.for("constructDateFrom");function fy(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&KE in i?i[KE](e):i instanceof Date?new i.constructor(e):new Date(e)}function Qs(i,e){return fy(i,i)}let WV={};function JV(){return WV}function XE(i){const e=Qs(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function dy(i,...e){const n=fy.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function Kh(i,e){const n=+Qs(i)-+Qs(e);return n<0?-1:n>0?1:n}function ZV(i){return fy(i,Date.now())}function e3(i,e,n){const[s,o]=dy(n?.in,i,e),u=s.getFullYear()-o.getFullYear(),h=s.getMonth()-o.getMonth();return u*12+h}function t3(i){return e=>{const s=(i?Math[i]:Math.trunc)(e);return s===0?0:s}}function n3(i,e){return+Qs(i)-+Qs(e)}function i3(i,e){const n=Qs(i);return n.setHours(23,59,59,999),n}function r3(i,e){const n=Qs(i),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function s3(i,e){const n=Qs(i);return+i3(n)==+r3(n)}function a3(i,e,n){const[s,o,u]=dy(n?.in,i,i,e),h=Kh(o,u),m=Math.abs(e3(o,u));if(m<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*m);let g=Kh(o,u)===-h;s3(s)&&m===1&&Kh(s,u)===1&&(g=!1);const p=h*(m-+g);return p===0?0:p}function o3(i,e,n){const s=n3(i,e)/1e3;return t3(n?.roundingMethod)(s)}const l3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u3=(i,e,n)=>{let s;const o=l3[i];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function zo(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const c3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d3={date:zo({formats:c3,defaultWidth:"full"}),time:zo({formats:h3,defaultWidth:"full"}),dateTime:zo({formats:f3,defaultWidth:"full"})},m3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g3=(i,e,n,s)=>m3[i];function tr(i){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const p3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T3=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},w3={ordinalNumber:T3,era:tr({values:p3,defaultWidth:"wide"}),quarter:tr({values:y3,defaultWidth:"wide",argumentCallback:i=>i-1}),month:tr({values:v3,defaultWidth:"wide"}),day:tr({values:_3,defaultWidth:"wide"}),dayPeriod:tr({values:b3,defaultWidth:"wide",formattingValues:E3,defaultFormattingWidth:"wide"})};function nr(i){return(e,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(m)?A3(m,E=>E.test(h)):S3(m,E=>E.test(h));let p;p=i.valueCallback?i.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const b=e.slice(h.length);return{value:p,rest:b}}}function S3(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function A3(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function g1(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const o=s[0],u=e.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const R3=/^(\d+)(th|st|nd|rd)?/i,C3=/\d+/i,I3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x3={any:[/^b/i,/^(a|c)/i]},D3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N3={any:[/1/i,/2/i,/3/i,/4/i]},M3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},O3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},L3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U3={ordinalNumber:g1({matchPattern:R3,parsePattern:C3,valueCallback:i=>parseInt(i,10)}),era:nr({matchPatterns:I3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any"}),quarter:nr({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any",valueCallback:i=>i+1}),month:nr({matchPatterns:M3,defaultMatchWidth:"wide",parsePatterns:O3,defaultParseWidth:"any"}),day:nr({matchPatterns:V3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any"}),dayPeriod:nr({matchPatterns:P3,defaultMatchWidth:"any",parsePatterns:L3,defaultParseWidth:"any"})},z3={code:"en-US",formatDistance:u3,formatLong:d3,formatRelative:g3,localize:w3,match:U3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function j3(i,e,n){const s=JV(),o=n?.locale??s.locale??z3,u=2520,h=Kh(i,e);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:h}),[g,p]=dy(n?.in,...h>0?[e,i]:[i,e]),b=o3(p,g),E=(XE(p)-XE(g))/1e3,w=Math.round((b-E)/60);let O;if(w<2)return n?.includeSeconds?b<5?o.formatDistance("lessThanXSeconds",5,m):b<10?o.formatDistance("lessThanXSeconds",10,m):b<20?o.formatDistance("lessThanXSeconds",20,m):b<40?o.formatDistance("halfAMinute",0,m):b<60?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",1,m):w===0?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",w,m);if(w<45)return o.formatDistance("xMinutes",w,m);if(w<90)return o.formatDistance("aboutXHours",1,m);if(w<QE){const F=Math.round(w/60);return o.formatDistance("aboutXHours",F,m)}else{if(w<u)return o.formatDistance("xDays",1,m);if(w<Ph){const F=Math.round(w/QE);return o.formatDistance("xDays",F,m)}else if(w<Ph*2)return O=Math.round(w/Ph),o.formatDistance("aboutXMonths",O,m)}if(O=a3(p,g),O<12){const F=Math.round(w/Ph);return o.formatDistance("xMonths",F,m)}else{const F=O%12,G=Math.trunc(O/12);return F<3?o.formatDistance("aboutXYears",G,m):F<9?o.formatDistance("overXYears",G,m):o.formatDistance("almostXYears",G+1,m)}}function B3(i,e){return j3(i,ZV(i),e)}const $E={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},q3=(i,e,n)=>{let s;const o=n?.addSuffix?$E[i].withPreposition:$E[i].standalone;return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:"vor "+s:s},H3={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},F3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},G3={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Y3={date:zo({formats:H3,defaultWidth:"full"}),time:zo({formats:F3,defaultWidth:"full"}),dateTime:zo({formats:G3,defaultWidth:"full"})},Q3={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},K3=(i,e,n,s)=>Q3[i],X3={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},$3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},Zg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},W3={narrow:Zg.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:Zg.wide},J3={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},Z3={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},ek={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},tk=i=>Number(i)+".",nk={ordinalNumber:tk,era:tr({values:X3,defaultWidth:"wide"}),quarter:tr({values:$3,defaultWidth:"wide",argumentCallback:i=>i-1}),month:tr({values:Zg,formattingValues:W3,defaultWidth:"wide"}),day:tr({values:J3,defaultWidth:"wide"}),dayPeriod:tr({values:Z3,defaultWidth:"wide",formattingValues:ek,defaultFormattingWidth:"wide"})},ik=/^(\d+)(\.)?/i,rk=/\d+/i,sk={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},ak={any:[/^v/i,/^n/i]},ok={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},lk={any:[/1/i,/2/i,/3/i,/4/i]},uk={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},ck={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hk={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},fk={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},dk={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},mk={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},gk={ordinalNumber:g1({matchPattern:ik,parsePattern:rk,valueCallback:i=>parseInt(i)}),era:nr({matchPatterns:sk,defaultMatchWidth:"wide",parsePatterns:ak,defaultParseWidth:"any"}),quarter:nr({matchPatterns:ok,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any",valueCallback:i=>i+1}),month:nr({matchPatterns:uk,defaultMatchWidth:"wide",parsePatterns:ck,defaultParseWidth:"any"}),day:nr({matchPatterns:hk,defaultMatchWidth:"wide",parsePatterns:fk,defaultParseWidth:"any"}),dayPeriod:nr({matchPatterns:dk,defaultMatchWidth:"wide",parsePatterns:mk,defaultParseWidth:"any"})},pk={code:"de",formatDistance:q3,formatLong:Y3,formatRelative:K3,localize:nk,match:gk,options:{weekStartsOn:1,firstWeekContainsDate:4}};function yk({request:i,onAccept:e,onReject:n,onBan:s,isDragMode:o,forbiddenWords:u}){const[h,m]=M.useState(!1),{attributes:g,listeners:p,setNodeRef:b,transform:E,transition:w}=YV({id:i.id,disabled:!o}),O={transform:Lu.Transform.toString(E),transition:w},F=u.some(z=>i.title.toLowerCase().includes(z.toLowerCase())||i.artist.toLowerCase().includes(z.toLowerCase())),G=()=>{navigator.clipboard.writeText(i.spotifyUrl)};return P.jsxs("div",{ref:b,style:O,className:`bg-gray-800 p-4 rounded-lg flex items-center gap-4 mb-3 border border-gray-700 ${i.status==="rejected"?"opacity-50":""}`,children:[o&&P.jsx("div",{...g,...p,className:"cursor-grab text-gray-500 hover:text-white",children:P.jsx(TC,{})}),P.jsxs("div",{className:"relative group",children:[P.jsx("img",{src:i.coverUrl,alt:"Cover",className:`w-16 h-16 rounded object-cover transition-all ${F&&!h?"blur-md":""}`}),F&&!h&&P.jsx("button",{onClick:()=>m(!0),className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded text-[10px] font-bold uppercase tracking-wider opacity-0 group-hover:opacity-100 transition-opacity",children:"Anzeigen"}),(i.voteCount||0)>0&&P.jsxs("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black text-xs font-bold px-1.5 py-0.5 rounded-full flex items-center gap-0.5 shadow-sm border border-yellow-600 z-10",title:`${i.voteCount} Personen wnschen sich das`,children:[P.jsx(rp,{size:10})," ",i.voteCount]})]}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h3",{className:`font-bold text-white truncate transition-all ${F&&!h?"blur-sm select-none":""}`,children:i.title}),P.jsx("p",{className:`text-gray-400 truncate transition-all ${F&&!h?"blur-sm select-none":""}`,children:i.artist}),P.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[P.jsx(Eg,{size:12}),B3(i.timestamp,{addSuffix:!0,locale:pk}),F&&P.jsx("span",{className:"bg-red-900/50 text-red-400 px-1.5 py-0.5 rounded text-[10px] font-bold ml-2",children:"FILTER TREFFER"})]})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-700 rounded text-blue-400",title:"Link kopieren",children:P.jsx(dT,{size:20})}),i.status!=="accepted"&&P.jsx("button",{onClick:()=>e(i.id),className:"p-2 hover:bg-gray-700 rounded text-green-500",title:"Akzeptieren",children:P.jsx(hC,{size:20})}),i.status!=="rejected"&&P.jsx("button",{onClick:()=>n(i.id,i.title,i.spotifyUrl),className:"p-2 hover:bg-gray-700 rounded text-red-500",title:"Ablehnen & Blockieren",children:P.jsx(Tg,{size:20})}),P.jsx("button",{onClick:()=>s(i.senderUid,i.title,i.id),className:"p-2 hover:bg-gray-700 rounded text-red-600",title:"Gert sperren (UID)",children:P.jsx(mT,{size:20})})]})]})}function vk(){const[i,e]=M.useState([]),[n,s]=M.useState([]),[o,u]=M.useState([]),[h,m]=M.useState([]),[g,p]=M.useState([]),[b,E]=M.useState("queue"),[w,O]=M.useState(!1),[F,G]=M.useState(!1),[z,te]=M.useState(""),[se,ie]=M.useState(!1),[ce,ge]=M.useState("date"),he=S4(VE(cy),VE(ly,{coordinateGetter:XV})),R=[...i].sort((ae,_e)=>{if(ce==="votes"){const j=(_e.voteCount||0)-(ae.voteCount||0);if(j!==0)return j}return _e.timestamp-ae.timestamp});M.useEffect(()=>{const ae=_e=>{if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;const j=R[0];!j||b!=="queue"||(_e.key==="a"||_e.key==="A"?I(j.id):_e.key==="d"||_e.key==="D"?V(j.id,j.title,j.spotifyUrl):(_e.key==="b"||_e.key==="B")&&D(j.senderUid,j.title,j.id))};return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},[R,b]),M.useEffect(()=>{const ae=XO(be=>{w||e(be)}),_e=WO(be=>{s(be)}),j=JO(be=>{u(be)}),re=r4(be=>{m(be)}),me=ZO(be=>{p(be)});return()=>{ae(),_e(),j(),re(),me()}},[w]);const A=ae=>{const{active:_e,over:j}=ae;j&&_e.id!==j.id&&e(re=>{const me=re.findIndex(Ce=>Ce.id===_e.id),be=re.findIndex(Ce=>Ce.id===j.id);return hy(re,me,be)})},I=async ae=>{await dg(ae,"accepted")},V=async(ae,_e,j)=>{confirm(`Mchtest du "${_e}" wirklich ablehnen und fr die Zukunft blockieren?`)&&(await dg(ae,"rejected"),await o4(j,_e,"Manually rejected by DJ"))},D=async(ae,_e,j)=>{confirm(`Mchtest du das Gert, das "${_e}" gesendet hat, komplett sperren? Der Wunsch wird sofort gelscht.`)&&(await n4(ae),await dg(j,"rejected"))},L=async ae=>{await a4(ae)},x=async ae=>{ae.preventDefault(),z.trim()&&(await e4(z),te(""))};return P.jsxs("div",{className:"min-h-screen text-white p-6",children:[P.jsxs("header",{className:"flex justify-between items-center mb-8 max-w-5xl mx-auto",children:[P.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:"DJ Dashboard"}),P.jsxs("div",{className:"flex gap-4",children:[P.jsxs("div",{className:"relative group",children:[P.jsxs("button",{className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 flex items-center gap-2 font-medium",children:[P.jsx(oC,{size:18})," ",ce==="date"?"Neueste":"Beliebteste"]}),P.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-800 border border-gray-700 rounded shadow-xl overflow-hidden hidden group-hover:block z-50",children:[P.jsxs("button",{onClick:()=>ge("date"),className:`w-full text-left px-4 py-2 hover:bg-gray-700 flex items-center gap-2 ${ce==="date"?"text-blue-400 font-bold":"text-gray-300"}`,children:[P.jsx(Eg,{size:16})," Neueste zuerst"]}),P.jsxs("button",{onClick:()=>ge("votes"),className:`w-full text-left px-4 py-2 hover:bg-gray-700 flex items-center gap-2 ${ce==="votes"?"text-blue-400 font-bold":"text-gray-300"}`,children:[P.jsx(rp,{size:16})," Meiste Stimmen"]})]})]}),P.jsx("button",{onClick:()=>O(!w),disabled:ce==="votes",className:`px-4 py-2 rounded font-bold transition-colors ${ce==="votes"?"opacity-50 cursor-not-allowed bg-gray-700":w?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,title:ce==="votes"?"Drag & Drop im Voting-Modus deaktiviert":"",children:w?"Drag & Drop: AN":"Drag & Drop Starten"}),P.jsx("button",{onClick:()=>G(!F),className:"p-2 bg-gray-700 rounded hover:bg-gray-600",children:P.jsx(MC,{})})]})]}),P.jsxs("div",{className:"max-w-5xl mx-auto flex gap-4 mb-6 border-b border-gray-800 pb-2",children:[P.jsxs("button",{onClick:()=>E("queue"),className:`flex items-center gap-2 px-4 py-2 rounded-t transition-all ${b==="queue"?"border-b-2 border-blue-500 text-blue-400 bg-gray-800/50":"text-gray-500 hover:text-white"}`,children:[P.jsx(Eg,{size:18})," Warteschlange"]}),P.jsxs("button",{onClick:()=>E("archive"),className:`flex items-center gap-2 px-4 py-2 rounded-t transition-all ${b==="archive"?"border-b-2 border-purple-500 text-purple-400 bg-gray-800/50":"text-gray-500 hover:text-white"}`,children:[P.jsx(sC,{size:18})," Archiv (Gespielt)"]})]}),F&&P.jsxs("div",{className:"max-w-5xl mx-auto mb-8 bg-gray-800 p-6 rounded border border-gray-700 shadow-2xl animate-in fade-in slide-in-from-top-4",children:[P.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(uC,{className:"text-red-500"})," Auto-Reject Filter"]}),P.jsxs("button",{onClick:()=>ie(!se),className:"text-xs flex items-center gap-1 text-gray-400 hover:text-white bg-gray-700 px-2 py-1 rounded",children:[se?P.jsx(vC,{size:14}):P.jsx(bC,{size:14})," ",se?"Verstecken":"Anzeigen"]})]}),P.jsxs("form",{onSubmit:x,className:"flex gap-2 mb-4",children:[P.jsx("input",{type:"text",className:"flex-1 bg-gray-900 border border-gray-700 rounded p-2 text-white",placeholder:"Neues verbotenes Wort hinzufgen...",value:z,onChange:ae=>te(ae.target.value)}),P.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-500 px-4 rounded font-bold text-sm transition-colors",children:"Hinzufgen"})]}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:g.length===0?P.jsx("p",{className:"text-sm text-gray-500 italic",children:"Keine Filter definiert."}):g.map(ae=>P.jsxs("div",{className:"flex items-center gap-2 bg-gray-700 px-3 py-1 rounded-full group",children:[P.jsx("span",{className:`text-sm ${se?"":"blur-sm select-none"}`,children:ae}),P.jsx("button",{onClick:()=>t4(ae),className:"text-gray-400 hover:text-red-500",children:P.jsx(Tg,{size:14})})]},ae))}),P.jsxs("div",{className:"pt-6 border-t border-gray-700",children:[P.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[P.jsx(fT,{className:"text-red-500"})," Abgelehnte Songs (Blacklist)"]}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:o.length===0?P.jsx("p",{className:"text-sm text-gray-500 italic",children:"Keine manuell abgelehnten Songs."}):o.map(ae=>P.jsxs("div",{className:"flex items-center gap-2 bg-red-900/40 border border-red-500/50 px-3 py-1.5 rounded-full",children:[P.jsx("span",{className:"text-sm font-medium text-red-200",children:ae.title}),P.jsx("button",{onClick:()=>l4(ae.id),className:"text-red-400 hover:text-white",children:P.jsx(Tg,{size:16})})]},ae.id))})]}),P.jsxs("div",{className:"pt-6 border-t border-gray-700",children:[P.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[P.jsx(mT,{className:"text-red-600"})," Gesperrte Gerte (UIDs)"]}),P.jsx("div",{className:"flex flex-col gap-2",children:h.length===0?P.jsx("p",{className:"text-sm text-gray-500 italic",children:"Keine gesperrten Gerte."}):h.map(ae=>P.jsxs("div",{className:"flex items-center justify-between bg-gray-900 border border-red-500/30 p-3 rounded-lg group",children:[P.jsxs("div",{className:"flex flex-col",children:[P.jsx("span",{className:"text-xs font-mono text-red-200",children:ae.uid}),P.jsxs("span",{className:"text-[10px] text-gray-500",children:["Gesperrt am: ",new Date(ae.bannedAt).toLocaleString("de-DE")]})]}),P.jsx("button",{onClick:()=>i4(ae.uid),className:"p-2 text-gray-500 hover:text-white hover:bg-red-600 rounded transition-all",title:"Gert entsperren",children:P.jsx(eb,{size:16})})]},ae.uid))})]})]}),P.jsx("div",{className:"max-w-5xl mx-auto",children:b==="queue"?P.jsx(RV,{sensors:he,collisionDetection:R4,onDragEnd:A,children:P.jsx(zV,{items:R.map(ae=>ae.id),strategy:LV,children:R.length===0?P.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Keine offenen Wnsche."}):R.map(ae=>P.jsx(yk,{request:ae,onAccept:I,onReject:V,onBan:D,isDragMode:w&&ce==="date",forbiddenWords:g},ae.id))})}):P.jsx("div",{className:"grid gap-3",children:n.length===0?P.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Noch keine gespielten Songs."}):n.map(ae=>P.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg flex items-center gap-4 border border-gray-700",children:[P.jsx("img",{src:ae.coverUrl,alt:"Cover",className:"w-16 h-16 rounded object-cover grayscale opacity-50"}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h3",{className:"font-bold text-gray-300 truncate",children:ae.title}),P.jsx("p",{className:"text-gray-500 truncate",children:ae.artist}),P.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Gespielt am ",ae.playedAt?new Date(ae.playedAt).toLocaleTimeString("de-DE"):"Unbekannt"]})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("button",{onClick:()=>navigator.clipboard.writeText(ae.spotifyUrl),className:"p-2 hover:bg-gray-700 rounded text-blue-400",title:"Link kopieren",children:P.jsx(dT,{size:20})}),P.jsx("button",{onClick:()=>L(ae.id),className:"p-2 hover:bg-gray-700 rounded text-purple-400",title:"Wiederherstellen",children:P.jsx(eb,{size:20})})]})]},ae.id))})})]})}function _k(){const[i,e]=M.useState(!1),[n,s]=M.useState(""),[o,u]=M.useState(!1),h=M.useRef(null),m=oT();M.useEffect(()=>{const p=E=>{E.key==="6"&&!h.current&&!i&&(h.current=window.setTimeout(()=>{e(!0)},2e3))},b=E=>{E.key==="6"&&h.current&&(clearTimeout(h.current),h.current=null)};return window.addEventListener("keydown",p),window.addEventListener("keyup",b),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",b),h.current&&clearTimeout(h.current)}},[i]);const g=p=>{p.preventDefault(),n==="BT_2025!"?(sessionStorage.setItem("dj_auth","true"),e(!1),s(""),u(!1),m("/dj-dashboard")):u(!0)};return i?P.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg w-full max-w-sm",children:[P.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"DJ Access"}),P.jsxs("form",{onSubmit:g,className:"space-y-4",children:[P.jsx("input",{type:"password",name:"password",autoComplete:"current-password",value:n,onChange:p=>s(p.target.value),placeholder:"Access Code",className:"w-full bg-gray-700 text-white px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),o&&P.jsx("p",{className:"text-red-500 text-sm",children:"Falscher Code!"}),P.jsxs("div",{className:"flex justify-end gap-2",children:[P.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Abbrechen"}),P.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Login"})]})]})]})}):null}function bk({children:i}){return sessionStorage.getItem("dj_auth")==="true"?P.jsx(P.Fragment,{children:i}):P.jsx(QR,{to:"/",replace:!0})}function Ek(){return P.jsxs(JR,{children:[P.jsx(_k,{}),P.jsxs(XR,{children:[P.jsx(_g,{path:"/",element:P.jsx(u4,{})}),P.jsx(_g,{path:"/dj-dashboard",element:P.jsx(bk,{children:P.jsx(vk,{})})})]})]})}IM(ty).catch(i=>console.error("Auth error:",i));class Tk extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?P.jsxs("div",{style:{padding:"2rem",color:"white",backgroundColor:"#333"},children:[P.jsx("h1",{children:"Ein Fehler ist aufgetreten."}),P.jsx("p",{children:"Bitte berprfe die Konsole (F12) fr Details."}),P.jsx("pre",{style:{color:"red",overflow:"auto"},children:this.state.error?.toString()}),P.jsxs("p",{children:["Mgliche Ursache: Fehlende Firebase-Konfiguration in ",P.jsx("code",{children:"src/firebase.ts"}),"."]})]}):this.props.children}}iR.createRoot(document.getElementById("root")).render(P.jsx(M.StrictMode,{children:P.jsx(Tk,{children:P.jsx(Ek,{})})}));
